window.Modernizr=function(window,document,undefined){function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+";")+(str2||""))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined)return"pfx"!=prefixed||prop}return!1}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined)return!1===elem?props[i]:is(item,"function")?item.bind(elem||obj):item}return!1}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed):(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),testDOMProps(props,prefixed,elem))}function webforms(){Modernizr.input=function(props){for(var i=0,len=props.length;i<len;i++)attrs[props[i]]=!!(props[i]in inputElem);return attrs.list&&(attrs.list=!(!document.createElement("datalist")||!window.HTMLDataListElement)),attrs}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),Modernizr.inputtypes=function(props){for(var bool,inputElemType,defaultView,i=0,len=props.length;i<len;i++)inputElem.setAttribute("type",inputElemType=props[i]),bool="text"!==inputElem.type,bool&&(inputElem.value=smile,inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),defaultView=document.defaultView,bool=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(inputElemType)||(bool=/^(url|email)$/.test(inputElemType)?inputElem.checkValidity&&!1===inputElem.checkValidity():inputElem.value!=smile)),inputs[props[i]]=!!bool;return inputs}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var featureName,hasOwnProp,version="2.7.1",Modernizr={},enableClasses=!0,docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement("input"),smile=":)",toString={}.toString,prefixes=" -webkit- -moz- -o- -ms- ".split(" "),omPrefixes="Webkit Moz O ms",cssomPrefixes=omPrefixes.split(" "),domPrefixes=omPrefixes.toLowerCase().split(" "),ns={"svg":"http://www.w3.org/2000/svg"},tests={},inputs={},attrs={},classes=[],slice=classes.slice,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement("div"),body=document.body,fakeBody=body||document.createElement("body");if(parseInt(nodes,10))for(;nodes--;)node=document.createElement("div"),node.id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=["&#173;",'<style id="s',mod,'">',rule,"</style>"].join(""),div.id=mod,(body?div:fakeBody).innerHTML+=style,fakeBody.appendChild(div),body||(fakeBody.style.background="",fakeBody.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(fakeBody)),ret=callback(div,rule),body?div.parentNode.removeChild(div):(fakeBody.parentNode.removeChild(fakeBody),docElement.style.overflow=docOverflow),!!ret},isEventSupported=function(){function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div"),eventName="on"+eventName;var isSupported=eventName in element;return isSupported||(element.setAttribute||(element=document.createElement("div")),element.setAttribute&&element.removeAttribute&&(element.setAttribute(eventName,""),isSupported=is(element[eventName],"function"),is(element[eventName],"undefined")||(element[eventName]=undefined),element.removeAttribute(eventName))),element=null,isSupported}var TAGNAMES={"select":"input","change":"input","submit":"form","reset":"form","error":"img","load":"img","abort":"img"};return isEventSupported}(),_hasOwnProperty={}.hasOwnProperty;hasOwnProp=is(_hasOwnProperty,"undefined")||is(_hasOwnProperty.call,"undefined")?function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}:function(object,property){return _hasOwnProperty.call(object,property)},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError;var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(slice.call(arguments)))};return bound}),tests.flexbox=function(){return testPropsAll("flexWrap")},tests.canvas=function(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))},tests.canvastext=function(){return!(!Modernizr.canvas||!is(document.createElement("canvas").getContext("2d").fillText,"function"))},tests.webgl=function(){return!!window.WebGLRenderingContext},tests.touch=function(){var bool;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?bool=!0:injectElementWithStyles(["@media (",prefixes.join("touch-enabled),("),mod,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(node){bool=9===node.offsetTop}),bool},tests.geolocation=function(){return"geolocation"in navigator},tests.postmessage=function(){return!!window.postMessage},tests.websqldatabase=function(){return!!window.openDatabase},tests.indexedDB=function(){return!!testPropsAll("indexedDB",window)},tests.hashchange=function(){return isEventSupported("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)},tests.history=function(){return!(!window.history||!history.pushState)},tests.draganddrop=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div},tests.websockets=function(){return"WebSocket"in window||"MozWebSocket"in window},tests.rgba=function(){return setCss("background-color:rgba(150,255,150,.5)"),contains(mStyle.backgroundColor,"rgba")},tests.hsla=function(){return setCss("background-color:hsla(120,40%,100%,.5)"),contains(mStyle.backgroundColor,"rgba")||contains(mStyle.backgroundColor,"hsla")},tests.multiplebgs=function(){return setCss("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(mStyle.background)},tests.backgroundsize=function(){return testPropsAll("backgroundSize")},tests.borderimage=function(){return testPropsAll("borderImage")},tests.borderradius=function(){return testPropsAll("borderRadius")},tests.boxshadow=function(){return testPropsAll("boxShadow")},tests.textshadow=function(){return""===document.createElement("div").style.textShadow},tests.opacity=function(){return setCssAll("opacity:.55"),/^0.55$/.test(mStyle.opacity)},tests.cssanimations=function(){return testPropsAll("animationName")},tests.csscolumns=function(){return testPropsAll("columnCount")},tests.cssgradients=function(){var str1="background-image:";return setCss((str1+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+str1)+prefixes.join("linear-gradient(left top,#9f9, white);"+str1)).slice(0,-str1.length)),contains(mStyle.backgroundImage,"gradient")},tests.cssreflections=function(){return testPropsAll("boxReflect")},tests.csstransforms=function(){return!!testPropsAll("transform")},tests.csstransforms3d=function(){var ret=!!testPropsAll("perspective");return ret&&"webkitPerspective"in docElement.style&&injectElementWithStyles("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(node){ret=9===node.offsetLeft&&3===node.offsetHeight}),ret},tests.csstransitions=function(){return testPropsAll("transition")},tests.fontface=function(){var bool;return injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}',function(node,rule){var style=document.getElementById("smodernizr"),sheet=style.sheet||style.styleSheet,cssText=sheet?sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||"":"";bool=/src/i.test(cssText)&&0===cssText.indexOf(rule.split(" ")[0])}),bool},tests.generatedcontent=function(){var bool;return injectElementWithStyles(["#",mod,"{font:0/0 a}#",mod,':after{content:"',smile,'";visibility:hidden;font:3px/1 a}'].join(""),function(node){bool=node.offsetHeight>=3}),bool},tests.video=function(){var elem=document.createElement("video"),bool=!1;try{(bool=!!elem.canPlayType)&&(bool=new Boolean(bool),bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return bool},tests.audio=function(){var elem=document.createElement("audio"),bool=!1;try{(bool=!!elem.canPlayType)&&(bool=new Boolean(bool),bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),bool.mp3=elem.canPlayType("audio/mpeg;").replace(/^no$/,""),bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),bool.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return bool},tests.localstorage=function(){try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}},tests.sessionstorage=function(){try{return sessionStorage.setItem(mod,mod),sessionStorage.removeItem(mod),!0}catch(e){return!1}},tests.webworkers=function(){return!!window.Worker},tests.applicationcache=function(){return!!window.applicationCache},tests.svg=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,"svg").createSVGRect},tests.inlinesvg=function(){var div=document.createElement("div");return div.innerHTML="<svg/>",(div.firstChild&&div.firstChild.namespaceURI)==ns.svg},tests.smil=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,"animate")))},tests.svgclippaths=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,"clipPath")))};for(var feature in tests)hasOwnProp(tests,feature)&&(featureName=feature.toLowerCase(),Modernizr[featureName]=tests[feature](),classes.push((Modernizr[featureName]?"":"no-")+featureName));return Modernizr.input||webforms(),Modernizr.addTest=function(feature,test){if("object"==typeof feature)for(var key in feature)hasOwnProp(feature,key)&&Modernizr.addTest(key,feature[key]);else{if(feature=feature.toLowerCase(),Modernizr[feature]!==undefined)return Modernizr;test="function"==typeof test?test():test,void 0!==enableClasses&&enableClasses&&(docElement.className+=" "+(test?"":"no-")+feature),Modernizr[feature]=test}return Modernizr},setCss(""),modElem=inputElem=null,function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,version="3.7.0",options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return"undefined"==typeof frag.cloneNode||"undefined"==typeof frag.createDocumentFragment||"undefined"==typeof frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={"elements":options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video","version":version,"shivCSS":!1!==options.shivCSS,"supportsUnknownElements":supportsUnknownElements,"shivMethods":!1!==options.shivMethods,"type":"default","shivDocument":shivDocument,"createElement":createElement,"createDocumentFragment":createDocumentFragment};window.html5=html5,shivDocument(document)}(this,document),Modernizr._version=version,Modernizr._prefixes=prefixes,Modernizr._domPrefixes=domPrefixes,Modernizr._cssomPrefixes=cssomPrefixes,Modernizr.hasEvent=isEventSupported,Modernizr.testProp=function(prop){return testProps([prop])},Modernizr.testAllProps=testPropsAll,Modernizr.testStyles=injectElementWithStyles,Modernizr.prefixed=function(prop,obj,elem){return obj?testPropsAll(prop,obj,elem):testPropsAll(prop,"pfx")},docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(enableClasses?" js "+classes.join(" "):""),Modernizr}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={"t":d,"s":c,"e":f,"a":i,"x":j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={"load":j,"i":0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={"timeout":function(a,b){return b.length&&(a.timeout=b[0]),a}};B=function(a){function b(a){var e,f,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={"url":c,"origUrl":c,"prefixes":a};for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("placeholder",function(){return!!("placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea")))}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"!==c&&!m.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c)}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{"toJSON":m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?null==(f=g[b])&&(f=g[m.camelCase(b)]):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}function La(a,b){return{"get":function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ua(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;e--;)if((b=Ta[e]+c)in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={"height":a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),"inline"===("none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j)&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=m.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({"elem":a,"props":m.extend({},b),"opts":m.extend(!0,{"specialEasing":{}},c),"originalProperties":b,"originalOptions":c,"startTime":$a||fb(),"duration":c.duration,"tweens":[],"createTween":function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},"stop":function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{"elem":a,"anim":j,"queue":j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Ib;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{"state":"parsererror","error":g?l:"No conversion from "+i+" to "+f}}}return{"state":"success","data":b}}function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function dc(a){return m.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={"jquery":l,"constructor":m,"selector":"","length":0,"toArray":function(){return d.call(this)},"get":function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},"pushStack":function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},"each":function(a,b){return m.each(this,a,b)},"map":function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},"slice":function(){return this.pushStack(d.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},"end":function(){return this.prevObject||this.constructor(null)},"push":f,"sort":c.sort,"splice":c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({"expando":"jQuery"+(l+Math.random()).replace(/\D/g,""),"isReady":!0,"error":function(a){throw new Error(a)},"noop":function(){},"isFunction":function(a){return"function"===m.type(a)},"isArray":Array.isArray||function(a){return"array"===m.type(a)},"isWindow":function(a){return null!=a&&a==a.window},"isNumeric":function(a){
return!m.isArray(a)&&a-parseFloat(a)+1>=0},"isEmptyObject":function(a){var b;for(b in a)return!1;return!0},"isPlainObject":function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},"type":function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},"globalEval":function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},"camelCase":function(a){return a.replace(o,"ms-").replace(p,q)},"nodeName":function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},"each":function(a,b,c){var e=0,f=a.length,g=r(a);if(c){if(g)for(;f>e&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;f>e&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},"trim":function(a){return null==a?"":(a+"").replace(n,"")},"makeArray":function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},"inArray":function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},"merge":function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},"grep":function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},"map":function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)null!=(d=b(a[f],f,c))&&i.push(d);else for(f in a)null!=(d=b(a[f],f,c))&&i.push(d);return e.apply([],i)},"guid":1,"proxy":function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},"now":function(){return+new Date},"support":k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var s=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(!(h=b.getElementById(j))||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function qa(){}function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({"value":" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={"ID":new RegExp("^#("+M+")"),"CLASS":new RegExp("^\\.("+M+")"),"TAG":new RegExp("^("+M.replace("w","w*")+")"),"ATTR":new RegExp("^"+O),"PSEUDO":new RegExp("^"+P),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),"bool":new RegExp("^(?:"+K+")$","i"),"needsContext":new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={"apply":E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={"cacheLength":50,"createPseudo":ia,"match":X,"attrHandle":{},"find":{},"relative":{">":{"dir":"parentNode","first":!0}," ":{"dir":"parentNode"},"+":{"dir":"previousSibling","first":!0},"~":{"dir":"previousSibling"}},"preFilter":{"ATTR":function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},"CHILD":function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},"PSEUDO":function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},"filter":{"TAG":function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},"CLASS":function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},"ATTR":function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},"CHILD":function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},"PSEUDO":function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},"pseudos":{"not":ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),"has":ia(function(a){return function(b){return ga(a,b).length>0}}),"contains":ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),"lang":ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),"target":function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},"root":function(a){return a===o},"focus":function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},"enabled":function(a){return!1===a.disabled},"disabled":function(a){return!0===a.disabled},"checked":function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},"selected":function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},"empty":function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},"parent":function(a){return!d.pseudos.empty(a)},"header":function(a){return Z.test(a.nodeName)},"input":function(a){return Y.test(a.nodeName)},"button":function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},"text":function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},"first":oa(function(){return[0]}),"last":oa(function(a,b){return[b-1]}),"eq":oa(function(a,b,c){return[0>c?c+b:c]}),"even":oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),"odd":oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),"lt":oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),"gt":oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{"radio":!0,"checkbox":!0,"file":!0,"password":!0,"image":!0})d.pseudos[b]=ma(b);for(b in{"submit":!0,"reset":!0})d.pseudos[b]=na(b);return qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({"value":c,"type":e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({"value":c,"type":g,"matches":e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(!(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0]))return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),!(a=f.length&&ra(j)))return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({"find":function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},"filter":function(a){return this.pushStack(w(this,a||[],!1))},"not":function(a){return this.pushStack(w(this,a||[],!0))},"is":function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a))||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=y.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))}).prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={"children":!0,"contents":!0,"next":!0,"prev":!0};m.extend({"dir":function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},"sibling":function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({"has":function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},"closest":function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},"index":function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},"add":function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},"addBack":function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),m.each({"parent":function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},"parents":function(a){return m.dir(a,"parentNode")},"parentsUntil":function(a,b,c){return m.dir(a,"parentNode",c)},"next":function(a){return D(a,"nextSibling")},"prev":function(a){return D(a,"previousSibling")},"nextAll":function(a){return m.dir(a,"nextSibling")},"prevAll":function(a){return m.dir(a,"previousSibling")},"nextUntil":function(a,b,c){return m.dir(a,"nextSibling",c)},"prevUntil":function(a,b,c){return m.dir(a,"previousSibling",c)},"siblings":function(a){return m.sibling((a.parentNode||{}).firstChild,a)},"children":function(a){return m.sibling(a.firstChild)},"contents":function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(!1===h[f].apply(l[0],l[1])&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={"add":function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},"remove":function(){return h&&m.each(arguments,function(a,c){for(var d;(d=m.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},"has":function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},"empty":function(){return h=[],e=0,this},"disable":function(){return h=i=c=void 0,this},"disabled":function(){return!h},"lock":function(){return i=void 0,c||k.disable(),this},"locked":function(){return!i},"fireWith":function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},"fire":function(){return k.fireWith(this,arguments),this},"fired":function(){return!!d}};return k},m.extend({"Deferred":function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={"state":function(){return c},"always":function(){return e.done(arguments).fail(arguments),this},"then":function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},"promise":function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},"when":function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({"isReady":!1,"readyWait":1,"holdReady":function(a){a?m.readyWait++:m.ready(!0)},"ready":function(a){if(!0===a?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,!0!==a&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}}),m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var L,K="undefined";for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;(c=y.getElementsByTagName("body")[0])&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;m.extend({"cache":{},"noData":{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},"hasData":function(a){return!!(a=a.nodeType?m.cache[a[m.expando]]:a[m.expando])&&!P(a)},"data":function(a,b,c){return Q(a,b,c)},"removeData":function(a,b){return R(a,b)},"_data":function(a,b,c){return Q(a,b,c,!0)},"_removeData":function(a,b){return R(a,b,!0)}}),m.fn.extend({"data":function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},"removeData":function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({"queue":function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},"dequeue":function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},"_queueHooks":function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{"empty":m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({"queue":function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},"dequeue":function(a){return this.each(function(){m.dequeue(this,a)})},"clearQueue":function(a){return this.queue(a||"fx",[])},"promise":function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=m._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{"submit":!0,"change":!0,"focusin":!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}()
;var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;m.event={"global":{},"add":function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;h--;)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({"type":o,"origType":q,"data":d,"handler":c,"guid":c.guid,"selector":e,"needsContext":e&&m.expr.match.needsContext.test(e),"namespace":p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&!1!==j.setup.call(a,d,p,k)||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},"remove":function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;f--;)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},"trigger":function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||!1!==k.trigger.apply(d,c))){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}for(n=0;(h=o[n++])&&!b.isPropagationStopped();)b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),(f=g&&h[g])&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||!1===k._default.apply(o.pop(),c))&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},"dispatch":function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=m.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,void 0!==(c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},"handlers":function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({"elem":i,"handlers":e})}return h<b.length&&g.push({"elem":this,"handlers":b.slice(h)}),g},"fix":function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"keyHooks":{"props":"char charCode key keyCode".split(" "),"filter":function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},"mouseHooks":{"props":"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),"filter":function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},"special":{"load":{"noBubble":!0},"focus":{"trigger":function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},"delegateType":"focusin"},"blur":{"trigger":function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},"delegateType":"focusout"},"click":{"trigger":function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},"_default":function(a){return m.nodeName(a.target,"a")}},"beforeunload":{"postDispatch":function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},"simulate":function(a,b,c,d){var e=m.extend(new m.Event,c,{"type":a,"isSimulated":!0,"originalEvent":{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={"isDefaultPrevented":ba,"isPropagationStopped":ba,"isImmediatePropagationStopped":ba,"preventDefault":function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},"stopPropagation":function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},"stopImmediatePropagation":function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({"mouseenter":"mouseover","mouseleave":"mouseout","pointerenter":"pointerover","pointerleave":"pointerout"},function(a,b){m.event.special[a]={"delegateType":b,"bindType":b,"handle":function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={"setup":function(){return!m.nodeName(this,"form")&&void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},"postDispatch":function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},"teardown":function(){return!m.nodeName(this,"form")&&void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={"setup":function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},"handle":function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},"teardown":function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({"focus":"focusin","blur":"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={"setup":function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},"teardown":function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({"on":function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},"one":function(a,b,c,d){return this.on(a,b,c,d,1)},"off":function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},"trigger":function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},"triggerHandler":function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={"option":[1,"<select multiple='multiple'>","</select>"],"legend":[1,"<fieldset>","</fieldset>"],"area":[1,"<map>","</map>"],"param":[1,"<object>","</object>"],"thead":[1,"<table>","</table>"],"tr":[2,"<table><tbody>","</tbody></table>"],"col":[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],"td":[3,"<table><tbody><tr>","</tr></tbody></table>"],"_default":k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td,m.extend({"clone":function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},"buildFragment":function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if((f=a[q])||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];e--;)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody)for(f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(m.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;f=p[q++];)if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c))for(e=0;f=h[e++];)oa.test(f.type||"")&&c.push(f);return h=null,o},"cleanData":function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({"text":function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},"append":function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){wa(this,a).appendChild(a)}})},"prepend":function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},"before":function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},"after":function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},"remove":function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},"empty":function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&m.cleanData(ua(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},"clone":function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},"html":function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},"replaceWith":function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},"detach":function(a){return this.remove(a,!0)},"domManip":function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({"appendTo":"append","prependTo":"prepend","insertBefore":"before","insertAfter":"after","replaceAll":"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ia,Ja,Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),!function(){function i(){var b,c,d,i;(c=y.getElementsByTagName("body")[0])&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{"width":"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}var b,c,d,e,f,g,h;b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],(c=d&&d.style)&&(c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{"reliableHiddenOffsets":function(){return null==g&&i(),g},"boxSizingReliable":function(){return null==f&&i(),f},"pixelPosition":function(){return null==e&&i(),e},"reliableMarginRight":function(){return null==h&&i(),h}}))}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={"position":"absolute","visibility":"hidden","display":"block"},Sa={"letterSpacing":"0","fontWeight":"400"},Ta=["Webkit","O","Moz","ms"];m.extend({"cssHooks":{"opacity":{"get":function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},"cssNumber":{"columnCount":!0,"fillOpacity":!0,"flexGrow":!0,"flexShrink":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"order":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},"cssProps":{"float":k.cssFloat?"cssFloat":"styleFloat"},"style":function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},"css":function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),!0===c||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={"get":function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},"set":function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={"get":function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},"set":function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{"display":"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({"margin":"","padding":"","border":"Width"},function(a,b){m.cssHooks[a+b]={"expand":function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({"css":function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},"show":function(){return Va(this,!0)},"hide":function(){return Va(this)},"toggle":function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}}),m.Tween=Za,Za.prototype={"constructor":Za,"init":function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},"cur":function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},"run":function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={"_default":{"get":function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},"set":function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={"set":function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={"linear":function(a){return a},"swing":function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};m.Animation=m.extend(kb,{"tweener":function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},"prefilter":function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{"complete":c||!c&&b||m.isFunction(a)&&a,"duration":a,"easing":c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({"fadeTo":function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({"opacity":b},a,c,d)},"animate":function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},"stop":function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},"finish":function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({"slideDown":gb("show"),"slideUp":gb("hide"),"slideToggle":gb("toggle"),"fadeIn":{"opacity":"show"},"fadeOut":{"opacity":"hide"},"fadeToggle":{"opacity":"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={"slow":600,"fast":200,"_default":400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({"val":function(a){var b,c,d,e=this[0];return arguments.length?(d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),(b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)):void 0}}),m.extend({"valHooks":{"option":{"get":function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},"select":{"get":function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},"set":function(a,b){for(var c,d,e=a.options,f=m.makeArray(b),g=e.length;g--;)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={"set":function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({"attr":function(a,b){return V(this,m.attr,a,b,arguments.length>1)},"removeAttr":function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({"attr":function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},"removeAttr":function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},"attrHooks":{"type":{"set":function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={"set":function(a,b,c){return!1===b?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={"set":function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={"set":function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={"get":function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},"set":mb.set},
m.attrHooks.contenteditable={"set":function(a,b,c){mb.set(a,""!==b&&b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={"set":function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={"get":function(a){return a.style.cssText||void 0},"set":function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({"prop":function(a,b){return V(this,m.prop,a,b,arguments.length>1)},"removeProp":function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({"propFix":{"for":"htmlFor","class":"className"},"prop":function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},"propHooks":{"tabIndex":{"get":function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={"get":function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={"get":function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({"addClass":function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},"removeClass":function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},"toggleClass":function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=m(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||!1===a?"":m._data(this,"__className__")||"")})},"hasClass":function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({"hover":function(a,b){return this.mouseenter(a).mouseleave(b||a)},"bind":function(a,b,c){return this.on(a,null,b,c)},"unbind":function(a,b){return this.off(a,null,b)},"delegate":function(a,b,c,d){return this.on(b,a,c,d)},"undelegate":function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[],m.extend({"active":0,"lastModified":{},"etag":{},"ajaxSettings":{"url":zb,"type":"GET","isLocal":Db.test(yb[1]),"global":!0,"processData":!0,"async":!0,"contentType":"application/x-www-form-urlencoded; charset=UTF-8","accepts":{"*":Jb,"text":"text/plain","html":"text/html","xml":"application/xml, text/xml","json":"application/json, text/javascript"},"contents":{"xml":/xml/,"html":/html/,"json":/json/},"responseFields":{"xml":"responseXML","text":"responseText","json":"responseJSON"},"converters":{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},"flatOptions":{"url":!0,"context":!0}},"ajaxSetup":function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},"ajaxPrefilter":Lb(Hb),"ajaxTransport":Lb(Ib),"ajax":function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),(w=v.getResponseHeader("etag"))&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={"readyState":0,"getResponseHeader":function(a){var b;if(2===t){if(!j)for(j={};b=Cb.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},"getAllResponseHeaders":function(){return 2===t?f:null},"setRequestHeader":function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},"overrideMimeType":function(a){return t||(k.mimeType=a),this},"statusCode":function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},"abort":function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0==m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(!1===k.beforeSend.call(l,v,k)||2===t))return v.abort();u="abort";for(d in{"success":1,"error":1,"complete":1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},"getJSON":function(a,b,c){return m.get(a,b,c,"json")},"getScript":function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({"url":a,"type":b,"dataType":e,"data":c,"success":d})}}),m._evalUrl=function(a){return m.ajax({"url":a,"type":"GET","dataType":"script","async":!1,"global":!1,"throws":!0})},m.fn.extend({"wrapAll":function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},"wrapInner":function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},"wrap":function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},"unwrap":function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({"serialize":function(){return m.param(this.serializeArray())},"serializeArray":function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{"name":b.name,"value":a.replace(Sb,"\r\n")}}):{"name":b.name,"value":c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,(Yb=k.ajax=!!Yb)&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{"send":function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},"abort":function(){b&&b(void 0,!0)}}}}),m.ajaxSetup({"accepts":{"script":"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},"contents":{"script":/(?:java|ecma)script/},"converters":{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{"send":function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},"abort":function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({"jsonp":"callback","jsonpCallback":function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):!1!==b.jsonp&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({"url":a,"type":f,"dataType":"html","data":b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;m.offset={"setOffset":function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({"offset":function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={"top":0,"left":0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{"top":d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),"left":d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},"position":function(){if(this[0]){var a,b,c={"top":0,"left":0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{"top":b.top-c.top-m.css(d,"marginTop",!0),"left":b.left-c.left-m.css(d,"marginLeft",!0)}}},"offsetParent":function(){return this.map(function(){for(var a=this.offsetParent||cc;a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position");)a=a.offsetParent;return a||cc})}}),m.each({"scrollLeft":"pageXOffset","scrollTop":"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({"Height":"height","Width":"width"},function(a,b){m.each({"padding":"inner"+a,"content":b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m}),function($,undefined){var dataSpace="ui-effects-";$.effects={"effect":{}},function(jQuery,undefined){function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};return null==value?allowEmpty||!prop.def?null:prop.def:(value=type.floor?~~value:parseFloat(value),isNaN(value)?prop.def:type.mod?(value+type.mod)%type.mod:0>value?0:type.max<value?type.max:value)}function stringParse(string){var inst=color(),rgba=inst._rgba=[];return string=string.toLowerCase(),each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values)return parsed=inst[spaceName](values),inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache],rgba=inst._rgba=parsed._rgba,!1}),rgba.length?("0,0,0,0"===rgba.join()&&jQuery.extend(rgba,colors.transparent),inst):colors[string]}function hue2rgb(p,q,h){return h=(h+1)%1,6*h<1?p+(q-p)*h*6:2*h<1?q:3*h<2?p+(q-p)*(2/3-h)*6:p}var colors,stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{"re":/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{"re":/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{"re":/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,"parse":function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{"re":/#([a-f0-9])([a-f0-9])([a-f0-9])/,"parse":function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{"re":/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"space":"hsla","parse":function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={"rgba":{"props":{"red":{"idx":0,"type":"byte"},"green":{"idx":1,"type":"byte"},"blue":{"idx":2,"type":"byte"}}},"hsla":{"props":{"hue":{"idx":0,"type":"degrees"},"saturation":{"idx":1,"type":"percent"},"lightness":{"idx":2,"type":"percent"}}}},propTypes={"byte":{"floor":!0,"max":255},"percent":{"max":1},"degrees":{"mod":360,"floor":!0}},support=color.support={},supportElem=jQuery("<p>")[0],each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)",support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1,each(spaces,function(spaceName,space){space.cache="_"+spaceName,space.props.alpha={"idx":3,"type":"percent","def":1}}),color.fn=jQuery.extend(color.prototype,{"parse":function(red,green,blue,alpha){if(red===undefined)return this._rgba=[null,null,null,null],this;(red.jquery||red.nodeType)&&(red=jQuery(red).css(green),green=undefined);var inst=this,type=jQuery.type(red),rgba=this._rgba=[];return green!==undefined&&(red=[red,green,blue,alpha],type="array"),"string"===type?this.parse(stringParse(red)||colors._default):"array"===type?(each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)}),this):"object"===type?(red instanceof color?each(spaces,function(spaceName,space){red[space.cache]&&(inst[space.cache]=red[space.cache].slice())}):each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if("alpha"===key||null==red[key])return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,!0)}),inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0&&(inst[cache][3]=1,space.from&&(inst._rgba=space.from(inst[cache])))}),this):void 0},"is":function(compare){var is=color(compare),same=!0,inst=this;return each(spaces,function(_,space){var localCache,isCache=is[space.cache];return isCache&&(localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[],each(space.props,function(_,prop){if(null!=isCache[prop.idx])return same=isCache[prop.idx]===localCache[prop.idx]})),same}),same},"_space":function(){var used=[],inst=this;return each(spaces,function(spaceName,space){inst[space.cache]&&used.push(spaceName)}),used.pop()},"transition":function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=0===this.alpha()?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();return end=end[space.cache],each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};null!==endValue&&(null===startValue?result[index]=endValue:(type.mod&&(endValue-startValue>type.mod/2?startValue+=type.mod:startValue-endValue>type.mod/2&&(startValue-=type.mod)),result[index]=clamp((endValue-startValue)*distance+startValue,prop)))}),this[spaceName](result)},"blend":function(opaque){if(1===this._rgba[3])return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},"toRgbaString":function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return null==v?i>2?1:0:v});return 1===rgba[3]&&(rgba.pop(),prefix="rgb("),prefix+rgba.join()+")"},"toHslaString":function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){return null==v&&(v=i>2?1:0),i&&i<3&&(v=Math.round(100*v)+"%"),v});return 1===hsla[3]&&(hsla.pop(),prefix="hsl("),prefix+hsla.join()+")"},"toHexString":function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();return includeAlpha&&rgba.push(~~(255*alpha)),"#"+jQuery.map(rgba,function(v){return v=(v||0).toString(16),1===v.length?"0"+v:v}).join("")},"toString":function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),color.fn.parse.prototype=color.fn,spaces.hsla.to=function(rgba){if(null==rgba[0]||null==rgba[1]||null==rgba[2])return[null,null,null,rgba[3]];var h,s,r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=.5*add;return h=min===max?0:r===max?60*(g-b)/diff+360:g===max?60*(b-r)/diff+120:60*(r-g)/diff+240,s=0===diff?0:l<=.5?diff/add:diff/(2-add),[Math.round(h)%360,s,l,null==a?1:a]},spaces.hsla.from=function(hsla){if(null==hsla[0]||null==hsla[1]||null==hsla[2])return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(255*hue2rgb(p,q,h+1/3)),Math.round(255*hue2rgb(p,q,h)),Math.round(255*hue2rgb(p,q,h-1/3)),a]},each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]&&(this[cache]=to(this._rgba)),value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr="array"===type||"object"===type?value:arguments,local=this[cache].slice();return each(props,function(key,prop){var val=arr["object"===type?key:prop.idx];null==val&&(val=local[prop.idx]),local[prop.idx]=clamp(val,prop)}),from?(ret=color(from(local)),ret[cache]=local,ret):color(local)},each(props,function(key,prop){color.fn[key]||(color.fn[key]=function(value){var match,vtype=jQuery.type(value),fn="alpha"===key?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx];return"undefined"===vtype?cur:("function"===vtype&&(value=value.call(this,cur),vtype=jQuery.type(value)),null==value&&prop.empty?this:("string"===vtype&&(match=rplusequals.exec(value))&&(value=cur+parseFloat(match[2])*("+"===match[1]?1:-1)),local[prop.idx]=value,this[fn](local)))})})}),color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={"set":function(elem,value){var parsed,curElem,backgroundColor="";if("transparent"!==value&&("string"!==jQuery.type(value)||(parsed=stringParse(value)))){if(value=color(parsed||value),!support.rgba&&1!==value._rgba[3]){for(curElem="backgroundColor"===hook?elem.parentNode:elem;(""===backgroundColor||"transparent"===backgroundColor)&&curElem&&curElem.style;)try{backgroundColor=jQuery.css(curElem,"backgroundColor"),curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&"transparent"!==backgroundColor?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}},jQuery.fx.step[hook]=function(fx){fx.colorInit||(fx.start=color(fx.elem,hook),fx.end=color(fx.end),fx.colorInit=!0),jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}})},color.hook(stepHooks),jQuery.cssHooks.borderColor={"expand":function(value){var expanded={};return each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value}),expanded}},colors=jQuery.Color.names={"aqua":"#00ffff","black":"#000000","blue":"#0000ff","fuchsia":"#ff00ff","gray":"#808080","green":"#008000","lime":"#00ff00","maroon":"#800000","navy":"#000080","olive":"#808000","purple":"#800080","red":"#ff0000","silver":"#c0c0c0","teal":"#008080","white":"#ffffff","yellow":"#ffff00","transparent":[null,null,null,0],"_default":"#ffffff"}}(jQuery),function(){function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]])for(len=style.length;len--;)key=style[len],"string"==typeof style[key]&&(styles[$.camelCase(key)]=style[key]);else for(key in style)"string"==typeof style[key]&&(styles[key]=style[key]);return styles}function styleDifference(oldStyle,newStyle){var name,value,diff={};for(name in newStyle)value=newStyle[name],oldStyle[name]!==value&&(shorthandStyles[name]||!$.fx.step[name]&&isNaN(parseFloat(value))||(diff[name]=value));return diff}var classAnimationActions=["add","remove","toggle"],shorthandStyles={"border":1,"borderBottom":1,"borderColor":1,"borderLeft":1,"borderRight":1,"borderTop":1,"borderWidth":1,"margin":1,"padding":1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){("none"!==fx.end&&!fx.setAttr||1===fx.pos&&!fx.setAttr)&&(jQuery.style(fx.elem,prop,fx.end),fx.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var applyClassChange,animated=$(this),baseClass=animated.attr("class")||"",allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){return{"el":$(this),"start":getElementStyles(this)}}),applyClassChange=function(){$.each(classAnimationActions,function(i,action){value[action]&&animated[action+"Class"](value[action])})},applyClassChange(),allAnimations=allAnimations.map(function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this}),animated.attr("class",baseClass),allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{"queue":!1,"complete":function(){dfd.resolve(styleInfo)}});return this.el.animate(this.diff,opts),dfd.promise()}),$.when.apply($,allAnimations.get()).done(function(){applyClassChange(),$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})}),o.complete.call(animated[0])})})},$.fn.extend({"addClass":function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{"add":classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.addClass),"removeClass":function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{"remove":classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.removeClass),"toggleClass":function(orig){return function(classNames,force,speed,easing,callback){return"boolean"==typeof force||force===undefined?speed?$.effects.animateClass.call(this,force?{"add":classNames}:{"remove":classNames},speed,easing,callback):orig.apply(this,arguments):$.effects.animateClass.call(this,{"toggle":classNames},force,speed,easing)}}($.fn.toggleClass),"switchClass":function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{"add":add,"remove":remove},speed,easing,callback)}})}(),function(){function _normalizeArguments(effect,options,speed,callback){return $.isPlainObject(effect)&&(options=effect,effect=effect.effect),effect={"effect":effect},null==options&&(options={}),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options&&$.extend(effect,options),speed=speed||options.duration,effect.duration=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,effect.complete=callback||options.complete,effect}function standardAnimationOption(option){return!(option&&"number"!=typeof option&&!$.fx.speeds[option])||("string"==typeof option&&!$.effects.effect[option]||(!!$.isFunction(option)||"object"==typeof option&&!option.effect))}$.extend($.effects,{"version":"1.10.4","save":function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data(dataSpace+set[i],element[0].style[set[i]])},"restore":function(element,set){var val,i;for(i=0;i<set.length;i++)null!==set[i]&&(val=element.data(dataSpace+set[i]),val===undefined&&(val=""),element.css(set[i],val))},"setMode":function(el,mode){return"toggle"===mode&&(mode=el.is(":hidden")?"show":"hide"),mode},"getBaseline":function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{"x":x,"y":y}},"createWrapper":function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={"width":element.outerWidth(!0),"height":element.outerHeight(!0),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({"fontSize":"100%","background":"transparent","border":"none","margin":0,"padding":0}),size={"width":element.width(),"height":element.height()},active=document.activeElement;try{active.id}catch(e){
active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"===element.css("position")?(wrapper.css({"position":"relative"}),element.css({"position":"relative"})):($.extend(props,{"position":element.css("position"),"zIndex":element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({"position":"relative","top":0,"left":0,"right":"auto","bottom":"auto"})),element.css(size),wrapper.css(props).show()},"removeWrapper":function(element){var active=document.activeElement;return element.parent().is(".ui-effects-wrapper")&&(element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus()),element},"setTransition":function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({"effect":function(){function run(next){function done(){$.isFunction(complete)&&complete.call(elem[0]),$.isFunction(next)&&next()}var elem=$(this),complete=args.complete,mode=args.mode;(elem.is(":hidden")?"hide"===mode:"show"===mode)?(elem[mode](),done()):effectMethod.call(elem[0],args,done)}var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];return $.fx.off||!effectMethod?mode?this[mode](args.duration,args.complete):this.each(function(){args.complete&&args.complete.call(this)}):!1===queue?this.each(run):this.queue(queue||"fx",run)},"show":function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="show",this.effect.call(this,args)}}($.fn.show),"hide":function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="hide",this.effect.call(this,args)}}($.fn.hide),"toggle":function(orig){return function(option){if(standardAnimationOption(option)||"boolean"==typeof option)return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="toggle",this.effect.call(this,args)}}($.fn.toggle),"cssUnit":function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val}})}(),function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{"Sine":function(p){return 1-Math.cos(p*Math.PI/2)},"Circ":function(p){return 1-Math.sqrt(1-p*p)},"Elastic":function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},"Back":function(p){return p*p*(3*p-2)},"Bounce":function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:1-easeIn(-2*p+2)/2}})}()}(jQuery),function($){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={"backgroundColor":elem.css("backgroundColor")};"hide"===mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({"backgroundImage":"none","backgroundColor":o.color||"#ffff99"}).animate(animation,{"queue":!1,"duration":o.duration,"easing":o.easing,"complete":function(){"hide"===mode&&elem.hide(),$.effects.restore(elem,props),done()}})}}(jQuery),function($,undefined){$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var rails,$document=$(document);$.rails=rails={"linkClickSelector":"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]","buttonClickSelector":"button[data-remote]:not(form button), button[data-confirm]:not(form button)","inputChangeSelector":"select[data-remote], input[data-remote], textarea[data-remote]","formSubmitSelector":"form","formInputClickSelector":"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])","disableSelector":"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled","enableSelector":"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled","requiredInputSelector":"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])","fileInputSelector":"input[type=file]","linkDisableSelector":"a[data-disable-with], a[data-disable]","buttonDisableSelector":"button[data-remote][data-disable-with], button[data-remote][data-disable]","CSRFProtection":function(xhr){var token=$('meta[name="csrf-token"]').attr("content");token&&xhr.setRequestHeader("X-CSRF-Token",token)},"refreshCSRFTokens":function(){var csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content");$('form input[name="'+csrfParam+'"]').val(csrfToken)},"fire":function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),!1!==event.result},"confirm":function(message){return confirm(message)},"ajax":function(options){return $.ajax(options)},"href":function(element){return element.attr("href")},"handleRemote":function(element){var method,url,data,elCrossDomain,crossDomain,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){if(elCrossDomain=element.data("cross-domain"),crossDomain=elCrossDomain===undefined?null:elCrossDomain,withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType,element.is("form")){method=element.attr("method"),url=element.attr("action"),data=element.serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null))}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);return options={"type":method||"GET","data":data,"dataType":dataType,"beforeSend":function(xhr,settings){if(settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script),!rails.fire(element,"ajax:beforeSend",[xhr,settings]))return!1;element.trigger("ajax:send",xhr)},"success":function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},"complete":function(xhr,status){element.trigger("ajax:complete",[xhr,status])},"error":function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},"crossDomain":crossDomain},withCredentials&&(options.xhrFields={"withCredentials":withCredentials}),url&&(options.url=url),rails.ajax(options)}return!1},"handleMethod":function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content"),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam!==undefined&&csrfToken!==undefined&&(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},"formElements":function(form,selector){return form.is("form")?$(form[0].elements).filter(selector):form.find(selector)},"disableFormElements":function(form){rails.formElements(form,rails.disableSelector).each(function(){rails.disableFormElement($(this))})},"disableFormElement":function(element){var method,replacement;method=element.is("button")?"html":"val",replacement=element.data("disable-with"),element.data("ujs:enable-with",element[method]()),replacement!==undefined&&element[method](replacement),element.prop("disabled",!0)},"enableFormElements":function(form){rails.formElements(form,rails.enableSelector).each(function(){rails.enableFormElement($(this))})},"enableFormElement":function(element){var method=element.is("button")?"html":"val";element.data("ujs:enable-with")&&element[method](element.data("ujs:enable-with")),element.prop("disabled",!1)},"allowAction":function(element){var callback,message=element.data("confirm"),answer=!1;return!message||(rails.fire(element,"confirm")&&(answer=rails.confirm(message),callback=rails.fire(element,"confirm:complete",[answer])),answer&&callback)},"blankInputs":function(form,specifiedSelector,nonBlank){var input,valueToCheck,inputs=$(),selector=specifiedSelector||"input,textarea",allInputs=form.find(selector);return allInputs.each(function(){if(input=$(this),!(valueToCheck=input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):input.val())==!nonBlank){if(input.is("input[type=radio]")&&allInputs.filter('input[type=radio]:checked[name="'+input.attr("name")+'"]').length)return!0;inputs=inputs.add(input)}}),!!inputs.length&&inputs},"nonBlankInputs":function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},"stopEverything":function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},"disableElement":function(element){var replacement=element.data("disable-with");element.data("ujs:enable-with",element.html()),replacement!==undefined&&element.html(replacement),element.bind("click.railsDisable",function(e){return rails.stopEverything(e)})},"enableElement":function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter(function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)}),$(window).on("pageshow.rails",function(){$($.rails.enableSelector).each(function(){var element=$(this);element.data("ujs:enable-with")&&$.rails.enableFormElement(element)}),$($.rails.linkDisableSelector).each(function(){var element=$(this);element.data("ujs:enable-with")&&$.rails.enableElement(element)})}),$document.delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))}),$document.delegate(rails.buttonDisableSelector,"ajax:complete",function(){rails.enableFormElement($(this))}),$document.delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);if(!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link),link.data("remote")!==undefined){if(metaClick&&(!method||"GET"===method)&&!data)return!0;var handleRemote=rails.handleRemote(link);return!1===handleRemote?rails.enableElement(link):handleRemote.fail(function(){rails.enableElement(link)}),!1}return method?(rails.handleMethod(link),!1):void 0}),$document.delegate(rails.buttonClickSelector,"click.rails",function(e){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(e);button.is(rails.buttonDisableSelector)&&rails.disableFormElement(button);var handleRemote=rails.handleRemote(button);return!1===handleRemote?rails.enableFormElement(button):handleRemote.fail(function(){rails.enableFormElement(button)}),!1}),$document.delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);return rails.allowAction(link)?(rails.handleRemote(link),!1):rails.stopEverything(e)}),$document.delegate(rails.formSubmitSelector,"submit.rails",function(e){var blankRequiredInputs,nonBlankFileInputs,form=$(this),remote=form.data("remote")!==undefined;if(!rails.allowAction(form))return rails.stopEverything(e);if(form.attr("novalidate")==undefined&&(blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector))&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e);if(remote){if(nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector)){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout(function(){rails.enableFormElements(form)},13),aborted}return rails.handleRemote(form),!1}setTimeout(function(){rails.disableFormElements(form)},13)}),$document.delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{"name":name,"value":button.val()}:null;button.closest("form").data("ujs:submit-button",data)}),$document.delegate(rails.formSubmitSelector,"ajax:send.rails",function(event){this==event.target&&rails.disableFormElements($(this))}),$document.delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){this==event.target&&rails.enableFormElements($(this))}),$(function(){rails.refreshCSRFTokens()}))}(jQuery),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(k=rep[i],(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),v!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(window,undefined){"use strict";var History=window.History=window.History||{},jQuery=window.jQuery;if("undefined"!=typeof History.Adapter)throw new Error("History.js Adapter has already been loaded...");History.Adapter={"bind":function(el,event,callback){jQuery(el).bind(event,callback)},"trigger":function(el,event,extra){jQuery(el).trigger(event,extra)},"extractEventData":function(key,event,extra){return event&&event.originalEvent&&event.originalEvent[key]||extra&&extra[key]||undefined},"onDomLoad":function(callback){jQuery(callback)}}}(window),function(window){"use strict";var document=window.document,setTimeout=window.setTimeout||setTimeout,clearTimeout=window.clearTimeout||clearTimeout,setInterval=window.setInterval||setInterval,History=window.History=window.History||{};if("undefined"!=typeof History.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");History.initHtml4=function(){if("undefined"!=typeof History.initHtml4.initialized)return!1;History.initHtml4.initialized=!0,History.enabled=!0,History.savedHashes=[],History.isLastHash=function(newHash){var oldHash=History.getHashByIndex();return newHash===oldHash},History.isHashEqual=function(newHash,oldHash){return newHash=encodeURIComponent(newHash).replace(/%25/g,"%"),oldHash=encodeURIComponent(oldHash).replace(/%25/g,"%"),newHash===oldHash},History.saveHash=function(newHash){return!History.isLastHash(newHash)&&(History.savedHashes.push(newHash),!0)},History.getHashByIndex=function(index){return void 0===index?History.savedHashes[History.savedHashes.length-1]:index<0?History.savedHashes[History.savedHashes.length+index]:History.savedHashes[index]},History.discardedHashes={},History.discardedStates={},History.discardState=function(discardedState,forwardState,backState){var discardObject,discardedStateHash=History.getHashByState(discardedState);return discardObject={"discardedState":discardedState,"backState":backState,"forwardState":forwardState},History.discardedStates[discardedStateHash]=discardObject,!0},History.discardHash=function(discardedHash,forwardState,backState){var discardObject={"discardedHash":discardedHash,"backState":backState,"forwardState":forwardState};return History.discardedHashes[discardedHash]=discardObject,!0},History.discardedState=function(State){var StateHash=History.getHashByState(State);return History.discardedStates[StateHash]||!1},History.discardedHash=function(hash){return History.discardedHashes[hash]||!1},History.recycleState=function(State){var StateHash=History.getHashByState(State);return History.discardedState(State)&&delete History.discardedStates[StateHash],!0},History.emulated.hashChange&&(History.hashChangeInit=function(){History.checkerFunction=null;var iframeId,iframe,lastIframeHash,checkerRunning,lastDocumentHash="",startedWithHash=Boolean(History.getHash());return History.isInternetExplorer()?(iframeId="historyjs-iframe",iframe=document.createElement("iframe"),iframe.setAttribute("id",iframeId),iframe.setAttribute("src","#"),iframe.style.display="none",document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),lastIframeHash="",checkerRunning=!1,History.checkerFunction=function(){if(checkerRunning)return!1;checkerRunning=!0;var documentHash=History.getHash(),iframeHash=History.getHash(iframe.contentWindow.document);return documentHash!==lastDocumentHash?(lastDocumentHash=documentHash,iframeHash!==documentHash&&(lastIframeHash=iframeHash=documentHash,iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),iframe.contentWindow.document.location.hash=History.escapeHash(documentHash)),History.Adapter.trigger(window,"hashchange")):iframeHash!==lastIframeHash&&(lastIframeHash=iframeHash,startedWithHash&&""===iframeHash?History.back():History.setHash(iframeHash,!1)),checkerRunning=!1,!0}):History.checkerFunction=function(){var documentHash=History.getHash()||"";return documentHash!==lastDocumentHash&&(lastDocumentHash=documentHash,History.Adapter.trigger(window,"hashchange")),!0},History.intervalList.push(setInterval(History.checkerFunction,History.options.hashChangeInterval)),!0},History.Adapter.onDomLoad(History.hashChangeInit)),History.emulated.pushState&&(History.onHashChange=function(event){var discardObject,currentUrl=event&&event.newURL||History.getLocationHref(),currentHash=encodeURI(History.getHashByUrl(currentUrl)),currentState=null;return History.isLastHash(currentHash)?(History.busy(!1),!1):(History.doubleCheckComplete(),History.saveHash(currentHash),currentHash&&History.isTraditionalAnchor(currentHash)?(History.Adapter.trigger(window,"anchorchange"),History.busy(!1),!1):(currentState=History.extractState(History.getFullUrl(currentHash||History.getLocationHref()),!0),History.isLastSavedState(currentState)?(History.busy(!1),!1):(History.getHashByState(currentState),(discardObject=History.discardedState(currentState))?(History.getHashByIndex(-2)===History.getHashByState(discardObject.forwardState)?History.back(!1):History.forward(!1),!1):(History.pushState(currentState.data,currentState.title,currentState.url,!1),!0))))},History.Adapter.bind(window,"hashchange",History.onHashChange),History.pushState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.pushState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),html4Hash=History.getHash(),wasExpected=History.expectedStateId==newState.id;return History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),newStateHash===oldStateHash?(History.busy(!1),!1):(History.saveState(newState),wasExpected||History.Adapter.trigger(window,"statechange"),History.isHashEqual(newStateHash,html4Hash)||History.isHashEqual(newStateHash,History.getShortUrl(History.getLocationHref()))||History.setHash(newStateHash,!1),History.busy(!1),!0)},History.replaceState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.replaceState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),previousState=History.getStateByIndex(-2);return History.discardState(oldState,newState,previousState),newStateHash===oldStateHash?(History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),History.saveState(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1)):History.pushState(newState.data,newState.title,newState.url,!1),!0})},"undefined"!=typeof History.init&&History.init()}(window),function(window,undefined){"use strict";var console=window.console||undefined,document=window.document,navigator=window.navigator,sessionStorage=!1,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,setInterval=window.setInterval,clearInterval=window.clearInterval,JSON=window.JSON,alert=window.alert,History=window.History=window.History||{},history=window.history;try{sessionStorage=window.sessionStorage,sessionStorage.setItem("TEST","1"),sessionStorage.removeItem("TEST")}catch(e){sessionStorage=!1}if(JSON.stringify=JSON.stringify||JSON.encode,JSON.parse=JSON.parse||JSON.decode,"undefined"!=typeof History.init)throw new Error("History.js Core has already been loaded...");History.init=function(){return"undefined"!=typeof History.Adapter&&("undefined"!=typeof History.initCore&&History.initCore(),"undefined"!=typeof History.initHtml4&&History.initHtml4(),!0)},History.initCore=function(){if("undefined"!=typeof History.initCore.initialized)return!1;if(History.initCore.initialized=!0,History.options=History.options||{},History.options.hashChangeInterval=History.options.hashChangeInterval||100,History.options.safariPollInterval=History.options.safariPollInterval||500,History.options.doubleCheckInterval=History.options.doubleCheckInterval||500,History.options.disableSuid=History.options.disableSuid||!1,History.options.storeInterval=History.options.storeInterval||1e3,History.options.busyDelay=History.options.busyDelay||250,History.options.debug=History.options.debug||!1,History.options.initialTitle=History.options.initialTitle||document.title,History.options.html4Mode=History.options.html4Mode||!1,History.options.delayInit=History.options.delayInit||!1,History.intervalList=[],History.clearAllIntervals=function(){var i,il=History.intervalList;if(void 0!==il&&null!==il){for(i=0;i<il.length;i++)clearInterval(il[i]);History.intervalList=null}},History.debug=function(){History.options.debug&&History.log.apply(History,arguments)},History.log=function(){var message,i,n,args,arg,consoleExists=!(void 0===console||"undefined"==typeof console.log||"undefined"==typeof console.log.apply),textarea=document.getElementById("log");for(consoleExists?(args=Array.prototype.slice.call(arguments),message=args.shift(),"undefined"!=typeof console.debug?console.debug.apply(console,[message,args]):console.log.apply(console,[message,args])):message="\n"+arguments[0]+"\n",i=1,n=arguments.length;i<n;++i){if("object"==typeof(arg=arguments[i])&&void 0!==JSON)try{arg=JSON.stringify(arg)}catch(Exception){}message+="\n"+arg+"\n"}return textarea?(textarea.value+=message+"\n-----\n",textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight):consoleExists||alert(message),!0},History.getInternetExplorerMajorVersion=function(){return History.getInternetExplorerMajorVersion.cached="undefined"!=typeof History.getInternetExplorerMajorVersion.cached?History.getInternetExplorerMajorVersion.cached:function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");(div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->")&&all[0];);return v>4&&v}()},History.isInternetExplorer=function(){return History.isInternetExplorer.cached="undefined"!=typeof History.isInternetExplorer.cached?History.isInternetExplorer.cached:Boolean(History.getInternetExplorerMajorVersion())},History.options.html4Mode?History.emulated={"pushState":!0,"hashChange":!0}:History.emulated={"pushState":!Boolean(window.history&&window.history.pushState&&window.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),"hashChange":Boolean(!("onhashchange"in window||"onhashchange"in document)||History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8)},History.enabled=!History.emulated.pushState,History.bugs={"setHash":Boolean(!History.emulated.pushState&&"Apple Computer, Inc."===navigator.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),"safariPoll":Boolean(!History.emulated.pushState&&"Apple Computer, Inc."===navigator.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),"ieDoubleCheck":Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8),"hashEscape":Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<7)},History.isEmptyObject=function(obj){for(var name in obj)if(obj.hasOwnProperty(name))return!1;return!0},History.cloneObject=function(obj){var hash,newObj;return obj?(hash=JSON.stringify(obj),newObj=JSON.parse(hash)):newObj={},newObj},History.getRootUrl=function(){var rootUrl=document.location.protocol+"//"+(document.location.hostname||document.location.host);return document.location.port&&(rootUrl+=":"+document.location.port),rootUrl+="/"},History.getBaseHref=function(){var baseElements=document.getElementsByTagName("base"),baseElement=null,baseHref="";return 1===baseElements.length&&(baseElement=baseElements[0],baseHref=baseElement.href.replace(/[^\/]+$/,"")),baseHref=baseHref.replace(/\/+$/,""),baseHref&&(baseHref+="/"),baseHref},History.getBaseUrl=function(){return History.getRootUrl()},History.getPageUrl=function(){var State=History.getState(!1,!1),stateUrl=(State||{}).url||History.getLocationHref();return stateUrl.replace(/\/+$/,"").replace(/[^\/]+$/,function(part){return/\./.test(part)?part:part+"/"})},History.getBasePageUrl=function(){return History.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(part){return/[^\/]$/.test(part)?"":part}).replace(/\/+$/,"")+"/"},History.getFullUrl=function(url,allowBaseHref){var fullUrl=url,firstChar=url.substring(0,1);return allowBaseHref=void 0===allowBaseHref||allowBaseHref,/[a-z]+\:\/\//.test(url)||(fullUrl="/"===firstChar?History.getRootUrl()+url.replace(/^\/+/,""):"#"===firstChar?History.getPageUrl().replace(/#.*/,"")+url:"?"===firstChar?History.getPageUrl().replace(/[\?#].*/,"")+url:allowBaseHref?History.getBaseUrl()+url.replace(/^(\.\/)+/,""):History.getBasePageUrl()+url.replace(/^(\.\/)+/,"")),fullUrl.replace(/\#$/,"")},History.getShortUrl=function(url){var shortUrl=url,baseUrl=History.getBaseUrl(),rootUrl=History.getRootUrl();return History.emulated.pushState&&(shortUrl=shortUrl.replace(baseUrl,"/")),shortUrl=shortUrl.replace(rootUrl,"/"),shortUrl=shortUrl.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},History.getLocationHref=function(doc){return doc=doc||document,doc.URL===doc.location.href?doc.location.href:doc.location.href===decodeURIComponent(doc.URL)?doc.URL:doc.location.hash&&decodeURIComponent(doc.location.href.replace(/^[^#]+/,""))===doc.location.hash?doc.location.href:-1==doc.URL.indexOf("#")&&-1!=doc.location.href.indexOf("#")?doc.location.href:doc.URL||doc.location.href},History.store={},History.idToState=History.idToState||{},History.stateToId=History.stateToId||{},History.urlToId=History.urlToId||{},History.storedStates=History.storedStates||[],History.savedStates=History.savedStates||[],History.normalizeStore=function(){History.store.idToState=History.store.idToState||{},History.store.urlToId=History.store.urlToId||{},History.store.stateToId=History.store.stateToId||{}},History.getState=function(friendly,create){void 0===friendly&&(friendly=!0),void 0===create&&(create=!0);var State=History.getLastSavedState();return!State&&create&&(State=History.createStateObject()),friendly&&(State=History.cloneObject(State),State.url=State.cleanUrl||State.url),State},History.getIdByState=function(newState){var str,id=History.extractId(newState.url);if(!id)if(str=History.getStateString(newState),"undefined"!=typeof History.stateToId[str])id=History.stateToId[str];else if("undefined"!=typeof History.store.stateToId[str])id=History.store.stateToId[str];else{for(;;)if(id=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof History.idToState[id]&&"undefined"==typeof History.store.idToState[id])break;History.stateToId[str]=id,History.idToState[id]=newState}return id},History.normalizeState=function(oldState){var newState,dataNotEmpty;return oldState&&"object"==typeof oldState||(oldState={}),"undefined"!=typeof oldState.normalized?oldState:(oldState.data&&"object"==typeof oldState.data||(oldState.data={}),newState={},newState.normalized=!0,newState.title=oldState.title||"",
newState.url=History.getFullUrl(oldState.url?oldState.url:History.getLocationHref()),newState.hash=History.getShortUrl(newState.url),newState.data=History.cloneObject(oldState.data),newState.id=History.getIdByState(newState),newState.cleanUrl=newState.url.replace(/\??\&_suid.*/,""),newState.url=newState.cleanUrl,dataNotEmpty=!History.isEmptyObject(newState.data),(newState.title||dataNotEmpty)&&!0!==History.options.disableSuid&&(newState.hash=History.getShortUrl(newState.url).replace(/\??\&_suid.*/,""),/\?/.test(newState.hash)||(newState.hash+="?"),newState.hash+="&_suid="+newState.id),newState.hashedUrl=History.getFullUrl(newState.hash),(History.emulated.pushState||History.bugs.safariPoll)&&History.hasUrlDuplicate(newState)&&(newState.url=newState.hashedUrl),newState)},History.createStateObject=function(data,title,url){var State={"data":data,"title":title,"url":url};return State=History.normalizeState(State)},History.getStateById=function(id){return id=String(id),History.idToState[id]||History.store.idToState[id]||undefined},History.getStateString=function(passedState){var State,cleanedState;return State=History.normalizeState(passedState),cleanedState={"data":State.data,"title":passedState.title,"url":passedState.url},JSON.stringify(cleanedState)},History.getStateId=function(passedState){var State;return State=History.normalizeState(passedState),State.id},History.getHashByState=function(passedState){var State;return State=History.normalizeState(passedState),State.hash},History.extractId=function(url_or_hash){var parts,tmp;return tmp=-1!=url_or_hash.indexOf("#")?url_or_hash.split("#")[0]:url_or_hash,parts=/(.*)\&_suid=([0-9]+)$/.exec(tmp),parts?parts[1]||url_or_hash:url_or_hash,(parts?String(parts[2]||""):"")||!1},History.isTraditionalAnchor=function(url_or_hash){return!/[\/\?\.]/.test(url_or_hash)},History.extractState=function(url_or_hash,create){var id,url,State=null;return create=create||!1,id=History.extractId(url_or_hash),id&&(State=History.getStateById(id)),State||(url=History.getFullUrl(url_or_hash),id=History.getIdByUrl(url)||!1,id&&(State=History.getStateById(id)),State||!create||History.isTraditionalAnchor(url_or_hash)||(State=History.createStateObject(null,null,url))),State},History.getIdByUrl=function(url){return History.urlToId[url]||History.store.urlToId[url]||undefined},History.getLastSavedState=function(){return History.savedStates[History.savedStates.length-1]||undefined},History.getLastStoredState=function(){return History.storedStates[History.storedStates.length-1]||undefined},History.hasUrlDuplicate=function(newState){var oldState;return oldState=History.extractState(newState.url),oldState&&oldState.id!==newState.id},History.storeState=function(newState){return History.urlToId[newState.url]=newState.id,History.storedStates.push(History.cloneObject(newState)),newState},History.isLastSavedState=function(newState){var newId,oldState,oldId,isLast=!1;return History.savedStates.length&&(newId=newState.id,oldState=History.getLastSavedState(),oldId=oldState.id,isLast=newId===oldId),isLast},History.saveState=function(newState){return!History.isLastSavedState(newState)&&(History.savedStates.push(History.cloneObject(newState)),!0)},History.getStateByIndex=function(index){return void 0===index?History.savedStates[History.savedStates.length-1]:index<0?History.savedStates[History.savedStates.length+index]:History.savedStates[index]},History.getCurrentIndex=function(){return History.savedStates.length<1?0:History.savedStates.length-1},History.getHash=function(doc){var url=History.getLocationHref(doc);return History.getHashByUrl(url)},History.unescapeHash=function(hash){var result=History.normalizeHash(hash);return result=decodeURIComponent(result)},History.normalizeHash=function(hash){return hash.replace(/[^#]*#/,"").replace(/#.*/,"")},History.setHash=function(hash,queue){var State,pageUrl;return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.setHash,"args":arguments,"queue":queue}),!1):(History.busy(!0),State=History.extractState(hash,!0),State&&!History.emulated.pushState?History.pushState(State.data,State.title,State.url,!1):History.getHash()!==hash&&(History.bugs.setHash?(pageUrl=History.getPageUrl(),History.pushState(null,null,pageUrl+"#"+hash,!1)):document.location.hash="!"+hash),History)},History.escapeHash=function(hash){var result=History.normalizeHash(hash);return result=window.encodeURIComponent(result),History.bugs.hashEscape||(result=result.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),result},History.getHashByUrl=function(url){var hash=String(url).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return hash=History.unescapeHash(hash),hash.length>0&&"!"==hash.charAt(0)&&(hash=hash.substring(1)),hash},History.setTitle=function(newState){var firstState,title=newState.title;title||(firstState=History.getStateByIndex(0))&&firstState.url===newState.url&&(title=firstState.title||History.options.initialTitle);try{document.getElementsByTagName("title")[0].innerHTML=title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(Exception){}return document.title=title,History},History.queues=[],History.busy=function(value){if(void 0!==value?History.busy.flag=value:"undefined"==typeof History.busy.flag&&(History.busy.flag=!1),!History.busy.flag){clearTimeout(History.busy.timeout);var fireNext=function(){var i,queue,item;if(!History.busy.flag)for(i=History.queues.length-1;i>=0;--i)queue=History.queues[i],0!==queue.length&&(item=queue.shift(),History.fireQueueItem(item),History.busy.timeout=setTimeout(fireNext,History.options.busyDelay))};History.busy.timeout=setTimeout(fireNext,History.options.busyDelay)}return History.busy.flag},History.busy.flag=!1,History.fireQueueItem=function(item){return item.callback.apply(item.scope||History,item.args||[])},History.pushQueue=function(item){return History.queues[item.queue||0]=History.queues[item.queue||0]||[],History.queues[item.queue||0].push(item),History},History.queue=function(item,queue){return"function"==typeof item&&(item={"callback":item}),void 0!==queue&&(item.queue=queue),History.busy()?History.pushQueue(item):History.fireQueueItem(item),History},History.clearQueue=function(){return History.busy.flag=!1,History.queues=[],History},History.stateChanged=!1,History.doubleChecker=!1,History.doubleCheckComplete=function(){return History.stateChanged=!0,History.doubleCheckClear(),History},History.doubleCheckClear=function(){return History.doubleChecker&&(clearTimeout(History.doubleChecker),History.doubleChecker=!1),History},History.doubleCheck=function(tryAgain){return History.stateChanged=!1,History.doubleCheckClear(),History.bugs.ieDoubleCheck&&(History.doubleChecker=setTimeout(function(){return History.doubleCheckClear(),History.stateChanged||tryAgain(),!0},History.options.doubleCheckInterval)),History},History.safariStatePoll=function(){var newState,urlState=History.extractState(History.getLocationHref());if(!History.isLastSavedState(urlState))return newState=urlState,newState||(newState=History.createStateObject()),History.Adapter.trigger(window,"popstate"),History},History.back=function(queue){return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.back,"args":arguments,"queue":queue}),!1):(History.busy(!0),History.doubleCheck(function(){History.back(!1)}),history.go(-1),!0)},History.forward=function(queue){return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.forward,"args":arguments,"queue":queue}),!1):(History.busy(!0),History.doubleCheck(function(){History.forward(!1)}),history.go(1),!0)},History.go=function(index,queue){var i;if(index>0)for(i=1;i<=index;++i)History.forward(queue);else{if(!(index<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=index;--i)History.back(queue)}return History},History.emulated.pushState){var emptyFunction=function(){};History.pushState=History.pushState||emptyFunction,History.replaceState=History.replaceState||emptyFunction}else History.onPopState=function(event,extra){var currentHash,currentState,stateId=!1,newState=!1;return History.doubleCheckComplete(),(currentHash=History.getHash())?(currentState=History.extractState(currentHash||History.getLocationHref(),!0),currentState?History.replaceState(currentState.data,currentState.title,currentState.url,!1):(History.Adapter.trigger(window,"anchorchange"),History.busy(!1)),History.expectedStateId=!1,!1):(stateId=History.Adapter.extractEventData("state",event,extra)||!1,newState=stateId?History.getStateById(stateId):History.expectedStateId?History.getStateById(History.expectedStateId):History.extractState(History.getLocationHref()),newState||(newState=History.createStateObject(null,null,History.getLocationHref())),History.expectedStateId=!1,History.isLastSavedState(newState)?(History.busy(!1),!1):(History.storeState(newState),History.saveState(newState),History.setTitle(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1),!0))},History.Adapter.bind(window,"popstate",History.onPopState),History.pushState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.pushState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.pushState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0},History.replaceState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.replaceState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.replaceState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0};if(sessionStorage){try{History.store=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){History.store={}}History.normalizeStore()}else History.store={},History.normalizeStore();History.Adapter.bind(window,"unload",History.clearAllIntervals),History.saveState(History.storeState(History.extractState(History.getLocationHref(),!0))),sessionStorage&&(History.onUnload=function(){var currentStore,item,currentStoreString;try{currentStore=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){currentStore={}}currentStore.idToState=currentStore.idToState||{},currentStore.urlToId=currentStore.urlToId||{},currentStore.stateToId=currentStore.stateToId||{};for(item in History.idToState)History.idToState.hasOwnProperty(item)&&(currentStore.idToState[item]=History.idToState[item]);for(item in History.urlToId)History.urlToId.hasOwnProperty(item)&&(currentStore.urlToId[item]=History.urlToId[item]);for(item in History.stateToId)History.stateToId.hasOwnProperty(item)&&(currentStore.stateToId[item]=History.stateToId[item]);History.store=currentStore,History.normalizeStore(),currentStoreString=JSON.stringify(currentStore);try{sessionStorage.setItem("History.store",currentStoreString)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;sessionStorage.length&&(sessionStorage.removeItem("History.store"),sessionStorage.setItem("History.store",currentStoreString))}},History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval)),History.Adapter.bind(window,"beforeunload",History.onUnload),History.Adapter.bind(window,"unload",History.onUnload)),History.emulated.pushState||(History.bugs.safariPoll&&History.intervalList.push(setInterval(History.safariStatePoll,History.options.safariPollInterval)),"Apple Computer, Inc."!==navigator.vendor&&"Mozilla"!==(navigator.appCodeName||"")||History.Adapter.bind(window,"hashchange",function(){History.Adapter.trigger(window,"popstate")}))}}(window),function(jQuery,window){"use strict";var matched,browser;if(jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(opr)[\/]([\w.]+)/.exec(ua)||/(chrome)[ \/]([\w.]+)/.exec(ua)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[],platform_match=/(ipad)/.exec(ua)||/(iphone)/.exec(ua)||/(android)/.exec(ua)||/(windows phone)/.exec(ua)||/(win)/.exec(ua)||/(mac)/.exec(ua)||/(linux)/.exec(ua)||[];return{"browser":match[3]||match[1]||"","version":match[2]||"0","platform":platform_match[0]||""}},matched=jQuery.uaMatch(window.navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version,browser.versionNumber=parseFloat(matched.version,10)),matched.platform&&(browser[matched.platform]=!0),(browser.chrome||browser.opr||browser.safari)&&(browser.webkit=!0),browser.rv){var ie="msie";matched.browser=ie,browser[ie]=!0}if(browser.opr){var opera="opera";matched.browser=opera,browser[opera]=!0}browser.name=matched.browser,browser.platform=matched.platform,jQuery.browser=browser}(jQuery,window),function($){"use strict";$.ajaxPrefilter(function(options){if(options.iframe)return"iframe"}),$.ajaxTransport("iframe",function(options,origOptions,jqXHR){function cleanUp(){form&&(files.each(function(i,file){var $file=$(file);$file.data("clone").replaceWith($file)}),form.remove(),form=null),iframe.bind("load",function(){iframe.remove()}),iframe.attr("src","javascript:false;")}var accepts,form=null,iframe=null,name="iframe-"+$.now(),files=$(options.files).filter(":file:enabled");if(options.dataTypes.shift(),files.length)return form=$("<form enctype='multipart/form-data' method='post'></form>").hide().attr({"action":options.url,"target":name}),"string"==typeof options.data&&options.data.length>0&&$.error("data must not be serialized"),$.each(options.data||{},function(name,value){$.isPlainObject(value)&&(name=value.name,value=value.value),$("<input type='hidden' />").attr({"name":name,"value":value}).appendTo(form)}),$("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(form),accepts=options.dataTypes[0]&&options.accepts[options.dataTypes[0]]?options.accepts[options.dataTypes[0]]+("*"!==options.dataTypes[0]?", */*; q=0.01":""):options.accepts["*"],$("<input type='hidden' name='X-Http-Accept'>").attr("value",accepts).appendTo(form),files.after(function(){var $this=$(this),$clone=$this.clone().prop("disabled",!0);return $this.data("clone",$clone),$clone}).next(),files.appendTo(form),{"send":function(headers,completeCallback){iframe=$("<iframe src='javascript:false;' name='"+name+"' id='"+name+"' style='display:none'></iframe>"),iframe.bind("load",function(){iframe.unbind("load").bind("load",function(){var doc=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,root=doc.documentElement?doc.documentElement:doc.body,textarea=root.getElementsByTagName("textarea")[0],type=textarea&&textarea.getAttribute("data-type")||null,status=textarea&&textarea.getAttribute("data-status")||200,statusText=textarea&&textarea.getAttribute("data-statusText")||"OK",content={"html":root.innerHTML,"text":type?textarea.value:root?root.textContent||root.innerText:null};cleanUp(),jqXHR.responseText||(jqXHR.responseText=content.text),completeCallback(status,statusText,content,type?"Content-Type: "+type:null)}),form[0].submit()}),$("body").append(form,iframe)},"abort":function(){null!==iframe&&(iframe.unbind("load").attr("src","javascript:false;"),cleanUp())}}})}(jQuery),function($){var remotipart;$.remotipart=remotipart={"setup":function(form){var button=form.data("ujs:submit-button"),csrfParam=$('meta[name="csrf-param"]').attr("content"),csrfToken=$('meta[name="csrf-token"]').attr("content"),csrfInput=form.find('input[name="'+csrfParam+'"]').length;form.one("ajax:beforeSend.remotipart",function(e,xhr,settings){return delete settings.beforeSend,settings.iframe=!0,settings.files=$($.rails.fileInputSelector,form),settings.data=form.serializeArray(),button&&settings.data.push(button),settings.processData=!1,settings.dataType===undefined&&(settings.dataType="script *"),settings.data.push({"name":"remotipart_submitted","value":!0}),csrfToken&&csrfParam&&!csrfInput&&settings.data.push({"name":csrfParam,"value":csrfToken}),$.rails.fire(form,"ajax:remotipartSubmit",[xhr,settings])&&($.rails.ajax(settings),setTimeout(function(){$.rails.disableFormElements(form)},20)),remotipart.teardown(form),!1}).data("remotipartSubmitted",!0)},"teardown":function(form){form.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},$(document).on("ajax:aborted:file","form",function(){var form=$(this);return remotipart.setup(form),$.rails.handleRemote(form),!1})}(jQuery),function($){$.extend({"bez":function(coOrdArray){var encodedFuncName="bez_"+$.makeArray(arguments).join("_").replace(/\./g,"p");if("function"!=typeof $.easing[encodedFuncName]){var polyBez=function(p1,p2){var A=[null,null],B=[null,null],C=[null,null],bezCoOrd=function(t,ax){return C[ax]=3*p1[ax],B[ax]=3*(p2[ax]-p1[ax])-C[ax],A[ax]=1-C[ax]-B[ax],t*(C[ax]+t*(B[ax]+t*A[ax]))},xDeriv=function(t){return C[0]+t*(2*B[0]+3*A[0]*t)},xForT=function(t){for(var z,x=t,i=0;++i<14&&(z=bezCoOrd(x,0)-t,!(Math.abs(z)<.001));)x-=z/xDeriv(x);return x};return function(t){return bezCoOrd(xForT(t),1)}};$.easing[encodedFuncName]=function(x,t,b,c,d){return c*polyBez([coOrdArray[0],coOrdArray[1]],[coOrdArray[2],coOrdArray[3]])(t/d)+b}}return encodedFuncName}})}(jQuery),function($){$.deparam=function(params,coerce){var obj={},coerce_types={"true":!0,"false":!1,"null":null};return $.each(params.replace(/\+/g," ").split("&"),function(j,v){var val,param=v.split("="),key=decodeURIComponent(param[0]),cur=obj,i=0,keys=key.split("]["),keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])?(keys[keys_last]=keys[keys_last].replace(/\]$/,""),keys=keys.shift().split("[").concat(keys),keys_last=keys.length-1):keys_last=0,2===param.length)if(val=decodeURIComponent(param[1]),coerce&&(val=val&&!isNaN(val)?+val:"undefined"===val?undefined:coerce_types[val]!==undefined?coerce_types[val]:val),keys_last)for(;i<=keys_last;i++)key=""===keys[i]?cur.length:keys[i],cur=cur[key]=i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val;else $.isArray(obj[key])?obj[key].push(val):obj[key]!==undefined?obj[key]=[obj[key],val]:obj[key]=val;else key&&(obj[key]=coerce?undefined:"")}),obj}}(jQuery),function(){var $,validateElement,validateForm,validatorsFor,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};$=jQuery,$.fn.disableClientSideValidations=function(){return ClientSideValidations.disable(this),this},$.fn.enableClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.enablers.form(this)}),this.filter(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)}),this},$.fn.resetClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.reset(this)}),this},$.fn.validate=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return $(this).enableClientSideValidations()}),this},$.fn.isValid=function(validators){var obj;return obj=$(this[0]),obj.is("form")?validateForm(obj,validators):validateElement(obj,validatorsFor(this[0].name,validators))},validatorsFor=function(name,validators){var captures,validator_name;if(captures=name.match(/\[(\w+_attributes)\].*\[(\w+)\]$/))for(validator_name in validators)validators[validator_name],validator_name.match("\\["+captures[1]+"\\].*\\[\\]\\["+captures[2]+"\\]$")&&(name=name.replace(/\[[\da-z_]+\]\[(\w+)\]$/g,"[][$1]"));return validators[name]||{}},validateForm=function(form,validators){var valid;return form.trigger("form:validate:before.ClientSideValidations"),valid=!0,form.find(ClientSideValidations.selectors.validate_inputs).each(function(){return $(this).isValid(validators)||(valid=!1),!0}),valid?form.trigger("form:validate:pass.ClientSideValidations"):form.trigger("form:validate:fail.ClientSideValidations"),form.trigger("form:validate:after.ClientSideValidations"),valid},validateElement=function(element,validators){var afterValidate,destroyInputName,executeValidators,failElement,local,passElement,remote;return element.trigger("element:validate:before.ClientSideValidations"),passElement=function(){return element.trigger("element:validate:pass.ClientSideValidations").data("valid",null)},failElement=function(message){return element.trigger("element:validate:fail.ClientSideValidations",message).data("valid",!1),!1},afterValidate=function(){return!1!==element.trigger("element:validate:after.ClientSideValidations").data("valid")},executeValidators=function(context){var fn,kind,message,valid,validator,_i,_len,_ref;valid=!0;for(kind in context)if(fn=context[kind],validators[kind]){for(_ref=validators[kind],_i=0,_len=_ref.length;_i<_len;_i++)if(validator=_ref[_i],message=fn.call(context,element,validator)){valid=failElement(message);break}if(!valid)break}return valid},destroyInputName=element.attr("name").replace(/\[([^\]]*?)\]$/,"[_destroy]"),"1"===$("input[name='"+destroyInputName+"']").val()?(passElement(),afterValidate()):!1===element.data("changed")?afterValidate():(element.data("changed",!1),local=ClientSideValidations.validators.local,remote=ClientSideValidations.validators.remote,executeValidators(local)&&executeValidators(remote)&&passElement(),afterValidate())},void 0===window.ClientSideValidations&&(window.ClientSideValidations={}),void 0===window.ClientSideValidations.forms&&(window.ClientSideValidations.forms={}),window.ClientSideValidations.selectors={"inputs":':input:not(button):not([type="submit"])[name]:visible:enabled',"validate_inputs":":input:enabled:visible[data-validate]","forms":"form[data-validate]"},window.ClientSideValidations.reset=function(form){var $form,key;$form=$(form),ClientSideValidations.disable(form);for(key in form.ClientSideValidations.settings.validators)form.ClientSideValidations.removeError($form.find("[name='"+key+"']"));return ClientSideValidations.enablers.form(form)},window.ClientSideValidations.disable=function(target){var $target;return $target=$(target),$target.off(".ClientSideValidations"),$target.is("form")?ClientSideValidations.disable($target.find(":input")):($target.removeData("valid"),$target.removeData("changed"),$target.filter(":input").each(function(){return $(this).removeAttr("data-validate")}))},window.ClientSideValidations.enablers={"form":function(form){var $form,binding,event,_ref;$form=$(form),form.ClientSideValidations={"settings":window.ClientSideValidations.forms[$form.attr("id")],"addError":function(element,message){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].add(element,form.ClientSideValidations.settings,message)},"removeError":function(element){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].remove(element,form.ClientSideValidations.settings)}},_ref={"submit.ClientSideValidations":function(eventData){if(!$form.isValid(form.ClientSideValidations.settings.validators))return eventData.preventDefault(),eventData.stopImmediatePropagation()},"ajax:beforeSend.ClientSideValidations":function(eventData){if(eventData.target===this)return $form.isValid(form.ClientSideValidations.settings.validators)},"form:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.after($form,eventData)},"form:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.before($form,eventData)},"form:validate:fail.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.fail($form,eventData)},"form:validate:pass.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.pass($form,eventData)}};for(event in _ref)binding=_ref[event],$form.on(event,binding);return $form.find(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)})},"input":function(input){var $form,$input,binding,event,form,_ref;$input=$(input),form=input.form,$form=$(form),_ref={"focusout.ClientSideValidations":function(){return $(this).isValid(form.ClientSideValidations.settings.validators)},"change.ClientSideValidations":function(){return $(this).data("changed",!0)},"element:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.after($(this),eventData)},"element:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.before($(this),eventData)},"element:validate:fail.ClientSideValidations":function(eventData,message){var element;return element=$(this),ClientSideValidations.callbacks.element.fail(element,message,function(){return form.ClientSideValidations.addError(element,message)},eventData)},"element:validate:pass.ClientSideValidations":function(eventData){var element;return element=$(this),ClientSideValidations.callbacks.element.pass(element,function(){return form.ClientSideValidations.removeError(element)},eventData)}};for(event in _ref)binding=_ref[event],$input.filter(":not(:radio)").each(function(){return $(this).attr("data-validate",!0)}).on(event,binding);return $input.filter(":checkbox").on("change.ClientSideValidations",function(){return $(this).isValid(form.ClientSideValidations.settings.validators)}),$input.filter("[id$=_confirmation]").each(function(){var confirmationElement,element,_ref1,_results;if(confirmationElement=$(this),element=$form.find("#"+this.id.match(/(.+)_confirmation/)[1]+":input"),element[0]){var validateConfirmElement=function(){return void 0===confirmationElement.data("valid")||confirmationElement.data("changed",!0).isValid(form.ClientSideValidations.settings.validators)};_ref1={"focusout.ClientSideValidations":validateConfirmElement,"keyup.ClientSideValidations":validateConfirmElement},_results=[];for(event in _ref1)binding=_ref1[event],_results.push($("#"+element.attr("id")).on(event,binding));return _results}})}},window.ClientSideValidations.validators={"all":function(){return jQuery.extend({},ClientSideValidations.validators.local,ClientSideValidations.validators.remote)},"local":{"absence":function(element,options){if(!/^\s*$/.test(element.val()||""))return options.message},"presence":function(element,options){if(/^\s*$/.test(element.val()||""))return options.message},"acceptance":function(element,options){var _ref;switch(element.attr("type")){case"checkbox":if(!element.prop("checked"))return options.message;break;case"text":if(element.val()!==((null!=(_ref=options.accept)?_ref.toString():void 0)||"1"))return options.message}},"format":function(element,options){var message;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}return options["with"]&&!options["with"].test(element.val())?options.message:options.without&&options.without.test(element.val())?options.message:void 0},"numericality":function(element,options){var CHECKS,check,check_value,form,operator,val;if(val=jQuery.trim(element.val()),!ClientSideValidations.patterns.numericality.test(val)){if(!0===options.allow_blank&&this.presence(element,{"message":options.messages.numericality}))return;return options.messages.numericality}if(val=val.replace(new RegExp("\\"+ClientSideValidations.number_format.delimiter,"g"),"").replace(new RegExp("\\"+ClientSideValidations.number_format.separator,"g"),"."),options.only_integer&&!/^[+-]?\d+$/.test(val))return options.messages.only_integer;CHECKS={"greater_than":">","greater_than_or_equal_to":">=","equal_to":"==","less_than":"<","less_than_or_equal_to":"<="},form=$(element[0].form);for(check in CHECKS)if(operator=CHECKS[check],null!=options[check]){if(!isNaN(parseFloat(options[check]))&&isFinite(options[check]))check_value=options[check];else{if(1!==form.find("[name*="+options[check]+"]").size())return;check_value=form.find("[name*="+options[check]+"]").val()}if(!new Function("return "+val+" "+operator+" "+check_value)())return options.messages[check]}return!options.odd||parseInt(val,10)%2?options.even&&parseInt(val,10)%2?options.messages.even:void 0:options.messages.odd},"length":function(element,options){var CHECKS,blankOptions,check,message,operator,tokenized_length,tokenizer;if(tokenizer=options.js_tokenizer||"split('')",tokenized_length=new Function("element","return (element.val()."+tokenizer+" || '').length")(element),CHECKS={"is":"==","minimum":">=","maximum":"<="},blankOptions={},blankOptions.message=options.is?options.messages.is:options.minimum?options.messages.minimum:void 0,message=this.presence(element,blankOptions)){if(!0===options.allow_blank)return;return message}for(check in CHECKS)if(operator=CHECKS[check],options[check]&&!new Function("return "+tokenized_length+" "+operator+" "+options[check])())return options.messages[check]},"exclusion":function(element,options){var lower,message,option,upper,_ref;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}return options["in"]&&(_ref=element.val(),__indexOf.call(function(){var _i,_len,_ref1,_results;for(_ref1=options["in"],_results=[],_i=0,_len=_ref1.length;_i<_len;_i++)option=_ref1[_i],_results.push(option.toString());return _results}(),_ref)>=0)?options.message:options.range&&(lower=options.range[0],upper=options.range[1],element.val()>=lower&&element.val()<=upper)?options.message:void 0},"inclusion":function(element,options){var lower,message,option,upper,_ref;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}if(options["in"]){if(_ref=element.val(),__indexOf.call(function(){var _i,_len,_ref1,_results;for(_ref1=options["in"],_results=[],_i=0,_len=_ref1.length;_i<_len;_i++)option=_ref1[_i],_results.push(option.toString());return _results}(),_ref)>=0)return;return options.message}if(options.range){if(lower=options.range[0],upper=options.range[1],element.val()>=lower&&element.val()<=upper)return;return options.message}},"confirmation":function(element,options){if(element.val()!==jQuery("#"+element.attr("id").replace("_confirmation","")).val())return options.message},"uniqueness":function(element,options){var form,matches,name,name_prefix,name_suffix,valid,value;if(name=element.attr("name"),/_attributes\]\[\d/.test(name)&&(matches=name.match(/^(.+_attributes\])\[\d+\](.+)$/),name_prefix=matches[1],name_suffix=matches[2],value=element.val(),name_prefix&&name_suffix&&(form=element.closest("form"),valid=!0,form.find(':input[name^="'+name_prefix+'"][name$="'+name_suffix+'"]').each(function(){if($(this).attr("name")!==name){if($(this).val()===value)return valid=!1,$(this).data("notLocallyUnique",!0);if($(this).data("notLocallyUnique"))return $(this).removeData("notLocallyUnique").data("changed",!0)}}),!valid)))return options.message}},"remote":{"uniqueness":function(element,options){var data,key,message,name,scope_value,scoped_element,scoped_name,_ref;if(message=ClientSideValidations.validators.local.presence(element,options)){if(!0===options.allow_blank)return;return message}if(data={},data.case_sensitive=!!options.case_sensitive,options.id&&(data.id=options.id),options.scope){data.scope={},_ref=options.scope;for(key in _ref)scope_value=_ref[key],scoped_name=element.attr("name").replace(/\[\w+\]$/,"["+key+"]"),scoped_element=jQuery("[name='"+scoped_name+"']"),jQuery("[name='"+scoped_name+"']:checkbox").each(function(){if(this.checked)return scoped_element=this}),scoped_element[0]&&scoped_element.val()!==scope_value?(data.scope[key]=scoped_element.val(),scoped_element.unbind("change."+element.id).bind("change."+element.id,function(){return element.trigger("change.ClientSideValidations"),element.trigger("focusout.ClientSideValidations")})):data.scope[key]=scope_value}if(/_attributes\]/.test(element.attr("name"))?(name=element.attr("name").match(/\[\w+_attributes\]/g).pop().match(/\[(\w+)_attributes\]/).pop(),
name+=/(\[\w+\])$/.exec(element.attr("name"))[1]):name=element.attr("name"),options["class"]&&(name=options["class"]+"["+name.split("[")[1]),data[name]=element.val(),200===jQuery.ajax({"url":ClientSideValidations.remote_validators_url_for("uniqueness"),"data":data,"async":!1,"cache":!1}).status)return options.message}}},window.ClientSideValidations.remote_validators_url_for=function(validator){return null!=ClientSideValidations.remote_validators_prefix?"//"+window.location.host+"/"+ClientSideValidations.remote_validators_prefix+"/validators/"+validator:"//"+window.location.host+"/validators/"+validator},window.ClientSideValidations.disableValidators=function(){var validator,_ref,_results;if(void 0!==window.ClientSideValidations.disabled_validators){_ref=window.ClientSideValidations.validators.remote,_results=[];for(validator in _ref)_ref[validator],__indexOf.call(window.ClientSideValidations.disabled_validators,validator)>=0?_results.push(delete window.ClientSideValidations.validators.remote[validator]):_results.push(void 0);return _results}},window.ClientSideValidations.formBuilders={"ActionView::Helpers::FormBuilder":{"add":function(element,settings,message){$(element[0].form),element.attr("data-error-message",message)},"remove":function(element){element.attr("data-error-message",null)}}},window.ClientSideValidations.patterns={"numericality":/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/},window.ClientSideValidations.callbacks={"element":{"after":function(){},"before":function(){},"fail":function(element,message,addError){return addError()},"pass":function(element,removeError){return removeError()}},"form":{"after":function(){},"before":function(){},"fail":function(){},"pass":function(){}}},$(function(){ClientSideValidations.disableValidators()})}.call(this),function($){"$:nomunge";var interval_id,last_hash,rm_callback,p_receiveMessage,cache_bust=1,window=this,FALSE=!1,postMessage="postMessage",addEventListener="addEventListener",has_postMessage=window[postMessage];$[postMessage]=function(message,target_url,target){target_url&&(message="string"==typeof message?message:$.param(message),has_postMessage?(target=target||parent,target[postMessage](message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))):target?target.location=target_url.replace(/#.*$/,"")+"#"+ +new Date+cache_bust+++"&"+message:top.location=target_url.replace(/#.*$/,"")+"#"+ +new Date+cache_bust+++"&"+message)},$.receiveMessage=p_receiveMessage=function(callback,source_origin,delay){if(has_postMessage)callback&&(rm_callback&&p_receiveMessage(),rm_callback=function(e){if("string"==typeof source_origin&&e.origin!==source_origin||$.isFunction(source_origin)&&source_origin(e.origin)===FALSE)return FALSE;callback(e)}),window[addEventListener]?window[callback?addEventListener:"removeEventListener"]("message",rm_callback,FALSE):window[callback?"attachEvent":"detachEvent"]("onmessage",rm_callback);else if(interval_id&&clearInterval(interval_id),interval_id=null,callback){delay="number"==typeof source_origin?source_origin:"number"==typeof delay?delay:100;try{last_hash=top.location.hash}catch(e){last_hash=document.location.hash}interval_id=setInterval(function(){var hash,re=/^#?\d+&/;try{hash=top.location.hash}catch(e){hash=document.location.hash}hash!==last_hash&&re.test(hash)&&(last_hash=hash,callback({"data":hash.replace(re,"")}))},delay)}}}(jQuery),function($,window,undefined){"$:nomunge";function loopy(){timeout_id=window[str_setTimeout](function(){elems.each(function(){var elem=$(this),width=elem.width(),height=elem.height(),data=$.data(this,str_data);width===data.w&&height===data.h||elem.trigger(str_resize,[data.w=width,data.h=height])}),loopy()},jq_resize[str_delay])}var timeout_id,elems=$([]),jq_resize=$.resize=$.extend($.resize,{}),str_setTimeout="setTimeout",str_resize="resize",str_data=str_resize+"-special-event",str_delay="delay",str_throttle="throttleWindow";jq_resize[str_delay]=250,jq_resize[str_throttle]=!0,$.event.special[str_resize]={"setup":function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return!1;var elem=$(this);elems=elems.add(elem),$.data(this,str_data,{"w":elem.width(),"h":elem.height()}),1===elems.length&&loopy()},"teardown":function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return!1;var elem=$(this);elems=elems.not(elem),elem.removeData(str_data),elems.length||clearTimeout(timeout_id)},"add":function(handleObj){function new_handler(e,w,h){var elem=$(this),data=$.data(this,str_data);data.w=w!==undefined?w:elem.width(),data.h=h!==undefined?h:elem.height(),old_handler.apply(this,arguments)}if(!jq_resize[str_throttle]&&this[str_setTimeout])return!1;var old_handler;if($.isFunction(handleObj))return old_handler=handleObj,new_handler;old_handler=handleObj.handler,handleObj.handler=new_handler}}}(jQuery,this),function($){function find_instance(id){if("string"==typeof id){var position=id.indexOf("_");-1!=position&&(id=id.substr(position+1))}return id}function nextHandle(e){if(!$(this).hasClass("disabled")){e.preventDefault();var id=find_instance($(this).attr("data-id")),data=als[id];$(this).off(),data.prev.off(),$.fn.als("next",id)}}function prevHandle(e){if(!$(this).hasClass("disabled")){e.preventDefault();var id=find_instance($(this).attr("data-id")),data=als[id];$(this).off(),data.next.off(),$.fn.als("prev",id)}}var als=[],instance=0,methods={"init":function(options){this.each(function(){var defaults={"visible_items":3,"scrolling_items":1,"orientation":"horizontal","circular":"no","autoscroll":"no","interval":4e3,"direction":"left","start_from":0},$obj=$(this),data=$obj.data("als"),$options=$(),$item=$(),$wrapper=$(),$viewport=$(),$prev=$(),$next=$(),num_items=0,viewport_width=0,wrapper_width=0,viewport_height=0,wrapper_height=0,initial_movement=0,i=0,j=0,current=0,timer=0;switch($options=$.extend(defaults,options),"no"==$options.circular&&"yes"==$options.autoscroll&&($options.circular="yes"),$obj.attr("id")&&""!=$obj.attr("id")||$obj.attr("id","als-container_"+instance),$viewport=$obj.find(".als-viewport").attr("id","als-viewport_"+instance),$wrapper=$obj.find(".als-wrapper").attr("id","als-wrapper_"+instance),$item=$obj.find(".als-item"),num_items=$item.size(),$options.visible_items>num_items&&($options.visible_items=num_items),$options.scrolling_items>$options.visible_items&&($options.scrolling_items=$options.visible_items-1),$options.start_from>num_items-$options.visible_items&&($options.start_from=0),$prev=$obj.find(".als-prev").attr("data-id","als-prev_"+instance),$next=$obj.find(".als-next").attr("data-id","als-next_"+instance),$options.orientation){case"horizontal":default:if($item.each(function(index){$(this).attr("id","als-item_"+instance+"_"+index),wrapper_width+=$(this).outerWidth(!0),i<$options.visible_items&&(0==$options.start_from?(viewport_width+=$(this).outerWidth(!0),i++):index>=$options.start_from&&(viewport_width+=$(this).outerWidth(!0),i++)),0!=$options.start_from&&(j<$options.start_from&&(initial_movement+=$(this).outerWidth(!0),j++),current=$options.start_from)}),$wrapper.css("width",wrapper_width),$item.css("left",-initial_movement),$viewport.css("width",viewport_width),$wrapper.css("height",$item.outerHeight(!0)),$viewport.css("height",$item.outerHeight(!0)),"yes"==$options.circular&&0!=$options.start_from)for(r=0;r<$options.start_from;r++){var position=$item.last().position(),riposizionamento_dx=position.left+$item.last().outerWidth(!0);$item.eq(r).css("left",riposizionamento_dx)}break;case"vertical":if($item.each(function(index){$(this).attr("id","als-item_"+instance+"_"+index),wrapper_height+=$(this).outerHeight(!0),i<$options.visible_items&&(0==$options.start_from?(viewport_height+=$(this).outerHeight(!0),i++):index>=$options.start_from&&(viewport_height+=$(this).outerHeight(!0),i++)),0!=$options.start_from&&(j<$options.start_from&&(initial_movement+=$(this).outerHeight(!0),j++),current=$options.start_from)}),$wrapper.css("height",wrapper_height),$item.css("top",-initial_movement),$viewport.css("height",viewport_height),$wrapper.css("width",$item.width(!0)),$viewport.css("width",$item.width(!0)),"yes"==$options.circular&&0!=$options.start_from)for(r=0;r<$options.start_from;r++){var position=$item.last().position(),riposizionamento_bottom=position.top+$item.last().outerHeight(!0);$item.eq(r).css("top",riposizionamento_bottom)}}return"no"==$options.circular&&(0==$options.start_from?$prev.addClass("disabled"):$prev.removeClass("disabled"),$options.visible_items+$options.start_from==num_items?$next.addClass("disabled"):$next.removeClass("disabled")),data=$obj.data("als"),data||($next.on("click",nextHandle),$prev.on("click",prevHandle)),$obj.data("als",{"container":$obj,"instance":instance,"options":$options,"viewport":$viewport,"wrapper":$wrapper,"prev":$prev,"next":$next,"item":$item,"num_items":num_items,"wrapper_width":wrapper_width,"viewport_width":viewport_width,"wrapper_height":wrapper_height,"viewport_height":viewport_height,"current":current,"timer":timer}),data=$obj.data("als"),als[instance]=data,"yes"==$options.autoscroll?($.fn.als("start",instance),$wrapper.hover(function(){$.fn.als("stop",$(this).attr("id"))},function(){$.fn.als("start",$(this).attr("id"))})):"no"==$options.autoscroll&&$.fn.als("stop",instance),instance++,als})},"next":function(id){id=find_instance(id);var data=als[id],k1=0,k2=0;switch(data.options.orientation){case"horizontal":default:var spostamento_sx=0,viewport_width=0;switch(data.options.circular){case"no":default:for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_sx+=data.item.eq(k1).outerWidth(!0);for(data.current+=data.options.scrolling_items,k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_width+=data.item.eq(k2).outerWidth(!0);data.viewport.animate({"width":viewport_width},600),data.item.animate({"left":"-="+spostamento_sx},600),data.item.promise().done(function(){data.next.on("click",nextHandle),data.prev.on("click",prevHandle)}),data.current>0&&data.prev.removeClass("disabled"),data.current+data.options.visible_items>=data.num_items&&data.next.addClass("disabled");break;case"yes":var memo=0,memo_index=[];for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_sx+=data.item.eq(k3).outerWidth(!0),memo_index[memo]=k3,memo++}for(data.current+=data.options.scrolling_items,data.current>=data.num_items&&(data.current-=data.num_items),k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_width+=data.item.eq(k4).outerWidth(!0)}data.viewport.animate({"width":viewport_width},600),data.item.animate({"left":"-="+spostamento_sx},600),data.item.promise().done(function(){var position=data.item.last().position(),riposizionamento_dx=position.left+data.item.last().outerWidth(!0);for(k5=0;k5<memo_index.length;k5++){if(0==memo_index[k5])var position=data.item.last().position(),riposizionamento_dx=position.left+data.item.last().outerWidth(!0);data.item.eq(memo_index[k5]).css("left",riposizionamento_dx)}data.next.on("click",nextHandle),data.prev.on("click",prevHandle)})}break;case"vertical":var spostamento_top=0,viewport_height=0;switch(data.options.circular){case"no":default:for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_top+=data.item.eq(k1).outerHeight(!0);for(data.current+=data.options.scrolling_items,k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_height+=data.item.eq(k2).outerHeight(!0);data.viewport.animate({"height":viewport_height},600),data.item.animate({"top":"-="+spostamento_top},600),data.item.promise().done(function(){data.next.on("click",nextHandle),data.prev.on("click",prevHandle)}),data.current>0&&data.prev.removeClass("disabled"),data.current+data.options.visible_items>=data.num_items&&data.next.addClass("disabled");break;case"yes":var memo=0,memo_index=[];for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_top+=data.item.eq(k3).outerHeight(!0),memo_index[memo]=k3,memo++}for(data.current+=data.options.scrolling_items,data.current>=data.num_items&&(data.current-=data.num_items),k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_height+=data.item.eq(k4).outerHeight(!0)}data.viewport.animate({"height":viewport_height}),data.item.animate({"top":"-="+spostamento_top}),data.item.promise().done(function(){var position=data.item.last().position(),riposizionamento_bottom=position.top+data.item.last().outerHeight(!0);for(k5=0;k5<memo_index.length;k5++){if(0==memo_index[k5])var position=data.item.last().position(),riposizionamento_bottom=position.top+data.item.last().outerHeight(!0);data.item.eq(memo_index[k5]).css("top",riposizionamento_bottom)}data.next.on("click",nextHandle),data.prev.on("click",prevHandle)})}}return als[id]=data,als},"prev":function(id){id=find_instance(id);var data=als[id],k1=0,k2=0;switch(data.options.orientation){case"horizontal":default:var spostamento_dx=0,viewport_width=0;switch(data.options.circular){case"no":default:for(data.current-=data.options.scrolling_items,k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_dx+=data.item.eq(k1).outerWidth(!0);for(k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_width+=data.item.eq(k2).outerWidth(!0);data.viewport.animate({"width":viewport_width}),data.item.animate({"left":"+="+spostamento_dx},600),data.item.promise().done(function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)}),data.current<=0&&data.prev.addClass("disabled"),data.current+data.options.visible_items<data.num_items&&data.next.removeClass("disabled");break;case"yes":var memo=0,memo_index=[];for(data.current-=data.options.scrolling_items,data.current<0&&(data.current+=data.num_items),k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_dx+=data.item.eq(k3).outerWidth(!0),memo_index[memo]=k3,memo++}for(k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_width+=data.item.eq(k4).outerWidth(!0)}var position=data.item.first().position(),riposizionamento_sx=position.left-data.wrapper_width;for(k5=0;k5<memo_index.length;k5++)if(data.item.eq(memo_index[k5]).css("left",riposizionamento_sx),0==memo_index[k5]&&memo_index[k5-1]==data.num_items-1){var position=data.item.first().position(),riposizionamento_sx=position.left-data.wrapper_width;data.item.eq(memo_index[k5-1]).css("left",riposizionamento_sx)}setTimeout(function(){data.viewport.animate({"width":viewport_width}),data.item.animate({"left":"+="+spostamento_dx},600),data.item.promise().done(function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)})},200)}break;case"vertical":var spostamento_bottom=0,viewport_height=0;switch(data.options.circular){case"no":default:for(data.current-=data.options.scrolling_items,k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_bottom+=data.item.eq(k1).outerHeight(!0);for(k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_height+=data.item.eq(k2).outerHeight(!0);data.viewport.animate({"height":viewport_height}),data.item.animate({"top":"+="+spostamento_bottom},600),data.item.promise().done(function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)}),data.current<=0&&data.prev.addClass("disabled"),data.current+data.options.visible_items<data.num_items&&data.next.removeClass("disabled");break;case"yes":var memo=0,memo_index=[];for(data.current-=data.options.scrolling_items,data.current<0&&(data.current+=data.num_items),k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_bottom+=data.item.eq(k3).outerHeight(!0),memo_index[memo]=k3,memo++}for(k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_height+=data.item.eq(k4).outerHeight(!0)}var position=data.item.first().position(),riposizionamento_top=position.top-data.wrapper_height;for(k5=0;k5<memo_index.length;k5++)if(data.item.eq(memo_index[k5]).css("top",riposizionamento_top),0==memo_index[k5]&&memo_index[k5-1]==data.num_items-1){var position=data.item.first().position(),riposizionamento_top=position.top-data.wrapper_height;data.item.eq(memo_index[k5-1]).css("top",riposizionamento_top)}setTimeout(function(){data.viewport.animate({"height":viewport_height},600),data.item.animate({"top":"+="+spostamento_bottom},600),data.item.promise().done(function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)})},200)}}return als[id]=data,als},"start":function(id){id=find_instance(id);var data=als[id];switch(0!=data.timer&&clearInterval(data.timer),data.options.direction){case"left":case"up":default:data.timer=setInterval(function(){data.next.off(),data.prev.off(),$.fn.als("next",id)},data.options.interval);break;case"right":case"down":data.timer=setInterval(function(){data.prev.off(),data.next.off(),$.fn.als("prev",id)},data.options.interval)}return als[id]=data,als},"stop":function(id){id=find_instance(id);var data=als[id];return clearInterval(data.timer),als[id]=data,als},"destroy":function(id){id=find_instance(id);var data=als[id];data.prev.off(),data.next.off(),$.fn.als("stop",id),$.removeData(data,this.name),this.removeClass(this.name),this.unbind(),this.element=null}};$.fn.als=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.als"):methods.init.apply(this,arguments)}}(jQuery),function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;return $.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)}),newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr("placeholder")&&$input.hasClass("placeholder"))if($input.data("placeholder-password")){if($input=$input.hide().next().show().attr("id",$input.removeAttr("id").data("placeholder-id")),!0===event)return $input[0].value=value;$input.focus()}else input.value="",$input.removeClass("placeholder"),input==safeActiveElement()&&input.select()}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(""==input.value){if("password"==input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({"type":"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{"type":"text"}))}$replacement.removeAttr("name").data({"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder),$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder"),$input[0].value=$input.attr("placeholder")}else $input.removeClass("placeholder")}function safeActiveElement(){try{return document.activeElement}catch(err){}}var hooks,placeholder,isOperaMini="[object OperaMini]"==Object.prototype.toString.call(window.operamini),isInputSupported="placeholder"in document.createElement("input")&&!isOperaMini,isTextareaSupported="placeholder"in document.createElement("textarea")&&!isOperaMini,prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks;isInputSupported&&isTextareaSupported?(placeholder=prototype.placeholder=function(){return this},placeholder.input=placeholder.textarea=!0):(placeholder=prototype.placeholder=function(){var $this=this;return $this.filter((isInputSupported?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder"),$this},placeholder.input=isInputSupported,placeholder.textarea=isTextareaSupported,hooks={"get":function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value:$element.data("placeholder-enabled")&&$element.hasClass("placeholder")?"":element.value},"set":function(element,value){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value=value:$element.data("placeholder-enabled")?(""==value?(element.value=value,element!=safeActiveElement()&&setPlaceholder.call(element)):$element.hasClass("placeholder")?clearPlaceholder.call(element,!0,value)||(element.value=value):element.value=value,$element):element.value=value}},isInputSupported||(valHooks.input=hooks,propHooks.value=hooks),isTextareaSupported||(valHooks.textarea=hooks,propHooks.value=hooks),$(function(){$(document).delegate("form","submit.placeholder",function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})}),$(window).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function($){var $ie6=function(){return!1===$.support.boxModel&&$.support.objectAll&&$.support.leadingWhitespace}();$.jGrowl=function(m,o){0==$("#jGrowl").size()&&$('<div id="jGrowl"></div>').addClass(o&&o.position?o.position:$.jGrowl.defaults.position).appendTo("body"),$("#jGrowl").jGrowl(m,o)},$.fn.jGrowl=function(m,o){if($.isFunction(this.each)){var args=arguments;return this.each(function(){$(this).data("jGrowl.instance")==undefined&&($(this).data("jGrowl.instance",$.extend(new $.fn.jGrowl,{"notifications":[],"element":null,"interval":null})),$(this).data("jGrowl.instance").startup(this)),$.isFunction($(this).data("jGrowl.instance")[m])?$(this).data("jGrowl.instance")[m].apply($(this).data("jGrowl.instance"),$.makeArray(args).slice(1)):$(this).data("jGrowl.instance").create(m,o)})}},$.extend($.fn.jGrowl.prototype,{"defaults":{"pool":0,"header":"","group":"","sticky":!1,"position":"top-right","glue":"after","theme":"default","themeState":"highlight","corners":"10px","check":250,"life":3e3,"closeDuration":"normal","openDuration":"normal","easing":"swing","closer":!0,"closeTemplate":"&times;","closerTemplate":"<div>[ close all ]</div>","log":function(){},"beforeOpen":function(){},"afterOpen":function(){},"open":function(){},"beforeClose":function(){},"close":function(){},"animateOpen":{"opacity":"show"},"animateClose":{"opacity":"hide"}},"notifications":[],"element":null,"interval":null,"create":function(message,o){var o=$.extend({},this.defaults,o);"undefined"!=typeof o.speed&&(o.openDuration=o.speed,o.closeDuration=o.speed),this.notifications.push({"message":message,"options":o}),o.log.apply(this.element,[this.element,message,o])},"render":function(notification){var self=this,message=notification.message,o=notification.options;o.themeState=""==o.themeState?"":"ui-state-"+o.themeState;var notification=$("<div/>").addClass("jGrowl-notification "+o.themeState+" ui-corner-all"+(o.group!=undefined&&""!=o.group?" "+o.group:"")).append($("<div/>").addClass("jGrowl-close").html(o.closeTemplate)).append($("<div/>").addClass("jGrowl-header").html(o.header)).append($("<div/>").addClass("jGrowl-message").html(message)).data("jGrowl",o).addClass(o.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){$(this).parent().trigger("jGrowl.beforeClose")}).parent();$(notification).bind("mouseover.jGrowl",function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){!1!==o.beforeOpen.apply(notification,[notification,message,o,self.element])&&$(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){!1!==o.open.apply(notification,[notification,message,o,self.element])&&("after"==o.glue?$("div.jGrowl-notification:last",self.element).after(notification):$("div.jGrowl-notification:first",self.element).before(notification),$(this).animate(o.animateOpen,o.openDuration,o.easing,function(){!1===$.support.opacity&&this.style.removeAttribute("filter"),null!==$(this).data("jGrowl")&&($(this).data("jGrowl").created=new Date),$(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){o.afterOpen.apply(notification,[notification,message,o,self.element])}).bind("jGrowl.beforeClose",function(){!1!==o.beforeClose.apply(notification,[notification,message,o,self.element])&&$(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){$(this).data("jGrowl.pause",!0),$(this).animate(o.animateClose,o.closeDuration,o.easing,function(){$.isFunction(o.close)?!1!==o.close.apply(notification,[notification,message,o,self.element])&&$(this).remove():$(this).remove()})}).trigger("jGrowl.beforeOpen"),""!=o.corners&&$.fn.corner!=undefined&&$(notification).corner(o.corners),$("div.jGrowl-notification:parent",self.element).size()>1&&0==$("div.jGrowl-closer",self.element).size()&&!1!==this.defaults.closer&&$(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(self.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){$(this).siblings().trigger("jGrowl.beforeClose"),$.isFunction(self.defaults.closer)&&self.defaults.closer.apply($(this).parent()[0],[$(this).parent()[0]])})},"update":function(){$(this.element).find("div.jGrowl-notification:parent").each(function(){$(this).data("jGrowl")!=undefined&&$(this).data("jGrowl").created!==undefined&&$(this).data("jGrowl").created.getTime()+parseInt($(this).data("jGrowl").life)<(new Date).getTime()&&!0!==$(this).data("jGrowl").sticky&&($(this).data("jGrowl.pause")==undefined||!0!==$(this).data("jGrowl.pause"))&&$(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||$(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),$(this.element).find("div.jGrowl-notification:parent").size()<2&&$(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){$(this).remove()})},"startup":function(e){this.element=$(e).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){$(e).data("jGrowl.instance").update()},parseInt(this.defaults.check)),$ie6&&$(this.element).addClass("ie6")},"shutdown":function(){$(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},"close":function(){$(this.element).find("div.jGrowl-notification").each(function(){$(this).trigger("jGrowl.beforeClose")})}}),$.jGrowl.defaults=$.fn.jGrowl.prototype.defaults}(jQuery),window.Modernizr=window.Modernizr||function(a,b,c){function v(a){i.cssText=a}function x(a,b){return typeof a===b}var s,u,d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,l=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={"svg":"http://www.w3.org/2000/svg"},n={},q=[],r=q.slice,t={}.hasOwnProperty;u=x(t,"undefined")||x(t.call,"undefined")?function(a,b){return b in a&&x(a.constructor.prototype[b],"undefined")}:function(a,b){return t.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==m.svg};for(var A in n)u(n,A)&&(s=A.toLowerCase(),e[s]=n[A](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if("object"==typeof a)for(var d in a)u(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},v(""),h=null,e._version=d,e._prefixes=l,e}(0,this.document),Modernizr.addTest("cssfilters",function(){var a=document.createElement("div");return a.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!a.style.length&&(document.documentMode===undefined||document.documentMode>9)}),Modernizr.addTest("svgfilters",function(){var a=!1;try{a=typeof SVGFEColorMatrixElement!==undefined&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a}),function($,window){function Plugin(element,options){var classes,fadeClass;options=options||{},classes=options.classes||{},fadeClass=classes.fade||defaults.classes.fade,options.fade=options.fade||element.className.indexOf(fadeClass)>-1,this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="gray",defaults={"fade":!1,"classes":{"fade":"grayscale-fade"}};$.extend(Plugin.prototype,{"init":function(){var element;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(element=$(this.element),(this.cssFilterDeprecated(element)||this.settings.fade)&&this.switchImage(element))},"cssFilterDeprecated":function(element){return"none"===element.css("filter")},"elementType":function(element){return"IMG"===element.prop("tagName")?"Img":"Bg"},"getComputedStyle":function(element){var computedStyle={},styles={};computedStyle=window.getComputedStyle(element,null);for(var i=0,length=computedStyle.length;i<length;i++){var prop=computedStyle[i],val=computedStyle.getPropertyValue(prop);styles[prop]=val}return styles},"extractUrl":function(backgroundImage){return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,backgroundImage.replace(startRegex,"").replace(endRegex,"")},"positionToNegativeMargin":function(backgroundPosition){var x,y;return x=backgroundPosition.match(/^(-?\d+\S+)/)[0],y=backgroundPosition.match(/\s(-?\d+\S+)$/)[0],"margin:"+y+" 0 0 "+x},"getBgSize":function(url,backgroundSize){var img,ratio,defaultW,w,defaultH,h;if(img=new Image,img.src=url,"auto"!==backgroundSize&&"cover"!==backgroundSize&&"contain"!==backgroundSize&&"inherit"!==backgroundSize){var $element=$(this.element);ratio=img.width/img.height,w=parseInt((backgroundSize.match(/^(\d+)px/)||[0,0])[1]),h=parseInt((backgroundSize.match(/\s(\d+)px$/)||[0,0])[1]),defaultW=$element.height()*ratio,defaultH=$element.width()/ratio,w=w||defaultW,h=h||defaultH}return w||h?{"width":w,"height":h}:{"width":img.width,"height":img.height}},"getParams":function(element){return this["get"+this.elementType(element)+"Params"](element)},"getImgParams":function(element){var params={};return params.styles=this.getComputedStyle(element[0]),params.svg={"url":element[0].src,"width":params.styles.width.replace("px",""),"height":params.styles.height.replace("px",""),"offset":""},params},"getBgParams":function(element){var url,params={};return url=this.extractUrl(element.css("background-image")),bgSize=this.getBgSize(url,element.css("background-size")),offset=this.positionToNegativeMargin(element.css("background-position")),params.styles=this.getComputedStyle(element[0]),params.svg=$.extend({"url":url},bgSize,{"offset":offset}),params},"setStyles":function(styles,url,width,height){return styles.display="inline-block",styles.overflow=styles["overflow-x"]=styles["overflow-y"]="hidden",styles["background-image"]='url("'+url+'")',styles["background-size"]=width+"px "+height+"px",delete styles.filter,styles},"addSVGFilterOnce":function(){$body=$("body"),$body.data("plugin_"+pluginName+"_has_filter")||$body.data("plugin_"+pluginName+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="saturate" values="0"/></filter></defs></svg>')},"switchImage":function(element){var params,classes,template;params=this.getParams(element),classes=this.settings.fade?this.settings.classes.fade:"",
template=$('<div class="grayscale grayscale-fade grayscale-replaced '+classes+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+params.svg.width+" "+params.svg.height+'" width="'+params.svg.width+'" height="'+params.svg.height+'" style="'+params.svg.offset+'"><image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+params.svg.width+'" height="'+params.svg.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+params.svg.url+'" /></svg></div>'),params.styles=this.setStyles(params.styles,params.svg.url,params.svg.width,params.svg.height),template.css(params.styles),this.addSVGFilterOnce(),element.replaceWith(template),template.trigger("gray:replaced")}}),$.fn[pluginName]=function(options){return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))}),this},$(window).on("load",function(){$(".grayscale:not(.grayscale-replaced)")[pluginName]()})}(jQuery,window,document),function(wind,$,undef){"use strict";function attrOrProp($el){var args=Array.prototype.slice.call(arguments,1);return $el.prop?$el.prop.apply($el,args):$el.attr.apply($el,args)}function bindMany($el,options,events){var name,namespaced;for(name in events)events.hasOwnProperty(name)&&(namespaced=name.replace(/ |$/g,options.eventNamespace),$el.bind(namespaced,events[name]))}function bindUi($el,$target,options){bindMany($el,options,{"focus":function(){$target.addClass(options.focusClass)},"blur":function(){$target.removeClass(options.focusClass),$target.removeClass(options.activeClass)},"mouseenter":function(){$target.addClass(options.hoverClass)},"mouseleave":function(){$target.removeClass(options.hoverClass),$target.removeClass(options.activeClass)},"mousedown touchbegin":function(){$el.is(":disabled")||$target.addClass(options.activeClass)},"mouseup touchend":function(){$target.removeClass(options.activeClass)}})}function classClearStandard($el,options){$el.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass)}function classUpdate($el,className,enabled){enabled?$el.addClass(className):$el.removeClass(className)}function classUpdateChecked($tag,$el,options){var c="checked",isChecked=$el.is(":"+c);$el.prop?$el.prop(c,isChecked):isChecked?$el.attr(c,c):$el.removeAttr(c),classUpdate($tag,options.checkedClass,isChecked)}function classUpdateDisabled($tag,$el,options){classUpdate($tag,options.disabledClass,$el.is(":disabled"))}function divSpanWrap($el,$container,method){switch(method){case"after":return $el.after($container),$el.next();case"before":return $el.before($container),$el.prev();case"wrap":return $el.wrap($container),$el.parent()}return null}function divSpan($el,options,divSpanConfig){var $div,$span,id;return divSpanConfig||(divSpanConfig={}),divSpanConfig=$.extend({"bind":{},"divClass":null,"divWrap":"wrap","spanClass":null,"spanHtml":null,"spanWrap":"wrap"},divSpanConfig),$div=$("<div />"),$span=$("<span />"),options.autoHide&&$el.is(":hidden")&&"none"===$el.css("display")&&$div.hide(),divSpanConfig.divClass&&$div.addClass(divSpanConfig.divClass),options.wrapperClass&&$div.addClass(options.wrapperClass),divSpanConfig.spanClass&&$span.addClass(divSpanConfig.spanClass),id=attrOrProp($el,"id"),options.useID&&id&&attrOrProp($div,"id",options.idPrefix+"-"+id),divSpanConfig.spanHtml&&$span.html(divSpanConfig.spanHtml),$div=divSpanWrap($el,$div,divSpanConfig.divWrap),$span=divSpanWrap($el,$span,divSpanConfig.spanWrap),classUpdateDisabled($div,$el,options),{"div":$div,"span":$span}}function wrapWithWrapperClass($el,options){var $span;return options.wrapperClass?($span=$("<span />").addClass(options.wrapperClass),$span=divSpanWrap($el,$span,"wrap")):null}function highContrast(){var c,$div,el,rgb;return rgb="rgb(120,2,153)",$div=$('<div style="width:0;height:0;color:'+rgb+'">'),$("body").append($div),el=$div.get(0),c=wind.getComputedStyle?wind.getComputedStyle(el,"").color:(el.currentStyle||el.style||{}).color,$div.remove(),c.replace(/ /g,"")!==rgb}function htmlify(text){return text?$("<span />").text(text).html():""}function isMsie(){return navigator.cpuClass&&!navigator.product}function isMsieSevenOrNewer(){return wind.XMLHttpRequest!==undefined}function isMultiselect($el){var elSize;return!!$el[0].multiple||!(!(elSize=attrOrProp($el,"size"))||elSize<=1)}function returnFalse(){return!1}function noSelect($elem,options){var none="none";bindMany($elem,options,{"selectstart dragstart mousedown":returnFalse}),$elem.css({"MozUserSelect":none,"msUserSelect":none,"webkitUserSelect":none,"userSelect":none})}function setFilename($el,$filenameTag,options){var filename=$el.val();""===filename?filename=options.fileDefaultHtml:(filename=filename.split(/[\/\\]+/),filename=filename[filename.length-1]),$filenameTag.text(filename)}function swap($elements,newCss,callback){var restore,item;for(restore=[],$elements.each(function(){var name;for(name in newCss)Object.prototype.hasOwnProperty.call(newCss,name)&&(restore.push({"el":this,"name":name,"old":this.style[name]}),this.style[name]=newCss[name])}),callback();restore.length;)item=restore.pop(),item.el.style[item.name]=item.old}function sizingInvisible($el,callback){var targets;targets=$el.parents(),targets.push($el[0]),targets=targets.not(":visible"),swap(targets,{"visibility":"hidden","display":"block","position":"absolute"},callback)}function unwrapUnwrapUnbindFunction($el,options){return function(){$el.unwrap().unwrap().unbind(options.eventNamespace)}}var allowStyling=!0,highContrastTest=!1,uniformHandlers=[{"match":function($el){return $el.is("a, button, :submit, :reset, input[type='button']")},"apply":function($el,options){var $div,defaultSpanHtml,ds,getHtml,doingClickEvent;return defaultSpanHtml=options.submitDefaultHtml,$el.is(":reset")&&(defaultSpanHtml=options.resetDefaultHtml),getHtml=$el.is("a, button")?function(){return $el.html()||defaultSpanHtml}:function(){return htmlify(attrOrProp($el,"value"))||defaultSpanHtml},ds=divSpan($el,options,{"divClass":options.buttonClass,"spanHtml":getHtml()}),$div=ds.div,bindUi($el,$div,options),doingClickEvent=!1,bindMany($div,options,{"click touchend":function(){var ev,res,target,href;doingClickEvent||$el.is(":disabled")||(doingClickEvent=!0,$el[0].dispatchEvent?(ev=document.createEvent("MouseEvents"),ev.initEvent("click",!0,!0),res=$el[0].dispatchEvent(ev),$el.is("a")&&res&&(target=attrOrProp($el,"target"),href=attrOrProp($el,"href"),target&&"_self"!==target?wind.open(href,target):document.location.href=href)):$el.click(),doingClickEvent=!1)}}),noSelect($div,options),{"remove":function(){return $div.after($el),$div.remove(),$el.unbind(options.eventNamespace),$el},"update":function(){classClearStandard($div,options),classUpdateDisabled($div,$el,options),$el.detach(),ds.span.html(getHtml()).append($el)}}}},{"match":function($el){return $el.is(":checkbox")},"apply":function($el,options){var ds,$div,$span;return ds=divSpan($el,options,{"divClass":options.checkboxClass}),$div=ds.div,$span=ds.span,bindUi($el,$div,options),bindMany($el,options,{"click touchend":function(){classUpdateChecked($span,$el,options)}}),classUpdateChecked($span,$el,options),{"remove":unwrapUnwrapUnbindFunction($el,options),"update":function(){classClearStandard($div,options),$span.removeClass(options.checkedClass),classUpdateChecked($span,$el,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){return $el.is(":file")},"apply":function($el,options){function filenameUpdate(){setFilename($el,$filename,options)}var ds,$div,$filename,$button;return ds=divSpan($el,options,{"divClass":options.fileClass,"spanClass":options.fileButtonClass,"spanHtml":options.fileButtonHtml,"spanWrap":"after"}),$div=ds.div,$button=ds.span,$filename=$("<span />").html(options.fileDefaultHtml),$filename.addClass(options.filenameClass),$filename=divSpanWrap($el,$filename,"after"),attrOrProp($el,"size")||attrOrProp($el,"size",$div.width()/10),bindUi($el,$div,options),filenameUpdate(),isMsie()?bindMany($el,options,{"click":function(){$el.trigger("change"),setTimeout(filenameUpdate,0)}}):bindMany($el,options,{"change":filenameUpdate}),noSelect($filename,options),noSelect($button,options),{"remove":function(){return $filename.remove(),$button.remove(),$el.unwrap().unbind(options.eventNamespace)},"update":function(){classClearStandard($div,options),setFilename($el,$filename,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){if($el.is("input")){var t=(" "+attrOrProp($el,"type")+" ").toLowerCase();return" color date datetime datetime-local email month number password search tel text time url week ".indexOf(t)>=0}return!1},"apply":function($el,options){var elType,$wrapper;return elType=attrOrProp($el,"type"),$el.addClass(options.inputClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),options.inputAddTypeAsClass&&$el.addClass(elType),{"remove":function(){$el.removeClass(options.inputClass),options.inputAddTypeAsClass&&$el.removeClass(elType),$wrapper&&$el.unwrap()},"update":returnFalse}}},{"match":function($el){return $el.is(":radio")},"apply":function($el,options){var ds,$div,$span;return ds=divSpan($el,options,{"divClass":options.radioClass}),$div=ds.div,$span=ds.span,bindUi($el,$div,options),bindMany($el,options,{"click touchend":function(){$.uniform.update($(':radio[name="'+attrOrProp($el,"name")+'"]'))}}),classUpdateChecked($span,$el,options),{"remove":unwrapUnwrapUnbindFunction($el,options),"update":function(){classClearStandard($div,options),classUpdateChecked($span,$el,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){return!(!$el.is("select")||isMultiselect($el))},"apply":function($el,options){var ds,$div,$span,origElemWidth;return options.selectAutoWidth&&sizingInvisible($el,function(){origElemWidth=$el.width()}),ds=divSpan($el,options,{"divClass":options.selectClass,"spanHtml":($el.find(":selected:first")||$el.find("option:first")).html(),"spanWrap":"before"}),$div=ds.div,$span=ds.span,options.selectAutoWidth?sizingInvisible($el,function(){swap($([$span[0],$div[0]]),{"display":"block"},function(){var spanPad;spanPad=$span.outerWidth()-$span.width(),$div.width(origElemWidth+spanPad),$span.width(origElemWidth)})}):$div.addClass("fixedWidth"),bindUi($el,$div,options),bindMany($el,options,{"change":function(){$span.html($el.find(":selected").html()),$div.removeClass(options.activeClass)},"click touchend":function(){var selHtml=$el.find(":selected").html();$span.html()!==selHtml&&$el.trigger("change")},"keyup":function(){$span.html($el.find(":selected").html())}}),noSelect($span,options),{"remove":function(){return $span.remove(),$el.unwrap().unbind(options.eventNamespace),$el},"update":function(){options.selectAutoWidth?($.uniform.restore($el),$el.uniform(options)):(classClearStandard($div,options),$span.html($el.find(":selected").html()),classUpdateDisabled($div,$el,options))}}}},{"match":function($el){return!(!$el.is("select")||!isMultiselect($el))},"apply":function($el,options){var $wrapper;return $el.addClass(options.selectMultiClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),{"remove":function(){$el.removeClass(options.selectMultiClass),$wrapper&&$el.unwrap()},"update":returnFalse}}},{"match":function($el){return $el.is("textarea")},"apply":function($el,options){var $wrapper;return $el.addClass(options.textareaClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),{"remove":function(){$el.removeClass(options.textareaClass),$wrapper&&$el.unwrap()},"update":returnFalse}}}];isMsie()&&!isMsieSevenOrNewer()&&(allowStyling=!1),$.uniform={"defaults":{"activeClass":"active","autoHide":!0,"buttonClass":"button","checkboxClass":"checker","checkedClass":"checked","disabledClass":"disabled","eventNamespace":".uniform","fileButtonClass":"action","fileButtonHtml":"Choose File","fileClass":"uploader","fileDefaultHtml":"No file selected","filenameClass":"filename","focusClass":"focus","hoverClass":"hover","idPrefix":"uniform","inputAddTypeAsClass":!0,"inputClass":"uniform-input","radioClass":"radio","resetDefaultHtml":"Reset","resetSelector":!1,"selectAutoWidth":!0,"selectClass":"selector","selectMultiClass":"uniform-multiselect","submitDefaultHtml":"Submit","textareaClass":"uniform","useID":!0,"wrapperClass":null},"elements":[]},$.fn.uniform=function(options){var el=this;return options=$.extend({},$.uniform.defaults,options),highContrastTest||(highContrastTest=!0,highContrast()&&(allowStyling=!1)),allowStyling?(options.resetSelector&&$(options.resetSelector).mouseup(function(){wind.setTimeout(function(){$.uniform.update(el)},10)}),this.each(function(){var i,handler,callbacks,$el=$(this);if($el.data("uniform-applied"))return void $.uniform.update($el);for(i=0;i<uniformHandlers.length;i+=1)if(handler=uniformHandlers[i],handler.match($el,options))return callbacks=handler.apply($el,options),$el.data("uniformed",callbacks),$el.attr("data-uniform-applied",!0),void $.uniform.elements.push($el.get(0))})):this},$.uniform.restore=$.fn.uniform.restore=function(elem){elem===undef&&(elem=$.uniform.elements),$(elem).each(function(){var index,elementData,uniformApplied,$el=$(this);elementData=$el.data("uniformed"),uniformApplied=$el.data("uniform-applied"),elementData&&uniformApplied&&(elementData.remove(),(index=$.inArray(this,$.uniform.elements))>=0&&$.uniform.elements.splice(index,1)),$el.removeData("uniformed"),$el.removeAttr("data-uniform-applied"),$el.removeData("uniform-applied")})},$.uniform.update=$.fn.uniform.update=function(elem){elem===undef&&(elem=$.uniform.elements),$(elem).each(function(){var elementData,uniformApplied,$el=$(this);elementData=$el.data("uniformed"),uniformApplied=$el.data("uniform-applied"),elementData&&uniformApplied&&elementData.update($el,elementData.options)})}}(this,jQuery),function(root,factory){if("object"==typeof exports&&exports)factory(exports);else{var mustache={};factory(mustache),"function"==typeof define&&define.amd?define(mustache):root.Mustache=mustache}}(this,function(mustache){function testRegExp(re,string){return RegExp_test.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function escapeHtml(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parent){this.view=view||{},this.parent=parent,this._cache={}}function Writer(){this.clearCache()}function renderTokens(tokens,writer,context,template){for(var token,tokenValue,value,buffer="",i=0,len=tokens.length;i<len;++i)switch(token=tokens[i],tokenValue=token[1],token[0]){case"#":if("object"==typeof(value=context.lookup(tokenValue)))if(isArray(value))for(var j=0,jlen=value.length;j<jlen;++j)buffer+=renderTokens(token[4],writer,context.push(value[j]),template);else value&&(buffer+=renderTokens(token[4],writer,context.push(value),template));else if("function"==typeof value){var text=null==template?null:template.slice(token[3],token[5]);value=value.call(context.view,text,function(template){return writer.render(template,context)}),null!=value&&(buffer+=value)}else value&&(buffer+=renderTokens(token[4],writer,context,template));break;case"^":value=context.lookup(tokenValue),(!value||isArray(value)&&0===value.length)&&(buffer+=renderTokens(token[4],writer,context,template));break;case">":value=writer.getPartial(tokenValue),"function"==typeof value&&(buffer+=value(context));break;case"&":value=context.lookup(tokenValue),null!=value&&(buffer+=value);break;case"name":value=context.lookup(tokenValue),null!=value&&(buffer+=mustache.escape(value));break;case"text":buffer+=tokenValue}return buffer}function nestTokens(tokens){for(var token,tree=[],collector=tree,sections=[],i=0,len=tokens.length;i<len;++i)switch(token=tokens[i],token[0]){case"#":case"^":sections.push(token),collector.push(token),collector=token[4]=[];break;case"/":sections.pop()[5]=token[2],collector=sections.length>0?sections[sections.length-1][4]:tree;break;default:collector.push(token)}return tree}function squashTokens(tokens){for(var token,lastToken,squashedTokens=[],i=0,len=tokens.length;i<len;++i)(token=tokens[i])&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(lastToken=token,squashedTokens.push(token)));return squashedTokens}function escapeTags(tags){return[new RegExp(escapeRegExp(tags[0])+"\\s*"),new RegExp("\\s*"+escapeRegExp(tags[1]))]}function parseTemplate(template,tags){function stripSpace(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}if(template=template||"",tags=tags||mustache.tags,"string"==typeof tags&&(tags=tags.split(spaceRe)),2!==tags.length)throw new Error("Invalid tags: "+tags.join(", "));for(var start,type,value,chr,token,tagRes=escapeTags(tags),scanner=new Scanner(template),sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1;!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(tagRes[0]))for(var i=0,len=value.length;i<len;++i)chr=value.charAt(i),isWhitespace(chr)?spaces.push(tokens.length):nonSpace=!0,tokens.push(["text",chr,start,start+1]),start+=1,"\n"==chr&&stripSpace();if(!scanner.scan(tagRes[0]))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(eqRe),scanner.scan(eqRe),scanner.scanUntil(tagRes[1])):"{"===type?(value=scanner.scanUntil(new RegExp("\\s*"+escapeRegExp("}"+tags[1]))),scanner.scan(curlyRe),scanner.scanUntil(tagRes[1]),type="&"):value=scanner.scanUntil(tagRes[1]),!scanner.scan(tagRes[1]))throw new Error("Unclosed tag at "+scanner.pos);if(token=[type,value,start,scanner.pos],tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(0===sections.length)throw new Error('Unopened section "'+value+'" at '+start);var openSection=sections.pop();if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if("name"===type||"{"===type||"&"===type)nonSpace=!0;else if("="===type){if(tags=value.split(spaceRe),2!==tags.length)throw new Error("Invalid tags at "+start+": "+tags.join(", "));tagRes=escapeTags(tags)}}var openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return tokens=squashTokens(tokens),nestTokens(tokens)}var whiteRe=/\s*/,spaceRe=/\s+/,nonSpaceRe=/\S/,eqRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/,RegExp_test=RegExp.prototype.test,Object_toString=Object.prototype.toString,isArray=Array.isArray||function(obj){return"[object Array]"===Object_toString.call(obj)},entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);return match&&0===match.index?(this.tail=this.tail.substring(match[0].length),this.pos+=match[0].length,match[0]):""},Scanner.prototype.scanUntil=function(re){var match,pos=this.tail.search(re);switch(pos){case-1:match=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,pos),this.tail=this.tail.substring(pos),this.pos+=pos}return match},Context.make=function(view){return view instanceof Context?view:new Context(view)},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var value=this._cache[name];if(!value){if("."==name)value=this.view;else for(var context=this;context;){if(name.indexOf(".")>0){value=context.view;for(var names=name.split("."),i=0;value&&i<names.length;)value=value[names[i++]]}else value=context.view[name];if(null!=value)break;context=context.parent}this._cache[name]=value}return"function"==typeof value&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){this._cache={},this._partialCache={}},Writer.prototype.compile=function(template,tags){var fn=this._cache[template];if(!fn){var tokens=mustache.parse(template,tags);fn=this._cache[template]=this.compileTokens(tokens,template)}return fn},Writer.prototype.compilePartial=function(name,template,tags){var fn=this.compile(template,tags);return this._partialCache[name]=fn,fn},Writer.prototype.getPartial=function(name){return name in this._partialCache||!this._loadPartial||this.compilePartial(name,this._loadPartial(name)),this._partialCache[name]},Writer.prototype.compileTokens=function(tokens,template){var self=this;return function(view,partials){if(partials)if("function"==typeof partials)self._loadPartial=partials;else for(var name in partials)self.compilePartial(name,partials[name]);return renderTokens(tokens,self,Context.make(view),template)}},Writer.prototype.render=function(template,view,partials){return this.compile(template)(view,partials)},mustache.name="mustache.js",mustache.version="0.7.2",mustache.tags=["{{","}}"],mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer,mustache.parse=parseTemplate,mustache.escape=escapeHtml;var defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.compile=function(template,tags){return defaultWriter.compile(template,tags)},mustache.compilePartial=function(name,template,tags){return defaultWriter.compilePartial(name,template,tags)},mustache.compileTokens=function(tokens,template){return defaultWriter.compileTokens(tokens,template)},mustache.render=function(template,view,partials){return defaultWriter.render(template,view,partials)},mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if("function"!=typeof send)return result;send(result)}}),function($){"undefined"==typeof $.fn.each2&&$.extend($.fn,{"each2":function(c){for(var j=$([0]),i=-1,l=this.length;++i<l&&(j.context=j[0]=this[i])&&!1!==c.call(j[0],i,j););return this}})}(jQuery),function($,undefined){"use strict";function stripDiacritics(str){var ret,i,l,c;if(!str||str.length<1)return str;for(ret="",i=0,l=str.length;i<l;i++)c=str.charAt(i),ret+=DIACRITICS[c]||c;return ret}function indexOf(value,array){for(var i=0,l=array.length;i<l;i+=1)if(equal(value,array[i]))return i;return-1}function measureScrollbar(){var $template=$(MEASURE_SCROLLBAR_TEMPLATE);$template.appendTo("body");var dim={"width":$template.width()-$template[0].clientWidth,"height":$template.height()-$template[0].clientHeight};return $template.remove(),dim}function equal(a,b){return a===b||a!==undefined&&b!==undefined&&(null!==a&&null!==b&&(a.constructor===String?a+""==b+"":b.constructor===String&&b+""==a+""))}function splitVal(string,separator){var val,i,l;if(null===string||string.length<1)return[];for(val=string.split(separator),i=0,l=val.length;i<l;i+=1)val[i]=$.trim(val[i]);return val}function getSideBorderPadding(element){return element.outerWidth(!1)-element.width()}function installKeyUpChangeEvent(element){var key="keyup-change-value";element.on("keydown",function(){$.data(element,key)===undefined&&$.data(element,key,element.val())}),element.on("keyup",function(){var val=$.data(element,key);val!==undefined&&element.val()!==val&&($.removeData(element,key),element.trigger("keyup-change"))})}function installFilteredMouseMove(element){element.on("mousemove",function(e){var lastpos=lastMousePosition;lastpos!==undefined&&lastpos.x===e.pageX&&lastpos.y===e.pageY||$(e.target).trigger("mousemove-filtered",e)})}function debounce(quietMillis,fn,ctx){ctx=ctx||undefined;var timeout;return function(){var args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout(function(){fn.apply(ctx,args)},quietMillis)}}function thunk(formula){var value,evaluated=!1;return function(){return!1===evaluated&&(value=formula(),evaluated=!0),value}}function installDebouncedScroll(threshold,element){var notify=debounce(threshold,function(e){element.trigger("scroll-debounced",e)});element.on("scroll",function(e){indexOf(e.target,element.get())>=0&&notify(e)})}function focus($el){$el[0]!==document.activeElement&&window.setTimeout(function(){var range,el=$el[0],pos=$el.val().length;$el.focus(),$el.is(":visible")&&el===document.activeElement&&(el.setSelectionRange?el.setSelectionRange(pos,pos):el.createTextRange&&(range=el.createTextRange(),range.collapse(!1),range.select()))},0)}function getCursorInfo(el){el=$(el)[0];var offset=0,length=0;if("selectionStart"in el)offset=el.selectionStart,length=el.selectionEnd-offset;else if("selection"in document){el.focus();var sel=document.selection.createRange();length=document.selection.createRange().text.length,sel.moveStart("character",-el.value.length),offset=sel.text.length-length}return{"offset":offset,"length":length}}function killEvent(event){event.preventDefault(),event.stopPropagation()}function killEventImmediately(event){event.preventDefault(),event.stopImmediatePropagation()}function measureTextWidth(e){if(!sizer){var style=e[0].currentStyle||window.getComputedStyle(e[0],null);sizer=$(document.createElement("div")).css({"position":"absolute","left":"-10000px","top":"-10000px","display":"none","fontSize":style.fontSize,"fontFamily":style.fontFamily,"fontStyle":style.fontStyle,"fontWeight":style.fontWeight,"letterSpacing":style.letterSpacing,"textTransform":style.textTransform,"whiteSpace":"nowrap"}),sizer.attr("class","select2-sizer"),$("body").append(sizer)}return sizer.text(e.val()),sizer.width()}function syncCssClasses(dest,src,adapter){var classes,adapted,replacements=[];classes=dest.attr("class"),classes&&(classes=""+classes,$(classes.split(" ")).each2(function(){0===this.indexOf("select2-")&&replacements.push(this)})),classes=src.attr("class"),classes&&(classes=""+classes,$(classes.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(adapted=adapter(this))&&replacements.push(adapted)})),dest.attr("class",replacements.join(" "))}function markMatch(text,term,markup,escapeMarkup){var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),tl=term.length;if(match<0)return void markup.push(escapeMarkup(text));markup.push(escapeMarkup(text.substring(0,match))),markup.push("<span class='select2-match'>"),markup.push(escapeMarkup(text.substring(match,match+tl))),markup.push("</span>"),markup.push(escapeMarkup(text.substring(match+tl,text.length)))}function defaultEscapeMarkup(markup){var replace_map={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replace_map[match]})}function ajax(options){var timeout,handler=null,quietMillis=options.quietMillis||100,ajaxUrl=options.url,self=this;return function(query){window.clearTimeout(timeout),timeout=window.setTimeout(function(){var data=options.data,url=ajaxUrl,transport=options.transport||$.fn.select2.ajaxDefaults.transport,deprecated={"type":options.type||"GET","cache":options.cache||!1,"jsonpCallback":options.jsonpCallback||undefined,"dataType":options.dataType||"json"},params=$.extend({},$.fn.select2.ajaxDefaults.params,deprecated);data=data?data.call(self,query.term,query.page,query.context):null,url="function"==typeof url?url.call(self,query.term,query.page,query.context):url,handler&&handler.abort(),options.params&&($.isFunction(options.params)?$.extend(params,options.params.call(self)):$.extend(params,options.params)),$.extend(params,{"url":url,"dataType":options.dataType,"data":data,"success":function(data){var results=options.results(data,query.page);query.callback(results)}}),handler=transport.call(self,params)},quietMillis)}}function local(options){var dataText,tmp,data=options,text=function(item){return""+item.text};$.isArray(data)&&(tmp=data,data={"results":tmp}),!1===$.isFunction(data)&&(tmp=data,data=function(){return tmp});var dataItem=data();return dataItem.text&&(text=dataItem.text,$.isFunction(text)||(dataText=dataItem.text,text=function(item){return item[dataText]})),function(query){var process,t=query.term,filtered={"results":[]};if(""===t)return void query.callback(data());process=function(datum,collection){var group,attr;if(datum=datum[0],datum.children){group={};for(attr in datum)datum.hasOwnProperty(attr)&&(group[attr]=datum[attr]);group.children=[],$(datum.children).each2(function(i,childDatum){process(childDatum,group.children)}),(group.children.length||query.matcher(t,text(group),datum))&&collection.push(group)}else query.matcher(t,text(datum),datum)&&collection.push(datum)},$(data().results).each2(function(i,datum){process(datum,filtered.results)}),query.callback(filtered)}}function tags(data){var isFunc=$.isFunction(data);return function(query){var t=query.term,filtered={"results":[]};$(isFunc?data():data).each(function(){var isObject=this.text!==undefined,text=isObject?this.text:this;(""===t||query.matcher(t,text))&&filtered.results.push(isObject?this:{"id":this,"text":this})}),query.callback(filtered)}}function checkFormatter(formatter,formatterName){if($.isFunction(formatter))return!0;if(!formatter)return!1;throw new Error(formatterName+" must be a function or a falsy value")}function evaluate(val){return $.isFunction(val)?val():val}function countResults(results){var count=0;return $.each(results,function(i,item){item.children?count+=countResults(item.children):count++}),count}function defaultTokenizer(input,selection,selectCallback,opts){var token,index,i,l,separator,original=input,dupe=!1;if(!opts.createSearchChoice||!opts.tokenSeparators||opts.tokenSeparators.length<1)return undefined;for(;;){for(index=-1,i=0,l=opts.tokenSeparators.length;i<l&&(separator=opts.tokenSeparators[i],!((index=input.indexOf(separator))>=0));i++);if(index<0)break;if(token=input.substring(0,index),input=input.substring(index+separator.length),token.length>0&&(token=opts.createSearchChoice.call(this,token,selection))!==undefined&&null!==token&&opts.id(token)!==undefined&&null!==opts.id(token)){for(dupe=!1,i=0,l=selection.length;i<l;i++)if(equal(opts.id(token),opts.id(selection[i]))){dupe=!0;break}dupe||selectCallback(token)}}return original!==input?input:void 0}function clazz(SuperClass,methods){var constructor=function(){};return constructor.prototype=new SuperClass,constructor.prototype.constructor=constructor,constructor.prototype.parent=SuperClass.prototype,constructor.prototype=$.extend(constructor.prototype,methods),constructor}if(window.Select2===undefined){var KEY,AbstractSelect2,SingleSelect2,MultiSelect2,nextUid,sizer,$document,scrollBarDimensions,lastMousePosition={"x":0,"y":0},KEY={"TAB":9,"ENTER":13,"ESC":27,"SPACE":32,"LEFT":37,"UP":38,"RIGHT":39,"DOWN":40,"SHIFT":16,"CTRL":17,"ALT":18,"PAGE_UP":33,"PAGE_DOWN":34,"HOME":36,"END":35,"BACKSPACE":8,"DELETE":46,"isArrow":function(k){switch(k=k.which?k.which:k){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:return!0}return!1},"isControl":function(e){switch(e.which){case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!e.metaKey},"isFunctionKey":function(k){return(k=k.which?k.which:k)>=112&&k<=123}},MEASURE_SCROLLBAR_TEMPLATE="<div class='select2-measure-scrollbar'></div>",DIACRITICS={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H",
"\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};$document=$(document),nextUid=function(){var counter=1;return function(){return counter++}}(),$document.on("mousemove",function(e){lastMousePosition.x=e.pageX,lastMousePosition.y=e.pageY}),AbstractSelect2=clazz(Object,{"bind":function(func){var self=this;return function(){func.apply(self,arguments)}},"init":function(opts){var results,search,resultsSelector=".select2-results";this.opts=opts=this.prepareOpts(opts),this.id=opts.id,opts.element.data("select2")!==undefined&&null!==opts.element.data("select2")&&opts.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(opts.element.attr("id")||"autogen"+nextUid()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=thunk(function(){return opts.element.closest("body")}),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",opts.element.attr("style")),this.container.css(evaluate(opts.containerCss)),this.container.addClass(evaluate(opts.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(opts.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",killEvent),this.results=results=this.container.find(resultsSelector),this.search=search=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",killEvent),installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",resultsSelector,this.bind(this.highlightUnderEvent)),installDebouncedScroll(80,this.results),this.dropdown.on("scroll-debounced",resultsSelector,this.bind(this.loadMoreIfNeeded)),$(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),$(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),$.fn.mousewheel&&results.mousewheel(function(e,delta,deltaX,deltaY){var top=results.scrollTop();deltaY>0&&top-deltaY<=0?(results.scrollTop(0),killEvent(e)):deltaY<0&&results.get(0).scrollHeight-results.scrollTop()+deltaY<=results.height()&&(results.scrollTop(results.get(0).scrollHeight-results.height()),killEvent(e))}),installKeyUpChangeEvent(search),search.on("keyup-change input paste",this.bind(this.updateResults)),search.on("focus",function(){search.addClass("select2-focused")}),search.on("blur",function(){search.removeClass("select2-focused")}),this.dropdown.on("mouseup",resultsSelector,this.bind(function(e){$(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),$.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==opts.maximumInputLength&&this.search.attr("maxlength",opts.maximumInputLength);var disabled=opts.element.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=opts.element.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),scrollBarDimensions=scrollBarDimensions||measureScrollbar(),this.autofocus=opts.element.prop("autofocus"),opts.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=undefined},"destroy":function(){var element=this.opts.element,select2=element.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),select2!==undefined&&(select2.container.remove(),select2.dropdown.remove(),element.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?element.attr({"tabindex":this.elementTabIndex}):element.removeAttr("tabindex"),element.show())},"optionToData":function(element){return element.is("option")?{"id":element.prop("value"),"text":element.text(),"element":element.get(),"css":element.attr("class"),"disabled":element.prop("disabled"),"locked":equal(element.attr("locked"),"locked")||equal(element.data("locked"),!0)}:element.is("optgroup")?{"text":element.attr("label"),"children":[],"element":element.get(),"css":element.attr("class")}:void 0},"prepareOpts":function(opts){var element,select,idKey,ajaxUrl,self=this;if(element=opts.element,"select"===element.get(0).tagName.toLowerCase()&&(this.select=select=opts.element),select&&$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in opts)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),opts=$.extend({},{"populateResults":function(container,results,query){var populate,id=this.opts.id;(populate=function(results,container,depth){var i,l,result,selectable,disabled,compound,node,label,innerContainer,formatted;for(results=opts.sortResults(results,container,query),i=0,l=results.length;i<l;i+=1)result=results[i],disabled=!0===result.disabled,selectable=!disabled&&id(result)!==undefined,compound=result.children&&result.children.length>0,node=$("<li></li>"),node.addClass("select2-results-dept-"+depth),node.addClass("select2-result"),node.addClass(selectable?"select2-result-selectable":"select2-result-unselectable"),disabled&&node.addClass("select2-disabled"),compound&&node.addClass("select2-result-with-children"),node.addClass(self.opts.formatResultCssClass(result)),label=$(document.createElement("div")),label.addClass("select2-result-label"),formatted=opts.formatResult(result,label,query,self.opts.escapeMarkup),formatted!==undefined&&label.html(formatted),node.append(label),compound&&(innerContainer=$("<ul></ul>"),innerContainer.addClass("select2-result-sub"),populate(result.children,innerContainer,depth+1),node.append(innerContainer)),node.data("select2-data",result),container.append(node)})(results,container,0)}},$.fn.select2.defaults,opts),"function"!=typeof opts.id&&(idKey=opts.id,opts.id=function(e){return e[idKey]}),$.isArray(opts.element.data("select2Tags"))){if("tags"in opts)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+opts.element.attr("id");opts.tags=opts.element.data("select2Tags")}if(select?(opts.query=this.bind(function(query){var children,placeholderOption,process,data={"results":[],"more":!1},term=query.term;process=function(element,collection){var group;element.is("option")?query.matcher(term,element.text(),element)&&collection.push(self.optionToData(element)):element.is("optgroup")&&(group=self.optionToData(element),element.children().each2(function(i,elm){process(elm,group.children)}),group.children.length>0&&collection.push(group))},children=element.children(),this.getPlaceholder()!==undefined&&children.length>0&&(placeholderOption=this.getPlaceholderOption())&&(children=children.not(placeholderOption)),children.each2(function(i,elm){process(elm,data.results)}),query.callback(data)}),opts.id=function(e){return e.id},opts.formatResultCssClass=function(data){return data.css}):"query"in opts||("ajax"in opts?(ajaxUrl=opts.element.data("ajax-url"),ajaxUrl&&ajaxUrl.length>0&&(opts.ajax.url=ajaxUrl),opts.query=ajax.call(opts.element,opts.ajax)):"data"in opts?opts.query=local(opts.data):"tags"in opts&&(opts.query=tags(opts.tags),opts.createSearchChoice===undefined&&(opts.createSearchChoice=function(term){return{"id":$.trim(term),"text":$.trim(term)}}),opts.initSelection===undefined&&(opts.initSelection=function(element,callback){var data=[];$(splitVal(element.val(),opts.separator)).each(function(){var obj={"id":this,"text":this},tags=opts.tags;$.isFunction(tags)&&(tags=tags()),$(tags).each(function(){if(equal(this.id,obj.id))return obj=this,!1}),data.push(obj)}),callback(data)}))),"function"!=typeof opts.query)throw"query function not defined for Select2 "+opts.element.attr("id");return opts},"monitorSource":function(){var sync,observer,el=this.opts.element;el.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),sync=this.bind(function(){var disabled=el.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=el.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(evaluate(this.opts.containerCssClass)),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(this.opts.dropdownCssClass))}),el.on("propertychange.select2",sync),this.mutationCallback===undefined&&(this.mutationCallback=function(mutations){mutations.forEach(sync)}),(observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==undefined&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new observer(this.mutationCallback),this.propertyObserver.observe(el.get(0),{"attributes":!0,"subtree":!1}))},"triggerSelect":function(data){var evt=$.Event("select2-selecting",{"val":this.id(data),"object":data});return this.opts.element.trigger(evt),!evt.isDefaultPrevented()},"triggerChange":function(details){details=details||{},details=$.extend({},details,{"type":"change","val":this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(details),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},"isInterfaceEnabled":function(){return!0===this.enabledInterface},"enableInterface":function(){var enabled=this._enabled&&!this._readonly,disabled=!enabled;return enabled!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",disabled),this.close(),this.enabledInterface=enabled,!0)},"enable":function(enabled){enabled===undefined&&(enabled=!0),this._enabled!==enabled&&(this._enabled=enabled,this.opts.element.prop("disabled",!enabled),this.enableInterface())},"disable":function(){this.enable(!1)},"readonly":function(enabled){return enabled===undefined&&(enabled=!1),this._readonly!==enabled&&(this._readonly=enabled,this.opts.element.prop("readonly",enabled),this.enableInterface(),!0)},"opened":function(){return this.container.hasClass("select2-dropdown-open")},"positionDropdown":function(){var bodyOffset,above,changeDirection,css,resultsListNode,$dropdown=this.dropdown,offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),$window=$(window),windowWidth=$window.width(),windowHeight="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,enoughRoomBelow=dropTop+dropHeight<=viewportBottom,enoughRoomAbove=offset.top-dropHeight>=this.body().scrollTop(),dropWidth=$dropdown.outerWidth(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight,aboveNow=$dropdown.hasClass("select2-drop-above");if(aboveNow?(above=!0,!enoughRoomAbove&&enoughRoomBelow&&(changeDirection=!0,above=!1)):(above=!1,!enoughRoomBelow&&enoughRoomAbove&&(changeDirection=!0,above=!0)),changeDirection&&($dropdown.hide(),offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,dropWidth=$dropdown.outerWidth(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight,$dropdown.show()),this.opts.dropdownAutoWidth){resultsListNode=$(".select2-results",$dropdown)[0],$dropdown.addClass("select2-drop-auto-width"),$dropdown.css("width",""),dropWidth=$dropdown.outerWidth(!1)+(resultsListNode.scrollHeight===resultsListNode.clientHeight?0:scrollBarDimensions.width);var orgWidth=width;dropWidth>width?width=dropWidth:dropWidth=width,enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight,enoughRoomOnRight||(dropLeft=offset.left+orgWidth-dropWidth,enoughRoomOnRight=!0)}else this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(bodyOffset=this.body().offset(),dropTop-=bodyOffset.top,dropLeft-=bodyOffset.left),enoughRoomOnRight||(dropLeft=offset.left+width-dropWidth),css={"left":dropLeft,"width":width},above?(css.bottom=windowHeight-offset.top,css.top="auto",this.container.addClass("select2-drop-above"),$dropdown.addClass("select2-drop-above")):(css.top=dropTop,css.bottom="auto",this.container.removeClass("select2-drop-above"),$dropdown.removeClass("select2-drop-above")),css=$.extend(css,evaluate(this.opts.dropdownCss)),$dropdown.css(css)},"shouldOpen":function(){var event;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(event=$.Event("select2-opening"),this.opts.element.trigger(event),!event.isDefaultPrevented()))},"clearDropdownAlignmentPreference":function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},"open":function(){return!!this.shouldOpen()&&(this.opening(),!0)},"opening":function(){var mask,cid=this.containerId,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),mask=$("#select2-drop-mask"),0==mask.length&&(mask=$(document.createElement("div")),mask.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),mask.hide(),mask.appendTo(this.body()),mask.on("mousedown touchstart click",function(e){var self,dropdown=$("#select2-drop");dropdown.length>0&&(self=dropdown.data("select2"),self.opts.selectOnBlur&&self.selectHighlighted({"noFocus":!0}),self.close({"focus":!0}),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==mask[0]&&this.dropdown.before(mask),$("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),mask.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var that=this;this.container.parents().add(window).each(function(){$(this).on(resize+" "+scroll+" "+orient,function(){that.positionDropdown()})})},"close":function(){if(this.opened()){var cid=this.containerId,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.parents().add(window).each(function(){$(this).off(scroll).off(resize).off(orient)}),this.clearDropdownAlignmentPreference(),$("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger($.Event("select2-close"))}},"externalSearch":function(term){this.open(),this.search.val(term),this.updateResults(!1)},"clearSearch":function(){},"getMaximumSelectionSize":function(){return evaluate(this.opts.maximumSelectionSize)},"ensureHighlightVisible":function(){var children,index,child,hb,rb,y,more,results=this.results;if(!((index=this.highlight())<0)){if(0==index)return void results.scrollTop(0);children=this.findHighlightableChoices().find(".select2-result-label"),child=$(children[index]),hb=child.offset().top+child.outerHeight(!0),index===children.length-1&&(more=results.find("li.select2-more-results"),more.length>0&&(hb=more.offset().top+more.outerHeight(!0))),rb=results.offset().top+results.outerHeight(!0),hb>rb&&results.scrollTop(results.scrollTop()+(hb-rb)),y=child.offset().top-results.offset().top,y<0&&"none"!=child.css("display")&&results.scrollTop(results.scrollTop()+y)}},"findHighlightableChoices":function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},"moveHighlight":function(delta){for(var choices=this.findHighlightableChoices(),index=this.highlight();index>-1&&index<choices.length;){index+=delta;var choice=$(choices[index]);if(choice.hasClass("select2-result-selectable")&&!choice.hasClass("select2-disabled")&&!choice.hasClass("select2-selected")){this.highlight(index);break}}},"highlight":function(index){var choice,data,choices=this.findHighlightableChoices();if(0===arguments.length)return indexOf(choices.filter(".select2-highlighted")[0],choices.get());index>=choices.length&&(index=choices.length-1),index<0&&(index=0),this.removeHighlight(),choice=$(choices[index]),choice.addClass("select2-highlighted"),this.ensureHighlightVisible(),(data=choice.data("select2-data"))&&this.opts.element.trigger({"type":"select2-highlight","val":this.id(data),"choice":data})},"removeHighlight":function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},"countSelectableResults":function(){return this.findHighlightableChoices().length},"highlightUnderEvent":function(event){var el=$(event.target).closest(".select2-result-selectable");if(el.length>0&&!el.is(".select2-highlighted")){var choices=this.findHighlightableChoices();this.highlight(choices.index(el))}else 0==el.length&&this.removeHighlight()},"loadMoreIfNeeded":function(){var results=this.results,more=results.find("li.select2-more-results"),page=this.resultsPage+1,self=this,term=this.search.val(),context=this.context;0!==more.length&&more.offset().top-results.offset().top-results.height()<=this.opts.loadMorePadding&&(more.addClass("select2-active"),this.opts.query({"element":this.opts.element,"term":term,"page":page,"context":context,"matcher":this.opts.matcher,"callback":this.bind(function(data){self.opened()&&(self.opts.populateResults.call(this,results,data.results,{"term":term,"page":page,"context":context}),self.postprocessResults(data,!1,!1),!0===data.more?(more.detach().appendTo(results).text(self.opts.formatLoadMore(page+1)),window.setTimeout(function(){self.loadMoreIfNeeded()},10)):more.remove(),self.positionDropdown(),self.resultsPage=page,self.context=data.context,this.opts.element.trigger({"type":"select2-loaded","items":data}))})}))},"tokenize":function(){},"updateResults":function(initial){function postRender(){search.removeClass("select2-active"),self.positionDropdown()}function render(html){results.html(html),postRender()}var data,input,queryNumber,search=this.search,results=this.results,opts=this.opts,self=this,term=search.val(),lastTerm=$.data(this.container,"select2-last-term");if((!0===initial||!lastTerm||!equal(term,lastTerm))&&($.data(this.container,"select2-last-term",term),!0===initial||!1!==this.showSearchInput&&this.opened())){queryNumber=++this.queryCount;var maxSelSize=this.getMaximumSelectionSize();if(maxSelSize>=1&&(data=this.data(),$.isArray(data)&&data.length>=maxSelSize&&checkFormatter(opts.formatSelectionTooBig,"formatSelectionTooBig")))return void render("<li class='select2-selection-limit'>"+opts.formatSelectionTooBig(maxSelSize)+"</li>");if(search.val().length<opts.minimumInputLength)return render(checkFormatter(opts.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+opts.formatInputTooShort(search.val(),opts.minimumInputLength)+"</li>":""),void(initial&&this.showSearch&&this.showSearch(!0));if(opts.maximumInputLength&&search.val().length>opts.maximumInputLength)return void render(checkFormatter(opts.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+opts.formatInputTooLong(search.val(),opts.maximumInputLength)+"</li>":"");opts.formatSearching&&0===this.findHighlightableChoices().length&&render("<li class='select2-searching'>"+opts.formatSearching()+"</li>"),search.addClass("select2-active"),this.removeHighlight(),input=this.tokenize(),input!=undefined&&null!=input&&search.val(input),this.resultsPage=1,opts.query({"element":opts.element,"term":search.val(),"page":this.resultsPage,"context":null,"matcher":opts.matcher,"callback":this.bind(function(data){var def;if(queryNumber==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=data.context===undefined?null:data.context,this.opts.createSearchChoice&&""!==search.val()&&(def=this.opts.createSearchChoice.call(self,search.val(),data.results))!==undefined&&null!==def&&self.id(def)!==undefined&&null!==self.id(def)&&0===$(data.results).filter(function(){return equal(self.id(this),self.id(def))}).length&&data.results.unshift(def),0===data.results.length&&checkFormatter(opts.formatNoMatches,"formatNoMatches"))return void render("<li class='select2-no-results'>"+opts.formatNoMatches(search.val())+"</li>");results.empty(),self.opts.populateResults.call(this,results,data.results,{"term":search.val(),"page":this.resultsPage,"context":null}),!0===data.more&&checkFormatter(opts.formatLoadMore,"formatLoadMore")&&(results.append("<li class='select2-more-results'>"+self.opts.escapeMarkup(opts.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){self.loadMoreIfNeeded()},10)),this.postprocessResults(data,initial),postRender(),this.opts.element.trigger({"type":"select2-loaded","items":data})}})})}},"cancel":function(){this.close()},"blur":function(){this.opts.selectOnBlur&&this.selectHighlighted({"noFocus":!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},"focusSearch":function(){focus(this.search)},"selectHighlighted":function(options){var index=this.highlight(),highlighted=this.results.find(".select2-highlighted"),data=highlighted.closest(".select2-result").data("select2-data");data?(this.highlight(index),this.onSelect(data,options)):options&&options.noFocus&&this.close()},"getPlaceholder":function(){var placeholderOption;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((placeholderOption=this.getPlaceholderOption())!==undefined?placeholderOption.text():undefined)},"getPlaceholderOption":function(){if(this.select){var firstOption=this.select.children("option").first();if(this.opts.placeholderOption!==undefined)return"first"===this.opts.placeholderOption&&firstOption||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===firstOption.text()&&""===firstOption.val())return firstOption}},"initContainerWidth":function(){function resolveContainerWidth(){var style,attrs,matches,i,l,attr;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((style=this.opts.element.attr("style"))!==undefined)for(attrs=style.split(";"),i=0,l=attrs.length;i<l;i+=1)if(attr=attrs[i].replace(/\s/g,""),null!==(matches=attr.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&matches.length>=1)return matches[1];return"resolve"===this.opts.width?(style=this.opts.element.css("width"),style.indexOf("%")>0?style:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return $.isFunction(this.opts.width)?this.opts.width():this.opts.width}var width=resolveContainerWidth.call(this);null!==width&&this.container.css("width",width)}}),SingleSelect2=clazz(AbstractSelect2,{"createContainer":function(){
return $(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <div class='select2-chosen'>&nbsp;</div><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},"opening":function(){var el,range,len;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),el=this.search.get(0),el.createTextRange?(range=el.createTextRange(),range.collapse(!1),range.select()):el.setSelectionRange&&(len=this.search.val().length,el.setSelectionRange(len,len)),""===this.search.val()&&this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger($.Event("select2-open"))},"close":function(params){this.opened()&&(this.parent.close.apply(this,arguments),params=params||{"focus":!0},this.focusser.removeAttr("disabled"),params.focus&&this.focusser.focus())},"focus":function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},"isFocused":function(){return this.container.hasClass("select2-container-active")},"cancel":function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},"destroy":function(){$("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},"initContainer":function(){var selection,container=this.container,dropdown=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=selection=container.find(".select2-choice"),this.focusser=container.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+nextUid()),$("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN)return void killEvent(e);switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return void this.selectHighlighted({"noFocus":!0});case KEY.ESC:return this.cancel(e),void killEvent(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.ESC){if(!1===this.opts.openOnEnter&&e.which===KEY.ENTER)return void killEvent(e);if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void killEvent(e)}return e.which==KEY.DELETE||e.which==KEY.BACKSPACE?(this.opts.allowClear&&this.clear(),void killEvent(e)):void 0}})),installKeyUpChangeEvent(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),selection.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),killEventImmediately(e),this.close(),this.selection.focus())})),selection.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),killEvent(e)})),dropdown.on("mousedown",this.bind(function(){this.search.focus()})),selection.on("focus",this.bind(function(e){killEvent(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger($.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},"clear":function(triggerChange){var data=this.selection.data("select2-data");if(data){var evt=$.Event("select2-clearing");if(this.opts.element.trigger(evt),evt.isDefaultPrevented())return;var placeholderOption=this.getPlaceholderOption();this.opts.element.val(placeholderOption?placeholderOption.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==triggerChange&&(this.opts.element.trigger({"type":"select2-removed","val":this.id(data),"choice":data}),this.triggerChange({"removed":data}))}},"initSelection":function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var self=this;this.opts.initSelection.call(null,this.opts.element,function(selected){selected!==undefined&&null!==selected&&(self.updateSelection(selected),self.close(),self.setPlaceholder())})}},"isPlaceholderOptionSelected":function(){var placeholderOption;return!!this.getPlaceholder()&&((placeholderOption=this.getPlaceholderOption())!==undefined&&placeholderOption.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===undefined||null===this.opts.element.val())},"prepareOpts":function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var selected=element.find("option").filter(function(){return this.selected});callback(self.optionToData(selected))}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var id=element.val(),match=null;opts.query({"matcher":function(term,text,el){var is_match=equal(id,opts.id(el));return is_match&&(match=el),is_match},"callback":$.isFunction(callback)?function(){callback(match)}:$.noop})}),opts},"getPlaceholder":function(){return this.select&&this.getPlaceholderOption()===undefined?undefined:this.parent.getPlaceholder.apply(this,arguments)},"setPlaceholder":function(){var placeholder=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&placeholder!==undefined){if(this.select&&this.getPlaceholderOption()===undefined)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},"postprocessResults":function(data,initial,noHighlightUpdate){var selected=0,self=this;if(this.findHighlightableChoices().each2(function(i,elm){if(equal(self.id(elm.data("select2-data")),self.opts.element.val()))return selected=i,!1}),!1!==noHighlightUpdate&&(!0===initial&&selected>=0?this.highlight(selected):this.highlight(0)),!0===initial){var min=this.opts.minimumResultsForSearch;min>=0&&this.showSearch(countResults(data.results)>=min)}},"showSearch":function(showSearchInput){this.showSearchInput!==showSearchInput&&(this.showSearchInput=showSearchInput,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!showSearchInput),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!showSearchInput),$(this.dropdown,this.container).toggleClass("select2-with-searchbox",showSearchInput))},"onSelect":function(data,options){if(this.triggerSelect(data)){var old=this.opts.element.val(),oldData=this.data();this.opts.element.val(this.id(data)),this.updateSelection(data),this.opts.element.trigger({"type":"select2-selected","val":this.id(data),"choice":data}),this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val()),this.close(),options&&options.noFocus||this.focusser.focus(),equal(old,this.id(data))||this.triggerChange({"added":data,"removed":oldData})}},"updateSelection":function(data){var formatted,cssClass,container=this.selection.find(".select2-chosen");this.selection.data("select2-data",data),container.empty(),null!==data&&(formatted=this.opts.formatSelection(data,container,this.opts.escapeMarkup)),formatted!==undefined&&container.append(formatted),cssClass=this.opts.formatSelectionCssClass(data,container),cssClass!==undefined&&container.addClass(cssClass),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==undefined&&this.container.addClass("select2-allowclear")},"val":function(){var val,triggerChange=!1,data=null,self=this,oldData=this.data();if(0===arguments.length)return this.opts.element.val();if(val=arguments[0],arguments.length>1&&(triggerChange=arguments[1]),this.select)this.select.val(val).find("option").filter(function(){return this.selected}).each2(function(i,elm){return data=self.optionToData(elm),!1}),this.updateSelection(data),this.setPlaceholder(),triggerChange&&this.triggerChange({"added":data,"removed":oldData});else{if(!val&&0!==val)return void this.clear(triggerChange);if(this.opts.initSelection===undefined)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(val),this.opts.initSelection(this.opts.element,function(data){self.opts.element.val(data?self.id(data):""),self.updateSelection(data),self.setPlaceholder(),triggerChange&&self.triggerChange({"added":data,"removed":oldData})})}},"clearSearch":function(){this.search.val(""),this.focusser.val("")},"data":function(value){var data,triggerChange=!1;if(0===arguments.length)return data=this.selection.data("select2-data"),data==undefined&&(data=null),data;arguments.length>1&&(triggerChange=arguments[1]),value?(data=this.data(),this.opts.element.val(value?this.id(value):""),this.updateSelection(value),triggerChange&&this.triggerChange({"added":value,"removed":data})):this.clear(triggerChange)}}),MultiSelect2=clazz(AbstractSelect2,{"createContainer":function(){return $(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},"prepareOpts":function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var data=[];element.find("option").filter(function(){return this.selected}).each2(function(i,elm){data.push(self.optionToData(elm))}),callback(data)}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var ids=splitVal(element.val(),opts.separator),matches=[];opts.query({"matcher":function(term,text,el){var is_match=$.grep(ids,function(id){return equal(id,opts.id(el))}).length;return is_match&&matches.push(el),is_match},"callback":$.isFunction(callback)?function(){for(var ordered=[],i=0;i<ids.length;i++)for(var id=ids[i],j=0;j<matches.length;j++){var match=matches[j];if(equal(id,opts.id(match))){ordered.push(match),matches.splice(j,1);break}}callback(ordered)}:$.noop})}),opts},"selectChoice":function(choice){var selected=this.container.find(".select2-search-choice-focus");selected.length&&choice&&choice[0]==selected[0]||(selected.length&&this.opts.element.trigger("choice-deselected",selected),selected.removeClass("select2-search-choice-focus"),choice&&choice.length&&(this.close(),choice.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",choice)))},"destroy":function(){$("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},"initContainer":function(){var selection,selector=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=selection=this.container.find(selector);var _this=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){_this.search[0].focus(),_this.selectChoice($(this))}),this.search.attr("id","s2id_autogen"+nextUid()),$("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var selected=selection.find(".select2-search-choice-focus"),prev=selected.prev(".select2-search-choice:not(.select2-locked)"),next=selected.next(".select2-search-choice:not(.select2-locked)"),pos=getCursorInfo(this.search);if(selected.length&&(e.which==KEY.LEFT||e.which==KEY.RIGHT||e.which==KEY.BACKSPACE||e.which==KEY.DELETE||e.which==KEY.ENTER)){var selectedChoice=selected;return e.which==KEY.LEFT&&prev.length?selectedChoice=prev:e.which==KEY.RIGHT?selectedChoice=next.length?next:null:e.which===KEY.BACKSPACE?(this.unselect(selected.first()),this.search.width(10),selectedChoice=prev.length?prev:next):e.which==KEY.DELETE?(this.unselect(selected.first()),this.search.width(10),selectedChoice=next.length?next:null):e.which==KEY.ENTER&&(selectedChoice=null),this.selectChoice(selectedChoice),killEvent(e),void(selectedChoice&&selectedChoice.length||this.open())}if((e.which===KEY.BACKSPACE&&1==this.keydowns||e.which==KEY.LEFT)&&0==pos.offset&&!pos.length)return this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last()),void killEvent(e);if(this.selectChoice(null),this.opened())switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return this.selectHighlighted({"noFocus":!0}),void this.close();case KEY.ESC:return this.cancel(e),void killEvent(e)}if(e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.BACKSPACE&&e.which!==KEY.ESC){if(e.which===KEY.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==KEY.PAGE_UP&&e.which!==KEY.PAGE_DOWN||killEvent(e),e.which===KEY.ENTER&&killEvent(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger($.Event("select2-blur"))})),this.container.on("click",selector,this.bind(function(e){this.isInterfaceEnabled()&&($(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",selector,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},"initSelection":function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var self=this;this.opts.initSelection.call(null,this.opts.element,function(data){data!==undefined&&null!==data&&(self.updateSelection(data),self.close(),self.clearSearch())})}},"clearSearch":function(){var placeholder=this.getPlaceholder(),maxWidth=this.getMaxSearchWidth();if(placeholder!==undefined&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")){this.search.val(placeholder).addClass("select2-default");var container_width=this.container.css("width");maxWidth>0?this.search.width(maxWidth):container_width>0&&this.search.width(container_width)}else this.search.val("").width(10)},"clearPlaceholder":function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},"opening":function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger($.Event("select2-open"))},"close":function(){this.opened()&&this.parent.close.apply(this,arguments)},"focus":function(){this.close(),this.search.focus()},"isFocused":function(){return this.search.hasClass("select2-focused")},"updateSelection":function(data){var ids=[],filtered=[],self=this;$(data).each(function(){indexOf(self.id(this),ids)<0&&(ids.push(self.id(this)),filtered.push(this))}),data=filtered,this.selection.find(".select2-search-choice").remove(),$(data).each(function(){self.addSelectedChoice(this)}),self.postprocessResults()},"tokenize":function(){var input=this.search.val();null!=(input=this.opts.tokenizer.call(this,input,this.data(),this.bind(this.onSelect),this.opts))&&input!=undefined&&(this.search.val(input),input.length>0&&this.open())},"onSelect":function(data,options){this.triggerSelect(data)&&(this.addSelectedChoice(data),this.opts.element.trigger({"type":"selected","val":this.id(data),"choice":data}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(data,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({"added":data}),options&&options.noFocus||this.focusSearch())},"cancel":function(){this.close(),this.focusSearch()},"addSelectedChoice":function(data){var formatted,cssClass,enableChoice=!data.locked,enabledItem=$("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'><span class='tokenized_input__remove_button'><i class='tokenized_input__remove_button_icon'></i></span></a></li>"),disabledItem=$("<li class='select2-search-choice select2-locked'><div></div></li>"),choice=enableChoice?enabledItem:disabledItem,id=this.id(data),val=this.getVal();formatted=this.opts.formatSelection(data,choice.find("div"),this.opts.escapeMarkup),formatted!=undefined&&choice.find("div").replaceWith("<div>"+formatted+"</div>"),cssClass=this.opts.formatSelectionCssClass(data,choice.find("div")),cssClass!=undefined&&choice.addClass(cssClass),enableChoice&&choice.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&($(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect($(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),killEvent(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),choice.data("select2-data",data),choice.insertBefore(this.searchContainer),val.push(id),this.setVal(val)},"unselect":function(selected){var data,index,val=this.getVal();if(selected=selected.closest(".select2-search-choice"),0===selected.length)throw"Invalid argument: "+selected+". Must be .select2-search-choice";if(data=selected.data("select2-data")){for(;(index=indexOf(this.id(data),val))>=0;)val.splice(index,1),this.setVal(val),this.select&&this.postprocessResults();var evt=$.Event("select2-removing");evt.val=this.id(data),evt.choice=data,this.opts.element.trigger(evt),evt.isDefaultPrevented()||(selected.remove(),this.opts.element.trigger({"type":"select2-removed","val":this.id(data),"choice":data}),this.triggerChange({"removed":data}))}},"postprocessResults":function(data,initial,noHighlightUpdate){var val=this.getVal(),choices=this.results.find(".select2-result"),compound=this.results.find(".select2-result-with-children"),self=this;choices.each2(function(i,choice){indexOf(self.id(choice.data("select2-data")),val)>=0&&(choice.addClass("select2-selected"),choice.find(".select2-result-selectable").addClass("select2-selected"))}),compound.each2(function(i,choice){choice.is(".select2-result-selectable")||0!==choice.find(".select2-result-selectable:not(.select2-selected)").length||choice.addClass("select2-selected")}),-1==this.highlight()&&!1!==noHighlightUpdate&&self.highlight(0),!this.opts.createSearchChoice&&!choices.filter(".select2-result:not(.select2-selected)").length>0&&(!data||data&&!data.more&&0===this.results.find(".select2-no-results").length)&&checkFormatter(self.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+self.opts.formatNoMatches(self.search.val())+"</li>")},"getMaxSearchWidth":function(){return this.selection.width()-getSideBorderPadding(this.search)},"resizeSearch":function(){var minimumWidth,left,maxWidth,containerLeft,searchWidth,sideBorderPadding=getSideBorderPadding(this.search);minimumWidth=measureTextWidth(this.search)+10,left=this.search.offset().left,maxWidth=this.selection.width(),containerLeft=this.selection.offset().left,searchWidth=maxWidth-(left-containerLeft)-sideBorderPadding,searchWidth<minimumWidth&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<40&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<=0&&(searchWidth=minimumWidth),this.search.width(Math.floor(searchWidth))},"getVal":function(){var val;return this.select?(val=this.select.val(),null===val?[]:val):(val=this.opts.element.val(),splitVal(val,this.opts.separator))},"setVal":function(val){var unique;this.select?this.select.val(val):(unique=[],$(val).each(function(){indexOf(this,unique)<0&&unique.push(this)}),this.opts.element.val(0===unique.length?"":unique.join(this.opts.separator)))},"buildChangeDetails":function(old,current){for(var current=current.slice(0),old=old.slice(0),i=0;i<current.length;i++)for(var j=0;j<old.length;j++)equal(this.opts.id(current[i]),this.opts.id(old[j]))&&(current.splice(i,1),i>0&&i--,old.splice(j,1),j--);return{"added":current,"removed":old}},"val":function(val,triggerChange){var oldData,self=this;if(0===arguments.length)return this.getVal();if(oldData=this.data(),oldData.length||(oldData=[]),!val&&0!==val)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(triggerChange&&this.triggerChange({"added":this.data(),"removed":oldData}));if(this.setVal(val),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),triggerChange&&this.triggerChange(this.buildChangeDetails(oldData,this.data()));else{if(this.opts.initSelection===undefined)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(data){var ids=$.map(data,self.id);self.setVal(ids),self.updateSelection(data),self.clearSearch(),triggerChange&&self.triggerChange(self.buildChangeDetails(oldData,self.data()))})}this.clearSearch()},"onSortStart":function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},"onSortEnd":function(){var val=[],self=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){val.push(self.opts.id($(this).data("select2-data")))}),this.setVal(val),this.triggerChange()},"data":function(values,triggerChange){var ids,old,self=this;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return $(this).data("select2-data")}).get();old=this.data(),values||(values=[]),ids=$.map(values,function(e){return self.opts.id(e)}),this.setVal(ids),this.updateSelection(values),this.clearSearch(),triggerChange&&this.triggerChange(this.buildChangeDetails(old,this.data()))}}),$.fn.select2=function(){var opts,select2,method,value,multiple,args=Array.prototype.slice.call(arguments,0),allowedMethods=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],valueMethods=["opened","isFocused","container","dropdown"],propertyMethods=["val","data"],methodsMap={"search":"externalSearch"};return this.each(function(){if(0===args.length||"object"==typeof args[0])opts=0===args.length?{}:$.extend({},args[0]),opts.element=$(this),"select"===opts.element.get(0).tagName.toLowerCase()?multiple=opts.element.prop("multiple"):(multiple=opts.multiple||!1,"tags"in opts&&(opts.multiple=multiple=!0)),select2=multiple?new MultiSelect2:new SingleSelect2,select2.init(opts);else{if("string"!=typeof args[0])throw"Invalid arguments to select2 plugin: "+args;if(indexOf(args[0],allowedMethods)<0)throw"Unknown method: "+args[0];if(value=undefined,(select2=$(this).data("select2"))===undefined)return;if(method=args[0],"container"===method?value=select2.container:"dropdown"===method?value=select2.dropdown:(methodsMap[method]&&(method=methodsMap[method]),value=select2[method].apply(select2,args.slice(1))),indexOf(args[0],valueMethods)>=0||indexOf(args[0],propertyMethods)&&1==args.length)return!1}}),value===undefined?this:value},$.fn.select2.defaults={"width":"copy","loadMorePadding":0,"closeOnSelect":!0,"openOnEnter":!0,"containerCss":{},"dropdownCss":{},"containerCssClass":"","dropdownCssClass":"","formatResult":function(result,container,query,escapeMarkup){var markup=[];return markMatch(result.text,query.term,markup,escapeMarkup),markup.join("")},"formatSelection":function(data,container,escapeMarkup){return data?escapeMarkup(data.text):undefined},"sortResults":function(results){return results},"formatResultCssClass":function(){return undefined},"formatSelectionCssClass":function(){return undefined},"formatNoMatches":function(){return"No matches found"},"formatInputTooShort":function(input,min){var n=min-input.length;return"Please enter "+n+" more character"+(1==n?"":"s")},"formatInputTooLong":function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(1==n?"":"s")},"formatSelectionTooBig":function(limit){return"You can only select "+limit+" item"+(1==limit?"":"s")},"formatLoadMore":function(){return"Loading more results..."},"formatSearching":function(){return"Searching..."},"minimumResultsForSearch":0,"minimumInputLength":0,"maximumInputLength":null,"maximumSelectionSize":0,"id":function(e){return e.id},"matcher":function(term,text){return stripDiacritics(""+text).toUpperCase().indexOf(stripDiacritics(""+term).toUpperCase())>=0},"separator":",","tokenSeparators":[],"tokenizer":defaultTokenizer,"escapeMarkup":defaultEscapeMarkup,"blurOnChange":!1,"selectOnBlur":!1,"adaptContainerCssClass":function(c){return c},"adaptDropdownCssClass":function(){return null},"nextSearchTerm":function(){return undefined}},$.fn.select2.ajaxDefaults={"transport":$.ajax,"params":{"type":"GET","cache":!1,"dataType":"json"}},window.Select2={"query":{"ajax":ajax,"local":local,"tags":tags},"util":{"debounce":debounce,"markMatch":markMatch,"escapeMarkup":defaultEscapeMarkup,"stripDiacritics":stripDiacritics},"class":{"abstract":AbstractSelect2,"single":SingleSelect2,"multi":MultiSelect2}}}}(jQuery),function(){function parseUri(url,strictMode){for(var str=url,res=parser[strictMode?"strict":"loose"].exec(str),uri={"attr":{},"param":{},"seg":{}},i=14;i--;)uri.attr[key[i]]=res[i]||"";return uri.param.query=parseString(uri.attr.query),uri.param.fragment=parseString(uri.attr.fragment),uri.seg.path=uri.attr.path.replace(/^\/+|\/+$/g,"").split("/"),uri.seg.fragment=uri.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),uri.attr.base=uri.attr.host?(uri.attr.protocol?uri.attr.protocol+"://"+uri.attr.host:uri.attr.host)+(uri.attr.port?":"+uri.attr.port:""):"",uri}function getAttrName(elm){var tn=elm.tagName;return void 0!==tn?tag2attr[tn.toLowerCase()]:tn}function promote(parent,key){if(0===parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}function parse(parts,parent,key,val){var part=parts.shift();if(part){var obj=parent[key]=parent[key]||[];"]"==part?isArray(obj)?""!==val&&obj.push(val):"object"==typeof obj?obj[keys(obj).length]=val:obj=parent[key]=[parent[key],val]:~part.indexOf("]")?(part=part.substr(0,part.length-1),!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val)):(!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val))}else isArray(parent[key])?parent[key].push(val):"object"==typeof parent[key]?parent[key]=val:"undefined"==typeof parent[key]?parent[key]=val:parent[key]=[parent[key],val]}function merge(parent,key,val){if(~key.indexOf("]")){parse(key.split("["),parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}""!==key&&set(parent.base,key,val)}return parent}function parseString(str){return reduce(String(str).split(/&|;/),function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length);return val=val.substr(val.indexOf("=")+1,val.length),""===key&&(key=pair,val=""),merge(ret,key,val)},{"base":{}}).base}function set(obj,key,val){var v=obj[key];void 0===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}function lastBraceInKey(str){for(var brace,c,len=str.length,i=0;i<len;++i)if(c=str[i],"]"==c&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}function reduce(obj,accumulator){for(var i=0,l=obj.length>>0,curr=arguments[2];i<l;)i in obj&&(curr=accumulator.call(undefined,curr,obj[i],i,obj)),++i;return curr}function isArray(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}function keys(obj){var key_array=[];for(var prop in obj)obj.hasOwnProperty(prop)&&key_array.push(prop);return key_array}function purl(url,strictMode){return 1===arguments.length&&!0===url&&(strictMode=!0,url=undefined),strictMode=strictMode||!1,url=url||window.location.toString(),{"data":parseUri(url,strictMode),"attr":function(attr){return attr=aliases[attr]||attr,void 0!==attr?this.data.attr[attr]:this.data.attr},"param":function(param){return void 0!==param?this.data.param.query[param]:this.data.param.query},"fparam":function(param){return void 0!==param?this.data.param.fragment[param]:this.data.param.fragment},"segment":function(seg){return void 0===seg?this.data.seg.path:(seg=seg<0?this.data.seg.path.length+seg:seg-1,this.data.seg.path[seg])},"fsegment":function(seg){return void 0===seg?this.data.seg.fragment:(seg=seg<0?this.data.seg.fragment.length+seg:seg-1,this.data.seg.fragment[seg])}}}var tag2attr={"a":"href","img":"src","form":"action","base":"href","script":"src","iframe":"src","link":"href"},key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],aliases={"anchor":"fragment"},parser={"strict":/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,"loose":/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
},isint=/^[0-9]+$/;purl.jQuery=function($){null!=$&&($.fn.url=function(strictMode){var url="";return this.length&&(url=$(this).attr(getAttrName(this[0]))||""),purl(url,strictMode)},$.url=purl)},purl.jQuery(window.jQuery)}(jQuery),function(){this.app={},this.lib={},window.initEventHandlers=function($target){return $target.find(".autogrow").each(function(k,v){var $v;if($v=$(v),$v.val()&&$v.val()!==$v.attr("placeholder"))return lib.ui_util.autogrow($v)})},$(document).ready(function(){var $document,$html;if($document=$(this),lib.browser.is_in_iframe()?(lib.history=new IframeHistory,app.window=new PcIframeWindow):(lib.history=new BrowserHistory,app.window=new PcBrowserWindow),app.main=new app.PcMain,$html=$("html"),initEventHandlers($html),$document.delegate(".autogrow",lib.ui_util.textchange_events,function(e){return lib.ui_util.autogrow($(e.target))}),$("html").hasClass("no-placeholder"))return $(document).on("history:updated",function(e,element){return $(element).find("input[placeholder], textarea[placeholder]").placeholder()})})}.call(this),function(){var AjaxUtil;AjaxUtil=function(){function AjaxUtil(){var rails_remote_selectors,self;this.request_id=0,this.ajax_requests={},self=this,rails_remote_selectors=$.rails.linkClickSelector+", "+$.rails.formSubmitSelector,$(document).on("ajax:beforeSend",rails_remote_selectors,function(e,xhr,settings){return self.on_ajax_request($(this),e,xhr,settings)}),$(document).on("ajax:remotipartSubmit",$.rails.formSubmitSelector,function(e,xhr,settings){return self.on_ajax_request($(this),e,xhr,settings)}),this.patch_ajax(),this.clear_aloading()}return AjaxUtil.prototype.generate_request_id=function(){return this.request_id+=1},AjaxUtil.prototype.on_ajax_request=function($link,e,xhr,settings){var on_complete,org_success,request_id;if($link.data("ajax-request"))return!1;$link.data("ajax-request",!0),request_id=this.generate_request_id(),this.ajax_requests[request_id]=!0,on_complete=function(){return $link.removeData("ajax-request"),delete lib.ajax_util.ajax_requests[request_id]},org_success=settings.success,settings.success=function(data,status,xhr){return on_complete(),org_success(data,status,xhr)},$link.one("error",function(){return on_complete()}),$link.one("ajax:stop",function(){return on_complete()}),$link.one("ajax:error",function(e,xhr,status){var message;if(0!==xhr.status&&"error"===status&&!xhr.responseText){switch(xhr.status){case 403:message=lib.i18n.t("error_403");break;case 404:message=lib.i18n.t("error_404");break;case 422:message=lib.i18n.t("error_422");break;default:message=lib.i18n.t("error_etc")}lib.error.growl(message)}return on_complete(),$link.unbind("ajax:success")})},AjaxUtil.prototype.is_in_progress=function(){return Object.keys(this.ajax_requests).length>0},AjaxUtil.prototype.patch_ajax=function(){var org_ajax;return org_ajax=$.ajax,$.ajax=function(_this){return function(url,options){return"object"==typeof url?url.url=_this.patch_options(url.url,url):url=_this.patch_options(url,options),org_ajax(url,options)}}(this)},AjaxUtil.prototype.patch_options=function(url,options){var $aloading,aloading,loading_query,org_complete,url_builder;return url_builder=new UrlBuilder(url),aloading=url_builder.param("aloading"),aloading&&(url_builder.remove_param("aloading"),loading_query="true"===aloading?url_builder.param("atarget"):aloading,$aloading=$(loading_query),$aloading.addClass("aloading"),url=url_builder.build()),org_complete=options.complete,options.complete=function(jqXHR,textStatus){return $aloading&&$aloading.removeClass("aloading"),!org_complete||org_complete(jqXHR,textStatus)},url},AjaxUtil.prototype.clear_aloading=function(){return $(document).on("history:loaded",function(){return $(".aloading").removeClass("aloading")})},AjaxUtil}(),this.lib.ajax_util=new AjaxUtil}.call(this),function(){var Animation;Animation=function(){function Animation(){this.enabled=Modernizr.cssanimations,this.ease_out=$.bez([0,0,.58,1])}var get_duration;return get_duration=function(args){var milliseconds;switch(args.duration||(args.duration="middle"),args.duration){case"short":milliseconds=150;break;case"middle":milliseconds=300;break;case"long":milliseconds=450;break;default:milliseconds=args.duration}return milliseconds},Animation.prototype.fade_in=function(e,args){return null==args&&(args={}),this.animate(e,"fade-in",args)},Animation.prototype.fade_out=function(e,args){return null==args&&(args={}),this.animate(e,"fade-out",args)},Animation.prototype.slide_up=function(e,args){return null==args&&(args={}),this.animate(e,"slide-up",args)},Animation.prototype.slide_down=function(e,args){return null==args&&(args={}),this.animate(e,"slide-down",args)},Animation.prototype.height_down=function(e,args){var $e;return null==args&&(args={}),"function"==typeof args&&(args={"complete":args}),$e=$(e),this.start_animating($e),this.enabled?($e.css({"opacity":1}),setTimeout(function(){return $e.addClass("anim anim-all short"),setTimeout(function(){return $e.css({"opacity":0}),setTimeout(function(){return $e.removeClass("anim short"),$e.css({"height":$e.outerHeight(),"boxSizing":"border-box","border":"none","padding":"0"}),lib.animation.force_refresh($e),setTimeout(function(){return $e.addClass("anim middle"),$e.css({"height":0}),setTimeout(function(){if($e.removeClass("anim anim-all middle"),$e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)},300)},10)},150)},0)},0)):$e.animate({"opacity":0},150,"linear",function(){return $e.css({"height":$e.outerHeight(),"boxSizing":"border-box","border":"none","padding":"0"}),setTimeout(function(){return $e.animate({"height":0},300,this.ease_out,function(){if($e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)})},100)})},Animation.prototype.height_up=function(e,args){var $e,natural_height;return null==args&&(args={}),$e=$(e),this.start_animating($e),natural_height=$e.outerHeight(),$e.css({"opacity":0,"height":0,"boxSizing":"border-box","border":"none","padding":"0"}),this.enabled?setTimeout(function(){return $e.addClass("anim anim-all middle"),setTimeout(function(){return $e.css({"height":natural_height}),setTimeout(function(){return $e.removeClass("anim middle"),$e.css({"height":"","boxSizing":"","border":"","padding":""}),lib.animation.force_refresh($e),setTimeout(function(){return $e.addClass("anim short"),setTimeout(function(){return $e.css({"opacity":1}),setTimeout(function(){if($e.removeClass("anim anim-all short"),$e.css({"opacity":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)},150)},10)},10)},300)},10)},10):$e.animate({"height":natural_height},300,this.ease_out,function(){return setTimeout(function(){return $e.animate({"opacity":1},150,"linear",function(){if($e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)})},100)})},Animation.prototype.css=function(e,args){var $e;return null==args&&(args={}),$e=$(e),args.from_css&&$e.css(args.from_css),this.enabled?this.animate($e,null,{"duration":"middle","start":function(){return $e.css(args.to_css)},"complete":args.complete}):$e.animate(args.to_css,300,this.ease_out,args.complete)},Animation.prototype.animate=function(e,type,args){var $e,anim_type,timer;return null==args&&(args={}),this.enabled?(args.duration||(args.duration="middle"),$e=$(e),this.start_animating($e),timer=$e.data("anim-timer"),timer&&(clearTimeout(timer),$e.removeClass("anim"),null!=(anim_type=$e.data("anim-type"))&&$e.removeClass(anim_type)),$e.addClass(args.duration),args.easing&&$e.addClass(args.easing),type&&($e.addClass(type),$e.data("anim-type",type)),$e.data("anim-timer",setTimeout(function(){return $e.addClass("anim"),args.start&&args.start(),$e.data("anim-timer",setTimeout(function(){if($e.data("anim-timer",null),$e.data("anim-type",null),$e.removeClass("anim").removeClass(type).removeClass(args.duration),args.easing&&$e.removeClass(args.easing),lib.animation.finish_animating($e),args.complete)return args.complete()},get_duration(args)))},0))):args.complete?args.complete():void 0},Animation.prototype.start_animating=function($e){return $e.data("animating",!0)},Animation.prototype.finish_animating=function($e){return $e.removeData("animating")},Animation.prototype.is_animating=function(e){return null!=$(e).data("animating")},Animation.prototype.force_refresh=function($e){return $e.get(0).offsetHeight},Animation}(),lib.animation=new Animation}.call(this),function(){this.Browser=function(){function Browser(){this.is_ipad=$("body").hasClass("ipad"),this.is_ios=this.is_iphone()||this.is_ipad,this.set_iphone_model(),this.is_ie=/msie/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent),this.version_number=$.browser.versionNumber,this.ie_document_mode=document.documentMode,this.url=$.url(window.location.href),setTimeout(function(_this){return function(){if(_this.supports_file_reader()||$("html").addClass("no-file-reader"),"msie"===$.browser.name)return document.documentMode?$("html").addClass("document-mode-"+document.documentMode):$("html").addClass("document-mode-"+parseInt($.browser.version))}}(this),0)}return Browser.prototype.supports_history=function(){return window.history&&window.history.replaceState},Browser.prototype.supports_file_reader=function(){return("powerapps"===this.app_builder_type()||"smartapp"===this.app_builder_type()||"moflyapps"===this.app_builder_type()||"hybridshop"===this.app_builder_type())&&4===parseFloat(this.android_os_version())||!(navigator.userAgent.match(/Nexus\ S/)||navigator.userAgent.match(/Galaxy\ Nexus/)||navigator.userAgent.match(/Android 4.0/)||navigator.userAgent.match(/LG-F200S/)||navigator.userAgent.match(/IM-A870S/))&&(!this.is_ie||("msie"!==$.browser.name||11===$.browser.versionNumber&&11===document.documentMode&&!navigator.userAgent.match(/MSIE\ 7\.0/)))},Browser.prototype.supports_opacity=function(){return!this.is_ie||document.documentMode>=9},Browser.prototype.is_in_iframe=function(){return window.self!==window.top},Browser.prototype.set_iphone_model=function(){var $body;if($body=$("body"),this.is_iphone())switch(window.screen.height){case 480:return $body.addClass("iphone-before-5");case 568:return $body.addClass("iphone-5");case 667:return $body.addClass("iphone-6");case 736:return $body.addClass("iphone-6-plus")}},Browser.prototype.android_os_version=function(){var hit;if(hit=navigator.userAgent.match(/Android (\d+(?:\.\d+)+);/))return hit[1]},Browser.prototype.is_kitkat=function(){return 4.4===parseFloat(this.android_os_version())},Browser.prototype.is_iphone=function(){return $("body").hasClass("iphone")},Browser.prototype.app_builder_type=function(){return lib.data.get("app-builder-type")},Browser.prototype.supports_fixed_position=function(){var android_agent;return(!this.is_ie||!(this.ie_document_mode<=7||"undefined"==typeof this.ie_document_mode))&&!((android_agent=navigator.userAgent.match(/Android ([0-9])\.([0-9])/))&&parseFloat(android_agent[1]+"."+android_agent[2])<4.3)},Browser.prototype.supports_media_query=function(){return!this.is_ie||this.ie_document_mode>=9},Browser.prototype.is_mobile=function(){return"mobile"===lib.data.get("device")},Browser}(),lib.browser=new Browser}.call(this),function(){var Data;Data=function(){function Data(){}return Data.prototype.get=function(data_type){var result;return result=$("body").data(data_type),void 0===result&&(result=$("#data").data(data_type)),result},Data.prototype.set=function(key,value){return $("body").data(key,value)},Data.prototype.get_resource_id=function($tag){var id;return id=$tag.attr("id"),id.slice(id.lastIndexOf("_")+1)},Data}(),this.lib.data=new Data}.call(this),function(){var Grid,GridAlignedItemAppender,GridPinterestItemAppender;GridPinterestItemAppender=function(){function GridPinterestItemAppender(columns){var column,j,len,ref;for(this.columns=columns,ref=this.columns,j=0,len=ref.length;j<len;j++)column=ref[j],column.height=0}return GridPinterestItemAppender.prototype.append_item=function(item,args){var column;return null==args&&(args={}),column=this.get_smallest_column(),column.element.append(item),column.height+=item.clientHeight},GridPinterestItemAppender.prototype.get_smallest_column=function(){var column,i,j,ref,result;for(result=this.columns[0],i=j=1,ref=this.columns.length;j<ref;i=j+=1)column=this.columns[i],column.height<result.height&&(result=column);return result},GridPinterestItemAppender}(),lib.GridPinterestItemAppender=GridPinterestItemAppender,GridAlignedItemAppender=function(){function GridAlignedItemAppender(columns){this.columns=columns,this.cleanup_row()}return GridAlignedItemAppender.prototype.append_item=function(item,args){var column,i,j,len,ref;if(null==args&&(args={}),column=this.columns[this.column_index],column.element.append(item),this.row_height<item.clientHeight)for(this.row_height=item.clientHeight,ref=this.current_row,j=0,len=ref.length;j<len;j++)i=ref[j],$(i).height(this.row_height);else this.row_height>item.clientHeight&&$(item).height(this.row_height);if(this.current_row.push(item),this.column_index+=1,this.column_index===this.columns.length)return this.cleanup_row()},GridAlignedItemAppender.prototype.cleanup_row=function(){return this.column_index=0,this.current_row=[],this.row_height=0},GridAlignedItemAppender}(),lib.GridAlignedItemAppender=GridAlignedItemAppender,Grid=function(){function Grid(){}return Grid.prototype.initialize=function($container){return this.container=$container,!(!this.container.length||this.container.data("grid-initialized"))&&(this.container.attr("data-grid-initialized",!0),this.item_class=$container.data("item-class"),this.items=this.container.find("."+this.item_class),!0)},Grid.prototype.gridify=function($container){var column_class,columns_count;if(this.initialize($container))return this.column_index=0,columns_count=$container.data("columns-count"),column_class=$container.data("column-class"),this.create_columns({"class":column_class,"count":columns_count}),this.align_row=$container.data("align-row"),this.align_row?this.item_appender=new lib.GridAlignedItemAppender(this.columns):this.item_appender=new lib.GridPinterestItemAppender(this.columns),this.append(this.items)},Grid.prototype.append=function($items){var counter,interval_id;return this.is_ready($items)?this.do_append($items):(counter=5,interval_id=setInterval(function(_this){return function(){if(0===(counter-=1)||_this.is_ready($items))return _this.do_append($items),clearInterval(interval_id)}}(this),400))},Grid.prototype.set_visible=function($items){return $items.addClass(this.item_class+"--visible"),lib.animation.fade_in($items),this.trigger_appended($items)},Grid.prototype.trigger_appended=function($items){return $(document).trigger("grid:appended",{"elements":$items})},Grid.prototype.is_ready=function($items){var result;return result=!0,$items.find("img").each(function(i,e){if(e.complete||e.style.height||(result=!1),!result)return!1}),result},Grid.prototype.do_append=function($items){return $items.each(function(_this){return function(i,e){return _this.item_appender.append_item(e)}}(this)),this.set_visible($items)},Grid.prototype.create_columns=function(args){var $column,col,column_class,j,ref,results,width;for(this.columns=[],width=.1*Math.round(1e3/args.count),lib.browser.is_ie&&(lib.browser.ie_document_mode<=7||lib.browser.version_number<=7)&&(width-=.1),width+="%",column_class=args["class"],results=[],col=j=0,ref=args.count;j<ref;col=j+=1)$column=$("<div></div>"),$column.addClass(column_class),$column.addClass(column_class+"_"+col),$column.css({"width":width}),this.container.append($column),results.push(this.columns.push({"element":$column}));return results},Grid}(),lib.grid=new Grid,$(window).on("history:updated",function(e,element){var $grid;if($grid=$(element).find(".grid"),$grid.length)return lib.grid.gridify($grid),app.window.resize_target()})}.call(this),function(){var I18n;I18n=function(){function I18n(){this.$translation=$("#i18n")}return I18n.prototype.t=function(key,args){var k,result,v;null==args&&(args={}),result=this.$translation.data(key.replace(/_/g,"-"));for(k in args)v=args[k],result=result.replace("%{"+k+"}",v);return result},I18n}(),lib.i18n=new I18n}.call(this),function(){var InfiniteScroll;InfiniteScroll=function(){function InfiniteScroll(){this.enabled=!1}return InfiniteScroll.prototype.start=function(){if(!this.enabled)return this.enabled=!0,lib.data.get("no-auto-scroll")?void 0:(this.bind_scroll(),this.check_scroll())},InfiniteScroll.prototype.bind_scroll=function(){return $(window).one("scroll",function(){return $("html").addClass("scrollable")}),$(window).scroll(function(_this){return function(){return _this.check_scroll()}}(this)),$(document).on("history:updated",function(_this){return function(){return setTimeout(function(){return _this.check_scroll()},100)}}(this))},InfiniteScroll.prototype.check_scroll=function(){var $infinite_scroll,$link,next_scroll_top;if(this.enabled&&($infinite_scroll=$(".infinite_scroll"),$infinite_scroll.hasClass("infinite_scroll--autoscroll")&&!$infinite_scroll.hasClass("infinite_scroll--loading")&&!$infinite_scroll.hasClass("infinite_scroll--no_more_data")&&app.window&&(next_scroll_top=app.window.get_scroll_top()+app.window.get_height()+100,$infinite_scroll.offset().top<=next_scroll_top)))return $infinite_scroll.addClass("infinite_scroll--loading"),$link=$infinite_scroll.find("a"),$.getScript($link.attr("href")||$link.data("href"))},InfiniteScroll.prototype.append=function($container,$content){return $container.append($content),lib.history.updated($content),$(document).trigger("infinite_scroll:appended",[$content])},InfiniteScroll.prototype.set_loading=function(loading){var $infinite_scroll;return $infinite_scroll=$(".infinite_scroll"),loading?$infinite_scroll.addClass("infinite_scroll--loading"):$infinite_scroll.removeClass("infinite_scroll--loading")},InfiniteScroll.prototype.complete=function(current_url,next_url){var $infinite_scroll,$link;return $infinite_scroll=$(".infinite_scroll").removeClass("infinite_scroll--loading"),next_url?($link=$infinite_scroll.find("a"),$link.data("href")?$link.data("href",next_url):$link.attr("href",next_url),this.check_scroll()):$infinite_scroll.addClass("infinite_scroll--no_more_data"),lib.history.replace({"title":document.title,"url":current_url})},InfiniteScroll.prototype.set_enabled=function(enabled){return this.enabled=enabled},InfiniteScroll}(),lib.infinite_scroll=new InfiniteScroll,$(document).on("history:updated",function(e,element){var $infinite_scroll;if($infinite_scroll=$(element).find(".infinite_scroll"),$infinite_scroll.length)return setTimeout(function(){return lib.infinite_scroll.start()},1e3),$infinite_scroll.find("a").on("ajax:before",function(){return $infinite_scroll.addClass("infinite_scroll--loading")})})}.call(this),function(){var Scroll;Scroll=function(){function Scroll(){this.locked_at=null,this.c=$("#content"),this.scroll_top=$(window).scrollTop(),$(window).scroll(function(_this){return function(){return _this.scroll_top=$(window).scrollTop()}}(this)),this.apply_scroll_top()}return Scroll.prototype.current_page_id=function(){return lib.data.get("controller")+"#"+lib.data.get("action")},Scroll.prototype.save=function(){return $.cookie("scroll",{"id":this.current_page_id(),"scrollTop":$(window).scrollTop()},{})},Scroll.prototype.load=function(is_browser_update){var scroll;return is_browser_update&&(scroll=$.cookie("scroll"))&&this.current_page_id()===scroll.id?($(window).scrollTop(scroll.scrollTop),void $.removeCookie("scroll")):$(window).scrollTop(0)},Scroll.prototype.unlock=function(){return this.c.removeClass("scroll-fixed").css({"top":"","height":""}),window.scrollTo(0,this.locked_at),$(window).off("resize.scroll"),this.locked_at=null},Scroll.prototype.toggle_lock=function(){return this.locked_at?this.unlock():this.lock()},Scroll.prototype.init=function(){return window.scrollTo(0,1)},Scroll.prototype.apply_scroll_top=function(){var scroll_top;if(null!=(scroll_top=lib.data.get("scroll-top")))return $(window).load(function(){return setTimeout(function(){return app.window.scroll_to(scroll_top)},100)})},Scroll}(),lib.Scroll=Scroll}.call(this),function(){this.UrlBuilder=function(){function UrlBuilder(url){var $url;$url=$.url(url),this.url_protocol=$url.attr("protocol"),this.url_host=$url.attr("host"),this.url_port=$url.attr("port"),this.url_path=$url.attr("path"),this.url_params=$url.param()}return UrlBuilder.prototype.add_param=function(key,value){return this.url_params[key]=value},UrlBuilder.prototype.remove_param=function(key){return delete this.url_params[key]},UrlBuilder.prototype.param=function(key){return this.url_params[key]},UrlBuilder.prototype.build=function(){return this.get_base()+this.url_path+"?"+$.param(this.url_params)},UrlBuilder.prototype.get_base=function(){var base;return base="",this.url_protocol&&(base+=this.url_protocol+":"),this.url_host&&(base+="//"+this.url_host),this.url_port&&(base+=":"+this.url_port),base},UrlBuilder.prototype.get_path=function(){return this.url_path},UrlBuilder.prototype.set_path=function(path){return this.url_path=path},UrlBuilder.prototype.get_host=function(){return this.url_host},UrlBuilder.prototype.set_host=function(host){return this.url_host=host},UrlBuilder.prototype.get_params=function(){return this.url_params},UrlBuilder}()}.call(this),function(){var StateMachine;StateMachine=function(){function StateMachine(){}return StateMachine.prototype.enter_state=function(state_name,args){var old_state_name,state_object;if(old_state_name=this.state_name,this.state_name=state_name,(state_object=app[this.state_name+"_state"])&&$.isFunction(state_object.on_enter))return state_object.on_enter(old_state_name,args)},StateMachine.prototype.exit_state=function(state_name,new_state_name,args){var state_object;if((state_object=app[state_name+"_state"])&&$.isFunction(state_object.on_exit))return state_object.on_exit(new_state_name,args)},StateMachine}(),lib.state_machine=new StateMachine}.call(this),function(){this.AbstractHistory=function(){function AbstractHistory(){}return AbstractHistory.prototype.enter_state=function(controller,action,args){return lib.state_machine.enter_state(controller+"_"+action,args)},AbstractHistory}()}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.IframeHistory=function(superClass){function IframeHistory(){this.current_url=window.location.href,$(document).ready(function(_this){return function(){return _this.enter_state(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)}),_this.updated(document)}}(this))}return extend(IframeHistory,superClass),IframeHistory.prototype.push=function(args){var $body,$element,$elements,element,elements,html,old_action,old_controller,ref;if(null!=args.url&&(this.current_url=args.url),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&($body=$("body"),old_controller=$body.data("controller"),old_action=$body.data("action"),null!=old_controller&&null!=old_action&&(lib.state_machine.exit_state(old_controller+"_"+old_action,args.controller+"_"+args.action),$body.removeClass(old_controller).removeClass(old_action)),$body.addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action)),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates){ref=args.updates;for(element in ref)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element)}if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),null!=args.controller&&null!=args.action)return this.enter_state(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},IframeHistory.prototype.updated=function(e){return $(document).trigger("history:updated",[e])},IframeHistory.prototype.replace=function(){return $(document).trigger("history:updated",document)},IframeHistory.prototype.get_current_url=function(){return this.current_url},IframeHistory}(AbstractHistory)}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.BrowserHistory=function(superClass){function BrowserHistory(){this.storage={},this.triggered_by=this.trigger_type.browser,window.History.options={"disableSuid":!0},window.History.init(),this.state_id=window.History.getState().id,window.History.Adapter.bind(window,"statechange",function(_this){return function(){return _this.on_statechange()}}(this)),$(document).ready(function(_this){return function(){return _this.enter_state(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)}),_this.updated(document)}}(this))}return extend(BrowserHistory,superClass),BrowserHistory.prototype.trigger_type={"browser":0,"pushState":1,"replaceState":2},BrowserHistory.prototype.on_statechange=function(){var params,state,url;if(state=window.History.getState(),state.id!==this.state_id)return lib.google_analytics.track_pageview(window.location.pathname+window.location.search),this.triggered_by===this.trigger_type.browser?this.storage[state.id]?(this.save(this.state_id),this.load(state.id),this.state_id=state.id):(url=$.url(state.url),params={"is_browser_update":!0},$.getScript(url.attr("base")+url.attr("path")+"?"+$.param($.extend(url.param(),params)))):(this.state_id=state.id,this.triggered_by=this.trigger_type.browser)},BrowserHistory.prototype.push=function(args){return this.save(this.state_id),args.is_browser_update?this.state_id=window.History.getState().id:(this.triggered_by=this.trigger_type.pushState,window.History.pushState({},args.title,args.url),setTimeout(function(_this){return function(){return _this.triggered_by=_this.trigger_type.browser}}(this),100)),this.update(args)},BrowserHistory.prototype.replace=function(args){return this.triggered_by=this.trigger_type.replaceState,window.History.replaceState({},args.title,args.url),setTimeout(function(_this){return function(){return _this.triggered_by=_this.trigger_type.browser}}(this),300)},BrowserHistory.prototype.save=function(state_id){if(!lib.data.get("no-history-cache"))return this.storage[state_id]={"updates":{"#topbar":$("#topbar").html(),"#content":$("#content").html()},"scrollTop":lib.scroll.scroll_top,"controller":lib.data.get("controller"),"action":lib.data.get("action"),"no_history_cache":!1}},BrowserHistory.prototype.load=function(state_id){var storage;return null!=(storage=this.storage[state_id])&&(this.update($.extend(storage,{"load_history":!0})),!0)},BrowserHistory.prototype.update=function(args){var $body,$element,$elements,element,elements,html,old_action,old_controller,ref;if(lib.data.set("no-history-cache",args.no_history_cache),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&($body=$("body"),old_controller=$body.data("controller"),old_action=$body.data("action"),null!=old_controller&&null!=old_action&&(lib.state_machine.exit_state(old_controller+"_"+old_action,args.controller+"_"+args.action),$body.removeClass(old_controller).removeClass(old_action)),$body.addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action)),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates){ref=args.updates;for(element in ref)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element)}if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),args.load_history&&$(document).trigger("history:loaded"),null!=args.controller&&null!=args.action)return this.enter_state(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},BrowserHistory.prototype.updated=function(e){return $(document).trigger("history:updated",[e,window.History.getState().url])},BrowserHistory.prototype.back=function(){return window.History.back()},BrowserHistory.prototype.go=function(index){return window.History.go(index)},BrowserHistory.prototype.set_state_id=function(state_id){return this.state_id=state_id},BrowserHistory.prototype.get_state_id=function(){return this.state_id},BrowserHistory.prototype.get_current_url=function(){return window.location.href},BrowserHistory}(AbstractHistory)}.call(this),function(){(function(){function History(){$(document).ready(function(_this){return function(){return _this.invoke_controller_script(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)}),_this.updated(document)}}(this))}History.prototype.push=function(args){var $body,$element,$elements,element,elements,html,ref;if($("#loading").hide(),lib.google_analytics.track_pageview(args.url),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&($body=$("body"),$body.removeClass($body.data("controller")).removeClass($body.data("action")).addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action)),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates){ref=args.updates;for(element in ref)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element)}if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),null!=args.controller&&null!=args.action)return this.invoke_controller_script(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},History.prototype.invoke_controller_script=function(controller,action,args){var active_controller;if((active_controller=app[controller+"_controller"])&&($.isFunction(active_controller.init)&&active_controller.init(args),$.isFunction(active_controller[action])))return active_controller[action](args)},History.prototype.updated=function(e){return $(document).trigger("history:updated",e)}})()}.call(this),function(){var Alert;Alert=function(){function Alert(){}return Alert.prototype.show=function(message){return message=message.replace(/\n/g,"<br />"),alert(message)},Alert}(),$(function(){return lib.alert=new Alert})}.call(this),function(){var Error;Error=function(){function Error(){}return Error.prototype.show=function(message){return alert(message)},Error.prototype.growl=function(message){return app.window.growl(message)},Error}(),$(function(){return lib.error=new Error})}.call(this),function(){var GoogleAnalytics;GoogleAnalytics=function(){function GoogleAnalytics(){var gaq_account;gaq_account=lib.data.get("gaq-account"),this.enabled=null!=gaq_account,this.enabled&&(!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("require","ecommerce"),ga("create",gaq_account,"auto",{"sampleRate":1}),ga("send","pageview"))}return GoogleAnalytics.prototype.track_pageview=function(url){if(this.enabled)return ga("send","pageview",url)},GoogleAnalytics.prototype.add_item=function(transaction_id,sku,name,category,price,quantity){if(this.enabled)return ga("ecommerce:addItem",{"id":transaction_id,"name":name,"sku":sku,"category":category,"price":price,"quantity":quantity})},GoogleAnalytics.prototype.add_trans=function(transaction_id,affiliation,total,tax,shipping){if(this.enabled)return ga("ecommerce:addTransaction",{"id":transaction_id,"affiliation":affiliation,"revenue":total,"shipping":shipping,"tax":tax})},GoogleAnalytics.prototype.track_trans=function(){if(this.enabled)return ga("ecommerce:send")},GoogleAnalytics.prototype.set_currency_code=function(currency_code){
if(this.enabled)return ga("set","currencyCode",currency_code)},GoogleAnalytics}(),$(function(){return lib.google_analytics=new GoogleAnalytics})}.call(this),function(){$.rails.formElements=function(form,selector){return form.find(selector)}}.call(this),function(){var PcScroll,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcScroll=function(superClass){function PcScroll(){var scroll_to;PcScroll.__super__.constructor.apply(this,arguments),(scroll_to=lib.data.get("scroll-to"))&&(app.window.scroll_to($(scroll_to).offset().top),$(scroll_to).effect("highlight",{"color":"#ffffd4","duration":2e3}))}return extend(PcScroll,superClass),PcScroll.prototype.lock=function(){return this.locked_at=$(window).scrollTop(),this.c.addClass("scroll-fixed").css({"top":-this.locked_at,"height":this.locked_at+window.innerHeight}),$(window).scrollTop(0),$(window).on("resize.scroll",function(_this){return function(){return _this.c.height(_this.locked_at+window.innerHeight)}}(this))},PcScroll}(lib.Scroll),$(function(){return lib.scroll=new PcScroll})}.call(this),function(){var UIUtil;UIUtil=function(){function UIUtil(){this.textchange_events="keyup.textchange cut.textchange paste.textchange input.textchange change.textchange"}return UIUtil.prototype.autogrow=function($target){var times;return $target[0].shadow||($target[0].autogrow_width=$target.width(),$target[0].minHeight=$target.data("min-height")||$target.height(),$target[0].shadow=$("<div></div>").css({"position":"absolute","top":-1e4,"left":-1e4,"width":$target.width()-parseInt($target.css("paddingLeft"))-parseInt($target.css("paddingRight")),"fontSize":$target.css("fontSize"),"fontFamily":$target.css("fontFamily"),"lineHeight":$target.css("lineHeight"),"resize":"none","wordWrap":"break-word"}).appendTo(document.body)),$target[0].autogrow_width!==$target.width()&&$target[0].shadow.width($target.width()-parseInt($target.css("paddingLeft"))-parseInt($target.css("paddingRight"))),times=function(string,number){var j,r,ref;for(r="",j=0,ref=number;0<=ref?j<=ref:j>=ref;0<=ref?++j:--j)r+=string;return r},val=$target[0].value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return times("&nbsp;",space.length-1)+" "}),$target[0].shadow.html(val),$target.css("height",Math.max($target[0].shadow.height(),$target[0].minHeight)),!0},UIUtil.prototype.on_load=function($target,callback){var finished,interval_id,loaded;if($target.length)return $target[0].complete?callback():(interval_id=null,loaded=!1,finished=function(){if(!loaded)return loaded=!0,callback(),clearInterval(interval_id),interval_id=null},interval_id=setInterval(function(){if($target[0].complete)return finished()},400),$target.one("load",function(){return finished()}),$target.one("error",function(){return finished()}))},UIUtil.prototype.set_waiting=function($element){var $loading_indicator;return $loading_indicator=$("<img class='loader'>").attr("src",lib.data.get("loader-url")),$element.append($loading_indicator)},UIUtil.prototype.clear_waiting=function($element){return $element.find(".loader").remove()},UIUtil}(),this.lib.ui_util=new UIUtil}.call(this),function(){this.AbstractWindow=function(){function AbstractWindow(){}return AbstractWindow.prototype.close_popup_forever=function(){},AbstractWindow.prototype.close_popup_today=function(){},AbstractWindow.prototype.close_popup_once=function(){},AbstractWindow.prototype.paginate=function(){},AbstractWindow.prototype.set_nonmember_token=function(){},AbstractWindow.prototype.post=function(){},AbstractWindow.prototype.get_scroll_top=function(){},AbstractWindow.prototype.set_height=function(){},AbstractWindow.prototype.get_height=function(){},AbstractWindow.prototype.is_fullscreen=function(){return!1},AbstractWindow.prototype.reload=function(){},AbstractWindow}()}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.BrowserWindow=function(superClass){function BrowserWindow(){this.fullscreen_popup=new FullscreenPopup}return extend(BrowserWindow,superClass),BrowserWindow.prototype.close_popup_forever=function(){return app.event.create("popup","block")},BrowserWindow.prototype.close_popup_today=function(){return app.event.create("popup","close_today")},BrowserWindow.prototype.close_popup_once=function(triggered_by,reason){return app.event.create("popup","close_once",{"triggered_by":triggered_by,"reason":reason})},BrowserWindow.prototype.get_scroll_top=function(){return $(window).scrollTop()},BrowserWindow.prototype.get_height=function(){return $(window).height()},BrowserWindow.prototype.scroll_to=function(offset,args){var $target,y;if(null==args&&(args={}),y=0,args.target_id){if($target=$("#"+args.target_id),!$target.length)return;y=$target.offset().top}return $(window).scrollTop(y+offset)},BrowserWindow.prototype.open_fullscreen_popup=function(url,on_receive_message){var final_url,params;return url=$.url(url),params=url.param(),final_url=url.attr("base")+url.attr("path")+"?"+$.param($.extend(params,{"parent_url":document.location.href})),this.fullscreen_popup.open("crema-fullscreen-popup",final_url,on_receive_message)},BrowserWindow.prototype.close_fullscreen_popup=function(){return this.fullscreen_popup.close()},BrowserWindow}(this.AbstractWindow)}.call(this),function(){this.Event=function(){function Event(){}return Event.prototype.create=function(type,event,data){return $.post("/events",$.extend({"type":type,"event":event,"brand_code":lib.data.get("brand-code")},data))},Event}()}.call(this),function(){var Facebook;Facebook=function(){function Facebook(){}return Facebook.prototype.run=function(){return this.loaded?this.init():(this.loaded=!0,$.getScript("//connect.facebook.net/ko_KR/sdk.js",function(_this){return function(){return _this.init()}}(this)))},Facebook.prototype.init=function(){return FB.init({"appId":lib.data.get("facebook-app-id"),"version":lib.data.get("facebook-sdk-version"),"xfbml":!0})},Facebook}(),app.facebook=new Facebook}.call(this),function(){$(document).on("blur","input.number-only",function(){var new_val,val;if((val=$(this).val())&&(new_val=val.replace(/\D/g,""),val!==new_val))return $(this).val(new_val)})}.call(this),function(){this.FullscreenPopup=function(){function FullscreenPopup(){}return FullscreenPopup.prototype.open=function(id,url,on_receive_message){var $body,$html,body_css,height,on_popstate,window_height;if(this.close_impl(),this.opened=!0,$body=$("body"),$html=$("html"),$html.data("crema-org-style",$html.attr("style")).css({"overflow":"hidden"}),height=$body.height(),window_height=$(window).innerHeight(),body_css={"height":"auto"},(0===window_height||height>window_height)&&(body_css.overflow="hidden"),$body.data("crema-org-style",$body.css("style")).css(body_css),this.popup=$("<iframe></iframe>").attr({"id":id,"allowTransparency":"true","frameborder":0}),lib.browser.is_ie?this.open_impl_ie(id,$body):lib.browser.is_ios?this.open_impl_ios(id,$body):this.open_impl(id,$body),this.popup.attr("src",url),this.modal_history_enabled()&&(window.history.pushState({"modal":1},"","#modal"),on_popstate=function(_this){return function(){return _this.close_impl(),$(window).off("popstate",on_popstate)}}(this),$(window).on("popstate",on_popstate)),$.receiveMessage(function(_this){return function(e){var data,org_style;switch(data=$.deparam(e.data),data.act){case"close_fullscreen_popup":_this.close(),$html=$("html"),org_style=$html.data("crema-org-style"),org_style?$html.attr("style",org_style):$html.removeAttr("style",org_style),$html.removeData("crema-org-style"),$body=$("body"),org_style=$body.data("crema-org-style"),org_style?$body.attr("style",org_style):$body.removeAttr("style",org_style),$body.removeData("crema-org-style");break;case"onload":_this.popup.css({"visibility":"visible"});break;case"redirect_to":app.window.redirect_to(data.url);break;case"keydown":_this.post_keydown(data.keyCode)}if(null!=on_receive_message)return on_receive_message(data)}}(this),document.location.protocol+"//"+document.location.host),lib.browser.is_ie)return this.keydown=function(_this){return function(e){return _this.post_keydown(e.keyCode)}}(this),$(document).on("keydown",this.keydown)},FullscreenPopup.prototype.open_impl_ie=function(id,$body){var margin_right,org_margin_right_str,style;return style={"width":"100%","height":"100%","zIndex":9999999},lib.browser.is_ie&&(style.visibility="hidden",org_margin_right_str=$body.css("marginRight"),margin_right="px"===org_margin_right_str.slice(-2)?parseInt(org_margin_right_str):0,$body.css({"marginRight":margin_right+16})),lib.browser.supports_fixed_position()?(style.position="fixed",style.top=0,style.left=0):(style.position="absolute",style.top=document.documentElement.scrollTop||document.body.scrollTop,style.left=document.documentElement.scrollLeft||document.body.scrollLeft),this.popup.css(style),lib.browser.is_ie&&lib.browser.ie_document_mode<7&&(this.fix_scroll=function(){return document.documentElement.scrollTop=document.body.scrollTop=style.top},$(window).bind("scroll",this.fix_scroll)),this.popup.appendTo("body")},FullscreenPopup.prototype.open_impl_ios=function(id,$body){var $ios_popup_container;return $ios_popup_container=$("<div id='crema-ios-popup-container'></div>"),$ios_popup_container.css({"overflowY":"scroll","overflowScrolling":"touch","position":"fixed","top":0,"right":0,"bottom":0,"left":0,"zIndex":9999999}),$body.append($ios_popup_container),this.popup.css({"width":"100%","height":"100%"}),this.popup.appendTo($ios_popup_container)},FullscreenPopup.prototype.open_impl=function(){var style;return style={"width":"100%","height":"100%","zIndex":9999999},lib.browser.supports_fixed_position()?(style.position="fixed",style.top=0,style.left=0):(style.position="absolute",style.top=document.documentElement.scrollTop||document.body.scrollTop,style.left=document.documentElement.scrollLeft||document.body.scrollLeft),this.popup.css(style),this.popup.appendTo("body")},FullscreenPopup.prototype.post_keydown=function(keyCode){return $.postMessage($.extend({"act":"keydown"},{"keyCode":keyCode}),window.location.protocol+"//"+window.location.host+this.popup.attr("src"),this.popup.get(0).contentWindow)},FullscreenPopup.prototype.close=function(){if(this.opened)return this.opened=!1,this.modal_history_enabled()?window.history.back():this.close_impl()},FullscreenPopup.prototype.close_impl=function(){var $body,$html,org_style;if(this.opened=!1,this.fix_scroll&&($(window).unbind("scroll",this.fix_scroll),this.fix_scroll=null),this.popup&&(this.popup.remove(),$("#crema-ios-popup-container").remove(),$html=$("html"),org_style=$html.data("crema-org-style"),org_style?$html.attr("style",org_style):$html.removeAttr("style",org_style),$html.removeData("crema-org-style"),$body=$("body"),org_style=$body.data("crema-org-style"),org_style?$body.attr("style",org_style):$body.removeAttr("style",org_style),$body.removeData("crema-org-style"),this.popup=null),this.keydown)return $(document).off("keydown",this.keydown),this.keydown=null},FullscreenPopup.prototype.modal_history_enabled=function(){return lib.browser.is_mobile()&&lib.browser.supports_history()},FullscreenPopup}(),$(document).on("click",".js-link-fullscreen-popup",function(){return app.window.open_fullscreen_popup($(this).data("url"))})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.IframeWindow=function(superClass){function IframeWindow(){var encoded_url,parent_url,url_builder;this.has_message_handler=!0,(parent_url=lib.data.get("parent-url"))&&(encoded_url=encodeURIComponent(parent_url),this.parent_url=decodeURIComponent(encoded_url),url_builder=new UrlBuilder(this.parent_url),$.receiveMessage(function(_this){return function(e){var data;return data=$.deparam(e.data),_this.handle_message(data)}}(this),url_builder.get_base()),this.handle_select_dropdown())}return extend(IframeWindow,superClass),IframeWindow.prototype.close_popup_forever=function(){return app.event.create("popup","block"),this.post_with_delay("block_popup")},IframeWindow.prototype.close_popup_today=function(){return app.event.create("popup","close_today"),this.post_with_delay("set_close_today")},IframeWindow.prototype.close_popup_once=function(triggered_by,reason){return app.event.create("popup","close_once",{"triggered_by":triggered_by,"reason":reason}),this.post_with_delay("set_close")},IframeWindow.prototype.paginate=function(params,scroll_to_top){var $pagination_list,fixed_top_menu_height,offset;return scroll_to_top&&($pagination_list=$(".js-pagination-list"),$pagination_list.length&&(offset=$(".js-pagination-list").offset().top,fixed_top_menu_height=lib.data.get("fixed-top-menu-height"),fixed_top_menu_height&&(offset-=parseInt(fixed_top_menu_height)),params.offset=offset),params.push_state=!0),this.post("paginate",params)},IframeWindow.prototype.set_nonmember_token=function(nonmember_token){return this.post("set_nonmember_token",{"nonmember_token":nonmember_token})},IframeWindow.prototype.post_with_delay=function(action,args){return setTimeout(function(_this){return function(){return _this.post(action,args)}}(this),350)},IframeWindow.prototype.post=function(action,args){if(this.has_message_handler)return $.postMessage($.extend({"iframe_id":lib.data.get("iframe-id"),"act":action},args),this.parent_url,parent)},IframeWindow.prototype.handle_message=function(data){switch(data.act){case"scroll":return this.scroll_top=Number(data.scrollTop),$(window).trigger("scroll");case"set_window_height":return this.window_height=Number(data.window_height);case"keydown":return $(document).trigger("iframe:keydown",parseInt(data.keyCode));case"popstate":return this.popstate(data.url);case"fullscreen_popup":if(this.on_receive_fullscreen_popup_message)return data.act=data.fullscreen_popup_act,delete data.fullscreen_popup_act,this.on_receive_fullscreen_popup_message(data)}},IframeWindow.prototype.get_scroll_top=function(){return this.scroll_top},IframeWindow.prototype.get_height=function(){return this.window_height||640},IframeWindow.prototype.scroll_to=function(offset,args){return this.post("scroll_to",$.extend({"offset":offset},args))},IframeWindow.prototype.reload=function(target_id,params){return this.post("reload",$.extend({"target_id":target_id},params))},IframeWindow.prototype.redirect_to=function(url,args){var k,redirect_args,v;null==args&&(args={}),redirect_args={"url":url},args.keep_scroll&&(redirect_args.scroll_top=this.get_scroll_top(),delete args.keep_scroll);for(k in args)v=args[k],redirect_args[k]=v;return this.post("redirect_to",redirect_args)},IframeWindow.prototype.popstate=function(url){var builder;if(!lib.data.get("no-popstate"))return builder=new UrlBuilder(url),builder.add_param("is_browser_update",1),url=builder.build(),$.getScript(url)},IframeWindow.prototype.open_fullscreen_popup=function(url,on_receive_message){return this.post("open_fullscreen_popup",{"url":url}),this.on_receive_fullscreen_popup_message=on_receive_message},IframeWindow.prototype.close_fullscreen_popup=function(){return this.on_receive_fullscreen_popup_message=null,this.post("close_fullscreen_popup")},IframeWindow.prototype.handle_select_dropdown=function(){return $(window).on("select2-open",function(){var $body,$select2_dropdown,min_height;if($select2_dropdown=$("#select2-drop"),$body=$("body"),min_height=$select2_dropdown.offset().top+$select2_dropdown.height()+10,$body.height()<min_height)return $body.css({"minHeight":min_height})}),$(window).on("select2-close",function(){return $("body").css({"minHeight":""})})},IframeWindow}(this.AbstractWindow)}.call(this),function(){var ImageFieldValidator;ImageFieldValidator=function(){function ImageFieldValidator(){}return ImageFieldValidator.prototype.validate=function($input){var ext,file,filename;if(lib.browser.supports_file_reader()){if($input=$input[0],!$input.files)return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file_reader")),!1;if(!(file=$input.files[0]))return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file")),!1;if(file.type&&!file.type.match(/image/))return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_with_file_type",{"file_type":file.type})),!1;filename=file.name}else{if(!$input[0])return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file_input")),!1;filename=$input[0].value}return!(filename&&(ext=filename.match(/\.[a-z]+/i))&&!ext[0].match(/png|jpg|jpeg|bmp|gif/i))||(lib.alert.show(lib.i18n.t("image_field_cant_add_photo_with_file_name",{"file_name":filename})),!1)},ImageFieldValidator}(),app.image_field_validator=new ImageFieldValidator}.call(this),function(){var LikeResult;LikeResult=function(){function LikeResult(){}return LikeResult.prototype.add_score=function($review,delta_score,delta_total){if($review.length>0)return $review.find(".like_result, .js-like-result").each(function(_this){return function(i,e){var $like_result;return $like_result=$(e),_this.set_total($like_result,delta_total),_this.set_plus($like_result,delta_score,delta_total),_this.set_score_text($review,delta_score)}}(this))},LikeResult.prototype.set_total=function($like_result,delta_total){var $likes_html,$no_likes_html,$total,new_total,total;if($total=$like_result.find(".js-like-score-total"),$likes_html=$like_result.find(".js-likes-html"),$no_likes_html=$like_result.find(".js-no-likes-html"),total=parseInt($total.text()),(new_total=total+delta_total)!==total)return $total.text(new_total),0===new_total?($likes_html.addClass("hidden"),$no_likes_html.removeClass("hidden")):($likes_html.removeClass("hidden"),$no_likes_html.addClass("hidden"))},LikeResult.prototype.set_plus=function($like_result,delta_score,delta_total){var $plus;return delta_total>=0&&delta_score>0?($plus=$like_result.find(".js-like-score-plus"),$plus.text(parseInt($plus.text())+1)):delta_total<=0&&delta_score<0?($plus=$like_result.find(".js-like-score-plus"),$plus.text(parseInt($plus.text())-1)):void 0},LikeResult.prototype.set_score_text=function($review,delta_score){var $score,score;return $score=$review.find(".js-like-score-text"),score=parseInt($score.text().replace(/\+\-/,"")),score+=delta_score,score>0?$score.text("+"+score):score<0?$score.text(score):$score.text("0")},LikeResult}(),app.like_result=new LikeResult}.call(this),function(){var Main;Main=function(){function Main(){$(document).on("click",".js-link-iframe",function(){var keep_scroll,url;if(url=$(this).data("url"))return keep_scroll=!!$(this).data("keep-scroll"),app.window.redirect_to(url,{"keep_scroll":keep_scroll,"close_url":!0})}),$(document).on("grid:appended",function(e,args){if(app.window.resize_target(),args&&args.elements)return $(args.elements).find("img[data-no-size=true]").each(function(i,e){return lib.ui_util.on_load($(e),function(){return app.window.resize_target()})})})}return Main}(),app.Main=Main}.call(this),function(){this.ReviewImage=function(){function ReviewImage(){this.enabled=!0,this.$root=$(".js-image-fields"),this.max_images_count=this.$root.data("max-images-count"),this.images_count=this.$root.data("images-count"),$(document).on("change",".js-input-file",function(_this){return function(e){return _this.on_select_image(e.target)}}(this)),$(document).on("click",".js-remove-preview, .js-remove-image",function(_this){return function(e){return _this.on_remove_image(e.target)}}(this)),$(document).on("click",".js-add-image-container",function(_this){return function(){return _this.add_image_container()}}(this))}return ReviewImage.prototype.set_enabled=function(enabled){return this.enabled=enabled},ReviewImage.prototype.set_form=function($form){return this.$root=$form.find(".js-image-fields"),this.images_count=this.$root.data("images-count"),this.max_images_count=this.$root.data("max-images-count"),$form.bind("ajax:error",function(e,xhr){if(xhr.responseText&&xhr.responseText.match(/^413/))return lib.alert.show(lib.i18n.t("image_size_too_large"))})},ReviewImage.prototype.on_select_image=function(input){var $form,$input,$input_image_container,$parent,$preview_container,complete,url_builder;return!this.enabled||($input=$(input),this.image_field_validate($input)?($preview_container=$input.siblings(".js-image-field-preview-container"),$preview_container.find(".js-image-field-preview"),lib.browser.supports_file_reader()?this.select_images(input.files):($input_image_container=$input.siblings(".js-image-field-input-image-container"),$input_image_container.hide(),$parent=$input.parent(),lib.ui_util.set_waiting($parent),$form=$("#form-upload-image"),url_builder=new UrlBuilder($input.data("upload-image-url")),url_builder.add_param("input_id",$input.attr("id")),$form.attr("action",url_builder.build()),$input.data("name",$input.attr("name")),$input.attr("name","file"),$form.children("div").empty().append($input),complete=function(){return $form.unbind("ajax:success ajax:error"),$input_image_container.show(),lib.ui_util.clear_waiting($parent)},$form.bind("ajax:success",function(_this){return function(e,data){return complete(),_this.add_preview_image(data)}}(this)),$form.bind("ajax:error",function(){return $input.val(""),$parent.append($input),complete()}),$form.submit())):void 0)},ReviewImage.prototype.select_images=function(files){var $links,$new_image_field,alert_message,i,j,new_images_count,offset,ref,remaining_images_count;if(files){for(new_images_count=files.length,remaining_images_count=this.max_images_count-this.images_count,remaining_images_count<new_images_count&&(alert_message=this.$root.data("limit-images-count-warning").replace(/%{max_count}/,this.max_images_count).replace(/%{count}/,remaining_images_count),lib.alert.show(alert_message),new_images_count=remaining_images_count),offset=this.images_count,$links=$(),$links=$links.add(this.$root.find(".js-remove-preview").eq(offset)),i=j=0,ref=new_images_count;j<ref;i=j+=1)$new_image_field=this.set_preview_image(),i!==new_images_count-1&&($new_image_field.find(".js-input-file").remove(),$links=$links.add($new_image_field.find(".js-remove-preview"))),this.preview_image_data(files[i],offset+i);return $links.click(function(_this){return function(){return $links.each(function(i,e){return _this.on_remove_image($(e))}),!1}}(this))}},ReviewImage.prototype.preview_image_data=function(image_data,index){var reader;return reader=new FileReader,reader.onload=function(_this){return function(e){var image;return image=new Image,image.src=e.target.result,image.onload=function(e){var $preview_container;return $preview_container=_this.$root.find(".js-image-field-preview-container").eq(index),$preview_container.find(".js-image-field-preview").css({"backgroundImage":"url("+e.target.src+")"}),$preview_container.removeClass("hidden")}}}(this),reader.readAsDataURL(image_data)},ReviewImage.prototype.on_remove_image=function(link){var $image_field,$input_file,$link;if($link=$(link),$link.closest(".js-image-field-preview-container").addClass("hidden"),$image_field=$link.closest(".js-image-field"),$image_field.remove(),this.images_count-=1,this.images_count===this.max_images_count-1&&this.add_new_image_field(),!lib.browser.supports_file_reader())return $input_file=$("#form-upload-image input"),$image_field.find(".js-image-field-input-image-container").after($input_file)},ReviewImage.prototype.add_preview_image=function(args){var $image_field,$input,$input_image_container,$preview,$preview_container,attribute_id,attribute_name,filename,thumbnail_url;return $input=args.input_id?$("#"+args.input_id):$(".js-input-file").last(),thumbnail_url=args.thumbnail_url,filename=args.filename,attribute_name=$input.data("name")||$input.attr("name"),attribute_id=$input.attr("id"),$image_field=this.$root.find("li").last(),$input_image_container=$image_field.find(".js-image-field-input-image-container"),$input_image_container.show(),$preview_container=$image_field.find(".js-image-field-preview-container"),$preview_container.before($("<input type='hidden'>").attr({"name":attribute_name,"id":attribute_id}).val(filename)),$preview=$preview_container.find(".js-image-field-preview"),$preview.attr("src",thumbnail_url).css("width","100%"),$preview_container.removeClass("hidden"),this.set_preview_image()},ReviewImage.prototype.set_preview_image=function(){if(this.images_count<this.max_images_count&&(this.images_count+=1,this.images_count<this.max_images_count))return this.add_new_image_field()},ReviewImage.prototype.image_field_validate=function($input){return app.image_field_validator.validate($input)},ReviewImage.prototype.add_new_image_field=function(){return $(Mustache.render(this.$root.closest("form").find("#new-image-field").html())).appendTo(this.$root)},ReviewImage.prototype.add_image_container=function(){var offset;return this.images_count<this.max_images_count?(offset=$("input[type=hidden][name='review[images][]']").length,this.$root.find("input[type=file]").eq(this.images_count-offset).trigger("click")):lib.alert.show(this.$root.data("max-images-count-warning"))},ReviewImage}()}.call(this),function(){var Search;Search=function(){function Search(){}return Search.prototype.init=function($base){if($base.length)return $base.find(".js-search-trigger").each(function(_this){return function(i,e){var $trigger;return $trigger=$(e),$trigger.is("select")?$trigger.change(function(){return _this.reload($base)}):$trigger.is("input[type=text], input[type=hidden]")?$trigger.change(function(){return _this.reload($base)}):$trigger.is(".js-toggle-button")?$trigger.on("toggle_button:changed",function(){return _this.reload($base)}):$trigger.is("a, button")?$trigger.click(function(){return _this.reload($base)}):void 0}}(this))},Search.prototype.reload=function($base){var $url,params,url;return $url=$.url($base.data("search-url")),params=$url.param(),$base.find(".js-search-field").each(function(){var $field,key,value;if($field=$(this),$field.is("select, input")?(key=$field.attr("name"),value=$field.val()):$field.is(".js-toggle-button")&&null!=(key=$field.data("key"))&&(value=$field.hasClass("active")?$field.data("value-active")||1:$field.data("value-inactive")||0),null!=key)return value?params[key]=value:delete params[key]}),url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})},Search}(),app.search=new Search}.call(this),function(){$("#test_server_watermark").click(function(){var k,messages,ref,v;messages=[],ref=$(this).data();for(k in ref)(v=ref[k])&&messages.push(k+": "+v);return messages.push("url: "+window.location.href),alert(messages.join("\n"))})}.call(this),function(){$(function(){return $(document).on("click",".js-toggle-button",function(){var $button;return $button=$(this),$button.toggleClass("active"),$button.trigger("toggle_button:changed")})})}.call(this),function(){$(document).on("history:updated",function(e,element){return $(element).find(".styled").each(function(i,e){return $(e).uniform()})})}.call(this),function(){var WindowLink;new(WindowLink=function(){function WindowLink(){this.is_iframe=this.check_iframe(),this.load_base_url(),$(document).on("history:updated",function(_this){return function(e,element){var $links;return $links=$(element).find("a[data-link-target=window]"),$links.each(function(i,e){var $link;return $link=$(e),$link.click(function(){return _this.on_click($link)})})}}(this))}return WindowLink.prototype.check_iframe=function(){return this.is_iframe=window!==window.top},WindowLink.prototype.load_base_url=function(){var url_builder;return url_builder=new UrlBuilder(window.location.href),this.base_url=url_builder.get_base()},WindowLink.prototype.on_click=function($link){var url;return!this.is_iframe||(url=$link.attr("href"),"/"===url[0]&&(url=this.base_url+url),app.window.redirect_to(url,{"keep_scroll":!0,"close_url":!0}),!1)},WindowLink}())}.call(this),function(){var Comments;Comments=function(){function Comments(){}return Comments.prototype.generatedId=65535,Comments.prototype.generateId=function(){return this.generatedId++},Comments}(),app.comments=new Comments,$(document).on("ajax:before","form.new_comment",function(){var $comment_input,$form,$new_comment,tracking_id,val;return $form=$(this),$comment_input=$form.find(".js-input-block"),$comment_input.blur(),""!==(val=$comment_input.val().replace(/\r\n|\r|\n/g,"<br>"))&&(tracking_id=app.comments.generateId(),$new_comment=$(Mustache.render($form.find(".blueprint").html(),{"id":tracking_id,"message":val})),$form.closest(".js-comments-container").find("ul").append($new_comment),lib.animation.height_up($new_comment),$form.find("input[name='tracking_id']").val(tracking_id),setTimeout(function(){return $comment_input.val("")},100))}),$(document).on("click",".js-link-edit-comment",function(){var $comment,$input,cancelled,org_val;return $comment=$(this).closest(".comment"),$comment.addClass("comment--editing"),$input=$comment.find("input"),$input.focus().select(),org_val=$input.val(),cancelled=!1,$input.one("blur",function(){var message;return $comment.removeClass("comment--editing"),$input.off("keydown"),cancelled?$input.val(org_val):(message=$input.val(),$.ajax({"url":$input.data("update-url"),"type":"patch","dataType":"script","data":{"message":message}}),$comment.find(".comment__message_text").text(message))}),$input.on("keydown",function(e){return 13===e.keyCode?""===$input.val()?alert($input.data("message-required")):$input.blur():27===e.keyCode?(cancelled=!0,$input.blur()):void 0})})}.call(this),function(){this.NineWayDirection={"top_left":11,"top_center":12,"top_right":13,"middle_left":21,"middle_center":22,"middle_right":23,"bottom_left":31,"bottom_center":32,"bottom_right":33}}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;(function(superClass){function PcEvent(){return PcEvent.__super__.constructor.apply(this,arguments)}extend(PcEvent,superClass),PcEvent.prototype.create=function(type,event,data){return PcEvent.__super__.create.call(this,type,event,$.extend(data,{"device":"pc"}))}})(this.Event),app.event=new Event}.call(this),function(){var Form;Form=function(){function Form(){}return Form.prototype.enable_validate=function(){return $("form[data-validate]").enableClientSideValidations()},Form.prototype.select=function($select,args){var applied_key,dropdown_icon_klass,select_args;if(applied_key="select2-applied",!$select.data(applied_key))return $select.data(applied_key,!0),this.remove_old_select($select),select_args={"minimumResultsForSearch":-1,"dropdownCssClass":$select.data("dropdown-css-class"),"adaptDropdownCssClass":function(c){return""+c=="minimal_select"?c:null}},$select.data("dropdown-auto-width")&&(select_args.dropdownAutoWidth=!0),args&&(select_args=$.extend(select_args,args)),$select.select2(select_args),dropdown_icon_klass=$select.data("dropdown-icon-class")||"sprites-icon-drop-down",dropdown_icon_klass+=" select2__dropdown_icon",$select.prev().find(".select2-arrow").after($("<span></span>").addClass(dropdown_icon_klass))},Form.prototype.remove_old_select=function($select){var id;return id=$select.attr("id"),$("#s2id_"+id).remove()},Form}(),app.form=new Form,$(document).on("history:updated",function(e,element){return app.form.enable_validate(),$(element).find("select.select2").each(function(i,e){return app.form.select($(e))})}),$(function(){return $(document).on(lib.ui_util.textchange_events,".js-new-reviews-count-limit, .js-review-form-count-limit",function(){var $input,$limit_counter,count,maxlength,val;return $input=$(this),$limit_counter=$input.closest(".js-limit-count-container").find(".js-limit-counter"),val=$input.val(),maxlength=parseInt($input.attr("maxlength")),count=$input.data("up-counter")?val.length:maxlength-val.length,count>=0?$limit_counter.html(count):($.browser.msie&&$input.val(val.substr(0,maxlength)),$limit_counter.html(0))}),$(document).on("form:validate:fail.ClientSideValidations","form[data-validate]",function(){return alert($($(this).find("[data-error-message]").get(0)).data("error-message"))})})}.call(this),function(){
var FullscreenModal;FullscreenModal=function(){function FullscreenModal(element){this.popup=$(element),this.popup.addClass("fullscreen_modal--loaded"),this.popup.click(function(_this){return function(e){if(e.target===e.currentTarget)return _this.close()}}(this)),this.popup.find(".fullscreen_modal__close").click(function(_this){return function(){return _this.close()}}(this)),this.bind_keydown()}return FullscreenModal.prototype.close=function(){return app.widget.is_new_tab()?window.close():app.window.close_fullscreen_popup()},FullscreenModal.prototype.bind_keydown=function(){return lib.browser.is_ie&&lib.browser.is_in_iframe()?$(document).on("iframe:keydown",function(_this){return function(e,keyCode){return _this.on_keydown(keyCode)}}(this)):this.popup.keydown(function(_this){return function(e){return _this.on_keydown(e.keyCode)}}(this)),this.popup.attr("tabindex",-1).focus()},FullscreenModal.prototype.on_keydown=function(keyCode){if(27===keyCode)return this.close()},FullscreenModal}(),$(document).on("history:updated",function(e,element){var $modal,fullscreen_modal;return $modal=$(element).find(".fullscreen_modal"),fullscreen_modal=new FullscreenModal($modal),$modal.data("fullscreen-modal",fullscreen_modal)})}.call(this),function(){this.FullscreenPopupContent=function(){function FullscreenPopupContent(element){this.popup=$(element),this.popup.hasClass("fullscreen_popup--loaded")||this.popup.animate({"opacity":1},260,lib.animation.ease_out),this.content=this.popup.find(".fullscreen_popup__content"),this.popup.find(".fullscreen_popup__content_container").click(function(e){if(e.target===this)return app.window.close_fullscreen_popup()}),this.$close=this.popup.find(".fullscreen_popup__close"),this.$close.click(function(_this){return function(){return _this.close()}}(this)),this.on_resize(),$(window).resize(function(_this){return function(){return _this.on_resize()}}(this))}return FullscreenPopupContent.prototype.on_resize=function(){return this.reset_close_position()},FullscreenPopupContent.prototype.reset_close_position=function(){var content_offset;if(!this.$close.hasClass("fullscreen_popup__close--fixed"))return content_offset=this.content.offset(),this.$close.css({"top":content_offset.top-45,"right":.5*($(window).width()-this.content.outerWidth())-45})},FullscreenPopupContent.prototype.close=function(){return app.widget.is_new_tab()?window.close():app.window.close_fullscreen_popup()},FullscreenPopupContent}()}.call(this),function(){$(function(){if(lib.browser.is_ie&&7===lib.browser.version_number)return $.rails.formElements=function(form,selector){return form.find(selector)}})}.call(this),function(){var image_smooth_loader;$(document).on("mouseover","img.grayscale",function(){var $this;return $this=$(this),lib.animation.fade_out($this,{"duration":"long","complete":function(){return $this.css({"opacity":0,"filter":"alpha(opacity=0)"})}})}),$(document).on("mouseout","img.grayscale",function(){var $this;return $this=$(this),lib.animation.fade_in($this,{"duration":"long","complete":function(){return $this.removeAttr("style")}})}),$(document).on("gray:replaced","div.grayscale-replaced",function(){return $(this).css({"opacity":1})}),$(document).on("mouseover","div.grayscale-replaced",function(){return $(this).stop().animate({"opacity":0},350)}),$(document).on("mouseout","div.grayscale-replaced",function(){return $(this).stop().animate({"opacity":1},350)}),image_smooth_loader=function($img){return $img.addClass("smooth--loaded"),Modernizr.csstransitions||$img.fadeIn(200),setTimeout(function(){return $img.removeClass("smooth")},200)},$(window).on("history:updated",function(e,element){return $(element).find("img.smooth").each(function(){var $img;return $img=$(this),$img.data("background-image")?image_smooth_loader($img):lib.ui_util.on_load($img,function(){return image_smooth_loader($img)})})})}.call(this),function(){$(document).on("click",".js-link-fullscreen-popup",function(){return app.reviews.review_popup_loader($(this))})}.call(this),function(){var Login;Login=function(){function Login(){}return Login.prototype.required=function(){if(confirm(lib.data.get("login-alert")))return this.redirect_to_login()},Login.prototype.check=function(e){return!!lib.data.get("username")||(app.login.required(),e.preventDefault(),e.stopPropagation(),!1)},Login.prototype.redirect_to_login=function(){var login_url;return login_url=this.get_login_url(),login_url?app.window.redirect_to(login_url):app.window.post("login")},Login.prototype.get_login_url=function(){var mall_login_url,parent_url,url_builder;return(mall_login_url=app.shop_builder.get_login_url())?(url_builder=new UrlBuilder(mall_login_url),parent_url=lib.data.get("parent-url"),parent_url&&url_builder.set_host(new UrlBuilder(parent_url).get_host()),url_builder.build()):null},Login}(),app.login=new Login,$(function(){return $(document).on("ajax:before","[data-login-required=true]",function(e){return app.login.check(e)}),$(document).on("focus","input[data-login-required=true], textarea[data-login-required=true]",function(e){var $this;if(!lib.data.get("username"))return $this=$(this),$this.blur(),app.login.required(),e.preventDefault(),e.stopPropagation(),!1}),$(document).on("click",".js-link-login",function(){return app.login.redirect_to_login()})})}.call(this),function(){var PcMain,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcMain=function(superClass){function PcMain(){PcMain.__super__.constructor.apply(this,arguments),this.load_shop_builder()}return extend(PcMain,superClass),PcMain.prototype.load_shop_builder=function(){var shop_builder_class;return shop_builder_class="makeshop"===lib.data.get("shop-builder")?app.MakeshopShopBuilder:app.ShopBuilder,app.shop_builder=new shop_builder_class},PcMain}(app.Main),app.PcMain=PcMain}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.NewReviewPopupContent=function(superClass){function NewReviewPopupContent(){return NewReviewPopupContent.__super__.constructor.apply(this,arguments)}return extend(NewReviewPopupContent,superClass),NewReviewPopupContent.prototype.recalc_layout=function(){var content_height,css,direction,offset_x,offset_y,window_height;if(direction=lib.data.get("review-popup-direction"),offset_x=lib.data.get("review-popup-offset-x"),offset_y=lib.data.get("review-popup-offset-y"),window_height=$(window).height(),content_height=this.content.height(),css={},window_height<content_height)css.marginTop=0;else switch(direction){case NineWayDirection.top_left:case NineWayDirection.top_center:case NineWayDirection.top_right:css.marginTop=0;break;case NineWayDirection.middle_left:case NineWayDirection.middle_center:case NineWayDirection.middle_right:css.marginTop=.5*($(window).height()-this.content.height());break;case NineWayDirection.bottom_left:case NineWayDirection.bottom_center:case NineWayDirection.bottom_right:css.marginTop=$(window).height()-this.content.height()}switch(direction){case NineWayDirection.top_left:case NineWayDirection.middle_left:case NineWayDirection.bottom_left:css.marginLeft=0;break;case NineWayDirection.top_center:case NineWayDirection.middle_center:case NineWayDirection.bottom_center:css.marginLeft=css.marginRight="auto";break;case NineWayDirection.top_right:case NineWayDirection.middle_right:case NineWayDirection.bottom_right:css.marginRight=0}return css.left=offset_x,css.top=offset_y,this.content.css(css)},NewReviewPopupContent}(FullscreenPopupContent)}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.PcBrowserWindow=function(superClass){function PcBrowserWindow(){return PcBrowserWindow.__super__.constructor.apply(this,arguments)}return extend(PcBrowserWindow,superClass),PcBrowserWindow.prototype.growl=function(message){return $.jGrowl(message,{"position":"bottom-right"})},PcBrowserWindow.prototype.resize_target=function(){var height;return height=$("body").height(),$(".js-dialog-iframe-height:visible").each(function(){var $dialog,new_height;if($dialog=$(this),(new_height=$dialog.offset().top+$dialog.outerHeight())>height)return height=new_height}),this.set_height(height)},PcBrowserWindow.prototype.redirect_to=function(url){return window.location.href=url},PcBrowserWindow}(this.BrowserWindow)}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.PcIframeWindow=function(superClass){function PcIframeWindow(){switch(PcIframeWindow.__super__.constructor.apply(this,arguments),this.has_message_handler=lib.data.get("has-message-handler"),this.use_queue=!window.postMessage,this.message_queue=[],lib.data.get("iframe-id")){case"crema-fullscreen-popup":this.post("onload");break;case"crema-review-popup":break;default:this.post("onload",{"height":$("body").height()}),this.interval=setInterval(function(_this){return function(){return _this.resize_target()}}(this),1e3),$(window).load(function(_this){return function(){return clearInterval(_this.interval),_this.interval=null,$("body.reviews.index, body.reviews.photos, body.products.reviews, body.my.reviews, body.users.reviews").bind("resize",function(){return _this.resize_target()}),_this.resize_target()}}(this))}this.bind_keydown()}return extend(PcIframeWindow,superClass),PcIframeWindow.prototype.post=function(action,args){var current_time;return this.use_queue?(current_time=(new Date).getTime(),!this.last_message_time||current_time-this.last_message_time>500?PcIframeWindow.__super__.post.call(this,action,args):(this.message_queue.push([action,args]),this.interval||(this.interval=setInterval(function(_this){return function(){var current_message;if(current_message=_this.message_queue.shift(),PcIframeWindow.__super__.post.call(_this,current_message[0],current_message[1]),0===_this.message_queue.length)return clearInterval(_this.interval),_this.interval=null}}(this),500))),this.last_message_time=current_time):PcIframeWindow.__super__.post.call(this,action,args)},PcIframeWindow.prototype.growl=function(message){return this.post("growl",{"message":message})},PcIframeWindow.prototype.resize_target=function(){var height;return height=$("body").height(),$(".js-dialog-iframe-height:visible").each(function(){var $dialog,new_height;if($dialog=$(this),(new_height=$dialog.offset().top+$dialog.outerHeight())>height)return height=new_height}),this.set_height(height)},PcIframeWindow.prototype.set_height=function(height){return this.post("set_height",{"height":height})},PcIframeWindow.prototype.bind_keydown=function(){if(lib.browser.is_ie&&!1!==lib.data.get("bind-keydown"))return $(document).on("keydown",function(_this){return function(e){return _this.post("keydown",{"keyCode":e.keyCode})}}(this))},PcIframeWindow}(this.IframeWindow)}.call(this),function(){var PcReviewImage,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcReviewImage=function(superClass){function PcReviewImage(){return PcReviewImage.__super__.constructor.apply(this,arguments)}return extend(PcReviewImage,superClass),PcReviewImage.prototype.on_remove_image=function(e){if(PcReviewImage.__super__.on_remove_image.apply(this,arguments),this.hide_images_when_empty()&&0===$(e.target).closest(".js-image-fields").data("images-count"))return $(".js-review-input-photos").hide()},PcReviewImage.prototype.set_preview_image=function(){var result;return result=PcReviewImage.__super__.set_preview_image.apply(this,arguments),this.hide_images_when_empty()&&$(".js-review-input-photos").show(),result},PcReviewImage.prototype.hide_images_when_empty=function(){return lib.browser.supports_file_reader()&&$("body").hasClass("products")},PcReviewImage}(this.ReviewImage),app.review_image=new PcReviewImage}.call(this),function(){var ReviewOptionType;ReviewOptionType=function(){function ReviewOptionType(){$(document).on("click",".js-link-review-option-type",function(_this){return function(e){var $dropdown_menu,$review_option_type,is_selected;if($review_option_type=$(e.target).closest(".review_options_search__option_type"),$dropdown_menu=$review_option_type.find(".review_options_search__dropdown_menu"),is_selected=$review_option_type.hasClass("selected"),_this.close_dropdown_menu(),!is_selected)return $review_option_type.addClass("selected"),$dropdown_menu.show(),lib.animation.fade_in($dropdown_menu,{"complete":function(){return $dropdown_menu.find("input").focus()}}),$(document).on("click",_this.on_click_screen)}}(this)),$(document).on("change",".checkbox-review-option-search",function(_this){return function(e){var key,value;return key=$(e.target).attr("name"),value=$("input[name='"+key+"']:checked").map(function(){return $(this).val()}).get().join(","),_this.filter(key,value)}}(this)),$(document).on("keydown",".js-input-review-option-search",function(_this){return function(e){if(13===e.keyCode)return _this.search($(e.target))}}(this)),$(document).on("click",".js-link-review-options-search",function(_this){return function(e){return _this.search($(e.target).parent().find("input"))}}(this))}return ReviewOptionType.prototype.search=function($input){var key,value;return key=$input.attr("name"),value=$input.val(),this.filter(key,value)},ReviewOptionType.prototype.filter=function(key,value){var url_builder;return url_builder=new UrlBuilder(lib.history.get_current_url()),url_builder.remove_param("page"),url_builder.add_param("atarget","reviews"),url_builder.add_param("aloading",".page"),value?url_builder.add_param(key,value):url_builder.remove_param(key),$.ajax({"url":url_builder.build(),"type":"get","dataType":"script"})},ReviewOptionType.prototype.close_dropdown_menu=function(){return $(document).off("click",this.on_click_screen),$(".review_options_search__option_type.selected").each(function(i,e){var $dropdown_menu,$review_option_type;return $review_option_type=$(e),$review_option_type.removeClass("selected"),$dropdown_menu=$review_option_type.find(".review_options_search__dropdown_menu"),lib.animation.fade_out($dropdown_menu,{"complete":function(){return $dropdown_menu.hide()}})})},ReviewOptionType.prototype.on_click_screen=function(e){if(0===$(e.target).closest(".review_options_search__option_types").length)return app.review_option_type.close_dropdown_menu()},ReviewOptionType}(),app.review_option_type=new ReviewOptionType}.call(this),function(){var Reviews,format_select_rating;Reviews=function(){function Reviews(){}var collapse;return collapse=function($review_content,complete){var $collapsed,$expanded;return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":0}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":1}),$review_content.height($expanded.outerHeight()),setTimeout(function(){return $review_content.addClass("review_content--expanding"),lib.animation.fade_out($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":0})}}),lib.animation.fade_in($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":1}),$expanded.hide(),lib.animation.css($review_content,{"from_css":{"height":$expanded.height()},"to_css":{"height":$collapsed.height()},"complete":function(){var $review_message;if($collapsed.css({"opacity":""}),$expanded.css({"opacity":"","display":""}),$review_content.removeClass("review_content--expanding review_content--expanded").css({"height":""}),$review_message=$review_content.find(".review_message"),$review_message.length&&app.review_message.resize($review_message),complete)return complete()}})}})},1)},Reviews.prototype.handle_link_expand=function(args,auto_collapse){return args.elements.find(".js-link-collapse").click(function(){return collapse($(this).closest(".review_content"))}),args.elements.find(".link-expand, .js-link-expand").click(function(){var $review,$review_content,$review_content_expanded;return $review=$(this).closest(".review"),$review_content=$review.find(".review_content"),$review_content.hasClass("review_content--expanded")?$review_content.data("toggle")?collapse($review_content):void 0:($review_content.on("review_content:loaded",function(e){var $collapsed,$expanded,org_height;if($review_content.data("ready"))return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":1}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":0}),org_height=$review_content.height(),$review_content.height(org_height),lib.browser.supports_opacity()||$expanded.hide(),setTimeout(function(){return $review_content.addClass("review_content--expanded review_content--expanding"),lib.animation.css($review_content,{"to_css":{"height":$expanded.outerHeight()},"complete":function(){return lib.animation.fade_out($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":0})}}),app.form.enable_validate(),lib.browser.supports_opacity()||$expanded.show(),setTimeout(function(){return lib.animation.fade_in($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":"","display":""}),$review_content.css({"height":""}).removeClass("review_content--expanding")}})},0)}})},1),$review_content.off(e)}),$review_content.data("ready",!1),$review_content_expanded=$(".review_content--expanded"),auto_collapse&&0!==$review_content_expanded.length?collapse($review_content_expanded,function(){return $review_content.data("ready",!0),$review_content.trigger("review_content:loaded")}):($review_content.data("ready",!0),$review_content.trigger("review_content:loaded")))})},Reviews.prototype.handle_show_full_reviews=function($link){return $link.on("ajax:beforeSend",function(){var $review_content,$review_content_expanded;return $review_content=$(this).closest(".review").find(".review_group_by_product__review_content"),$review_content.hasClass("review_group_by_product__review_content--expanded")?(lib.animation.height_down($review_content,function(){return $review_content.removeClass("review_group_by_product__review_content--expanded")}),!1):($review_content.bind("review_content:loaded",function(e){if($review_content.data("filled")&&$review_content.hasClass("review_group_by_product__review_content--expanded"))return lib.animation.height_up($review_content),$review_content.unbind(e)}),$review_content_expanded=$(".review_group_by_product__review_content--expanded"),$review_content_expanded.length>0?lib.animation.height_down($review_content_expanded,function(){return $review_content_expanded.removeClass("review_group_by_product__review_content--expanded"),$review_content.addClass("review_group_by_product__review_content--expanded").trigger("review_content:loaded")}):$review_content.addClass("review_group_by_product__review_content--expanded").trigger("review_content:loaded"),!$review_content.data("filled"))})},Reviews.prototype.review_popup_loader=function($image_area){var $anchor,$image,$image_container,$loader;if($image=$image_area.find(".js-review-image"),$image.length)return $image_container=$image_area.find(".js-thumbnail-container"),$anchor=$image_container.length>0?$image_container:$image,$loader=$("<div id='review-popup-loader'></div>").css({"top":$anchor.offset().top,"left":$anchor.offset().left,"width":1,"height":$anchor.height(),"backgroundColor":"#ccdede","position":"absolute"}),$("body").append($loader),$loader.animate({"width":$anchor.width()},280,lib.animation.ease_out),setTimeout(function(){return $loader.animate({"opacity":0},280,lib.animation.ease_out),setTimeout(function(){return $loader.remove()},280)},1200)},Reviews}(),app.reviews=new Reviews,window.ClientSideValidations.validators.local.review_message=function(element,options){var message;if(!(message=element.val())||message===element.closest("form").data("review-message-default"))return options.message},$(document).on("change",".js-input-file",function(){var $input,$preview_container;if($input=$(this)[0],$preview_container=$(this).siblings(".js-image-field-preview-container"),$preview_container.find(".js-image-field-preview"),lib.browser.supports_file_reader()){if($input.files&&$input.files[0])return $(this).siblings().find(".description").html($input.files[0].name)}else if(this.value)return $(this).siblings().find(".description").html(this.value.match(/[^\\]*\.(\w+)$/)[0])}),$(document).on("change","select#category",function(){var $select,category_id,url,url_builder;return $select=$(this),url=$select.data("url"),url_builder=new UrlBuilder(url),category_id=$select.val(),category_id&&url_builder.add_param("category_id",category_id),$.getScript(url_builder.build())}),$(document).on("change","select#sort",function(){var $select,sort,url,url_builder;if($select=$(this),url=$select.data("url"))return url_builder=new UrlBuilder(url),sort=$select.val(),sort&&url_builder.add_param("sort",sort),$.getScript(url_builder.build())}),$(document).on("change",".js-select-score",function(){var $select,score,url,url_builder;if($select=$(this),url=$select.data("url"))return url_builder=new UrlBuilder(url),score=$select.val(),score&&url_builder.add_param("scores","["+score+"]"),$.getScript(url_builder.build())}),format_select_rating=function(item){var j,k,ref,result,score;for(result="<div class='item'>",score=item.id?parseInt(item.id):0,j=0,ref=score;j<ref;j+=1)result+="<span class='star'></span>";for(k=score;k<5;k+=1)result+="<span class='star star--empty'></span>";return result+="<span class='text'>"+item.text+"</span>",result+="</div>"},$(document).on("history:updated",function(e,elements){return $(elements).find("select.select_rating").each(function(i,e){return app.form.select($(e),{"formatResult":format_select_rating,"formatSelection":format_select_rating,"escapeMarkup":function(m){return m}})})}),$(document).on("click",".delete-review, .edit-review, .js-review-dialog-close",function(){var $old_form;if($old_form=$(".js-review-dialog-form"),$old_form.length>0)return $(this).hasClass("delete-review")||$(this).hasClass("js-edit-nonmember")?$old_form.remove():($old_form.animate({"opacity":0},250,lib.animation.ease_in),setTimeout(function(){return $old_form.remove()},250))}),$(document).on("click",".js-edit-nonmember",function(){var $link,password;if($link=$(this),null!==(password=prompt($link.data("prompt")))&&""!==password)return $.ajax({"url":$link.data("path"),"type":$link.data("action"),"data":{"password":password}})}),$(document).on("ajax:before","form.js-form-review, form.js-new-reviews-form-review",function(e){var $form,$message,length,minimum_length,result;return result=!0,$form=$(this),$form.find(".js-review-option-field-value-required").not("div").each(function(){var $input;if($input=$(this),!$input.val())return alert($input.data("message")),e.stopImmediatePropagation(),result=!1,!1}),result&&$form.find(".js-review-option-field-value-number").each(function(){var $input;if($input=$(this),!$input.val().match(/^[0-9]*$/))return alert($input.data("message")),e.stopImmediatePropagation(),result=!1,!1}),result&&$form.data("alert-requirement")&&($message=$form.find("textarea#review_message"),length=$message.val().length,minimum_length=$message.data("minimum-message-length"),length<minimum_length&&(confirm($message.data("minimum-message-length-warning"))||(e.stopImmediatePropagation(),result=!1))),result&&$form.data("disable-save-requirement")&&($message=$form.find("textarea#review_message"),length=$message.val().length,minimum_length=$message.data("minimum-message-length"),length<minimum_length&&(alert($message.data("minimum-message-length-error")),e.stopImmediatePropagation(),result=!1)),result})}.call(this),function(){this.AppProductInfo=function(){function AppProductInfo(args){args.elements.find(".products_reviews_product_info__close").click(function(){return window.close()})}return AppProductInfo}()}.call(this),function(){$(document).on("click",".js-collapse-product-reviews",function(){return $(this).closest(".reviews_group_by_product__reviews_counter").removeClass("reviews_group_by_product__reviews_counter--expanded").addClass("reviews_group_by_product__reviews_counter--collapsed"),$(this).closest(".reviews_group_by_product__product").find(".review_group_by_product__review").each(function(i,element){if(i>2)return $(element).remove()})}),$(document).on("click",".js-expand-product-reviews",function(){return $(this).closest(".reviews_group_by_product__reviews_counter").removeClass("reviews_group_by_product__reviews_counter--collapsed").addClass("reviews_group_by_product__reviews_counter--expanded")})}.call(this),function(){var add_score;add_score=function($review,delta_score,delta_total){return app.like_result.add_score($review,delta_score,delta_total)},$(document).on("click",".js-link-like",function(){var $like_action,$review,delta_score,delta_total,final_score,like_action_class,liked,unliked;return $like_action=$(this).closest(".js-like-action"),like_action_class=$like_action.data("like-action-class"),liked=$like_action.hasClass(like_action_class+"--liked"),unliked=$like_action.hasClass(like_action_class+"--unliked"),liked?(final_score=0,delta_score=-1,delta_total=-1):(final_score=1,unliked?(delta_score=2,delta_total=0):(delta_score=1,delta_total=1)),$review=$like_action.closest(".review"),$review.find(".js-like-action").each(function(i,e){var $e;return $e=$(e),like_action_class=$e.data("like-action-class"),liked?$e.removeClass(like_action_class+"--liked"):($e.addClass(like_action_class+"--liked"),unliked?$e.removeClass(like_action_class+"--unliked"):void 0)}),add_score($review,delta_score,delta_total),$.ajax({"url":$like_action.data("url"),"type":"post","data":{"score":final_score}})}),$(document).on("click",".js-link-unlike",function(){var $like_action,$review,delta_score,delta_total,final_score,like_action_class,liked,unliked;return $like_action=$(this).closest(".js-like-action"),like_action_class=$like_action.data("like-action-class"),liked=$like_action.hasClass(like_action_class+"--liked"),unliked=$like_action.hasClass(like_action_class+"--unliked"),unliked?(final_score=0,delta_score=1,delta_total=-1):(final_score=-1,liked?(delta_score=-2,delta_total=0):(delta_score=-1,delta_total=1)),$review=$like_action.closest(".review"),$review.find(".js-like-action").each(function(i,e){var $e;return $e=$(e),like_action_class=$e.data("like-action-class"),unliked?$e.removeClass(like_action_class+"--unliked"):($e.addClass(like_action_class+"--unliked"),liked?$e.removeClass(like_action_class+"--liked"):void 0)}),add_score($review,delta_score,delta_total),$.ajax({"url":$like_action.data("url"),"type":"post","data":{"score":final_score}})})}.call(this),function(){this.ReviewMessage=function(){function ReviewMessage(){}return ReviewMessage.prototype.resize=function($e){var $see_more,$shadow;if($e.is(":visible")&&!$e.hasClass("review_message--shadow"))return $shadow=$e.siblings(".review_message--shadow"),$shadow.length||($shadow=$e.clone(),$shadow.addClass("review_message--shadow"),$e.after($shadow)),$see_more=$e.siblings(".see_more"),$see_more.hasClass("js-see-more-force-show")?void 0:$e.height()<$shadow.height()?$see_more.removeClass("see_more--hidden"):$see_more.addClass("see_more--hidden")},ReviewMessage}(),app.review_message=new this.ReviewMessage,$(document).ready(function(){return $(".review_message").each(function(){return app.review_message.resize($(this))})}),$(document).on("history:updated",function(e,element){return $(element).find(".review_message").each(function(){return app.review_message.resize($(this))})}),$(window).on("resize",function(){return $(".review_message").each(function(){return app.review_message.resize($(this))})})}.call(this),function(){var ReviewInformationDetail;ReviewInformationDetail=function(){function ReviewInformationDetail(){$(document).on("mouseover",".js-review-information-detail-button",function(_this){return function(){return _this.show()}}(this)),$(document).on("mouseout",".js-review-information-detail-button",function(_this){return function(){return _this.hide()}}(this)),$(document).on("mouseover",".js-review-info-message",function(_this){return function(){return _this.show()}}(this)),$(document).on("mouseout",".js-review-info-message",function(_this){return function(){return _this.hide()}}(this))}return ReviewInformationDetail.prototype.show=function(){return $(".js-review-info-message").show(),this.clear_hide_timer()},ReviewInformationDetail.prototype.hide=function(){return this.clear_hide_timer(),this.hide_timer=setTimeout(function(){return $(".js-review-info-message").fadeOut()},200)},ReviewInformationDetail.prototype.clear_hide_timer=function(){if(this.hide_timer)return clearTimeout(this.hide_timer),this.hide_timer=null},ReviewInformationDetail}(),new ReviewInformationDetail,$(document).on("click",".js-link-select-review",function(){return $(".popup_new__review_listitem_information--selected").removeClass("popup_new__review_listitem_information--selected"),$(this).find(".popup_new__review_listitem_information").addClass("popup_new__review_listitem_information--selected")}),$(document).on("click",".js-popup-new-link-block-popup",function(){return app.window.close_popup_forever()}),$(document).on("click",".js-popup-new-popup-not-view-today",function(){return app.window.close_popup_today()}),$(document).on("click",".js-popup-new-popup-close",function(){return app.window.close_popup_once("user","clicked_close_button")}),$(document).on("click",".js-popup-item-not-view",function(){var $link,url;if($link=$(this),confirm($link.data("confirm-message")))return url=$(this).data("url"),$.getScript(url)})}.call(this),function(){$(document).on("click",".js-review-notice-more-link",function(){var $link;return $link=$(this),$link.data("expanded")?($(".review_notice__container_item--hidden").slideUp("fast"),$(".js-review-more-notice-count").show(),$(".js-review-more-notice-close").hide(),$link.data("expanded",!1)):($(".review_notice__container_item--hidden").slideDown("fast"),$(".js-review-more-notice-count").hide(),$(".js-review-more-notice-close").show(),$link.data("expanded",!0))}),$(document).on("click",".js-link-expand-review-notice",function(){var $brand_notice,$content;return $brand_notice=$(this).closest(".review_notice__container_item"),$content=$brand_notice.find(".js-brand-notice-content"),$brand_notice.hasClass("selected")?($brand_notice.removeClass("selected"),lib.animation.height_down($content,function(){return $content.hide()})):($brand_notice.addClass("selected"),$content.show(),lib.animation.height_up($content))})}.call(this),function(){var MakeshopShopBuilder;MakeshopShopBuilder=function(){function MakeshopShopBuilder(){}return MakeshopShopBuilder.prototype.get_login_url=function(){var code,login_url,parent_url;return login_url=new UrlBuilder(lib.data.get("mall-login-url")),"login"===login_url.param("type")&&(parent_url=new UrlBuilder(lib.data.get("parent-url")),"/board/board.html"===parent_url.get_path()&&(code=parent_url.param("code"))&&(login_url.add_param("type","board"),login_url.add_param("code",code))),login_url.build()},MakeshopShopBuilder}(),app.MakeshopShopBuilder=MakeshopShopBuilder}.call(this),function(){var ShopBuilder;ShopBuilder=function(){function ShopBuilder(){}return ShopBuilder.prototype.get_login_url=function(){return lib.data.get("mall-login-url")},ShopBuilder}(),app.ShopBuilder=ShopBuilder}.call(this),function(){var FitProductsComparisonDetailState;FitProductsComparisonDetailState=function(){function FitProductsComparisonDetailState(){}return FitProductsComparisonDetailState.prototype.on_enter=function(old_state_name,args){var loading_class;return this.concern().on_enter(old_state_name,args),loading_class="fit_product_comparison_detail__box--loading",args.elements.find(".js-input-weight-height").on("change",function(_this){return function(e){var $input,$stats,new_val,old_val;if($input=$(e.currentTarget),new_val=$input.val(),old_val=$input.data("val"),new_val!==old_val)return $input.data("val",new_val),
$stats=$(".fit_product_comparison_detail__box--stats"),$stats.hasClass(loading_class)?void 0:($stats.addClass(loading_class),setTimeout(function(){var $form;return $form=$("#form-update-width-height"),_this.concern().validate_weight_height($form)?($form.one("ajax:complete",function(){return $stats.removeClass(loading_class)}),$form.submit()):void $stats.removeClass(loading_class)},1e3))}}(this)),args.elements.find(".js-link-select-dst-product").click(function(){return app.window.open_fullscreen_popup($(this).data("url"),function(data){var product_code,target_id,tokens,url_builder;if("select_dst_product"===data.act)return url_builder=new UrlBuilder(window.location.href),url_builder.add_param("sub_order_id",data.sub_order_id),$.getScript(url_builder.build()),tokens=window.location.pathname.split("/"),product_code=tokens[tokens.length-2],target_id="crema-fit-product-comparison-summary-"+product_code,app.window.reload(target_id,{"sub_order_id":data.sub_order_id})})})},FitProductsComparisonDetailState.prototype.concern=function(){return this._concern||(this._concern=new app.FitProductsComparisonStateConcern)},FitProductsComparisonDetailState}(),app.fit_products_comparison_detail_state=new FitProductsComparisonDetailState}.call(this),function(){var FitProductsComparisonStateConcern;FitProductsComparisonStateConcern=function(){function FitProductsComparisonStateConcern(){}return FitProductsComparisonStateConcern.prototype.on_enter=function(old_state_name,args){return args.elements.find(".js-select-size-option-id").change(function(){var $select,size_option_id,url,url_builder;return $select=$(this),url=$select.data("url"),size_option_id=$select.val(),url_builder=new UrlBuilder(url),url_builder.add_param("size_option_id",size_option_id),$.getScript(url_builder.build())})},FitProductsComparisonStateConcern.prototype.validate_weight_height=function($form){var height,weight;return weight=$form.find("input[name='weight']").val(),height=$form.find("input[name='height']").val(),!(!this.is_valid(weight,10,500)||!this.is_valid(height,20,250))||(alert($form.data("invalid-weight-height")),!1)},FitProductsComparisonStateConcern.prototype.is_valid=function(val,min,max){return!val||(val=parseInt(val))&&min<=val&&val<=max},FitProductsComparisonStateConcern}(),app.FitProductsComparisonStateConcern=FitProductsComparisonStateConcern}.call(this),function(){var FitProductsComparisonSummaryState;FitProductsComparisonSummaryState=function(){function FitProductsComparisonSummaryState(){}return FitProductsComparisonSummaryState.prototype.on_enter=function(old_state_name,args){return this.concern().on_enter(old_state_name,args),args.elements.find("#js-link-scroll-to-detail").click(function(_this){return function(e){var $form,$link;if($link=$(e.currentTarget),$form=$("#form-update-width-height"),$form.length){if(!_this.is_weight_height_filled())return void alert($link.data("weight-height-required"));if(!_this.concern().validate_weight_height($form))return;return $form.submit()}return _this.scroll_to_detail()}}(this))},FitProductsComparisonSummaryState.prototype.is_weight_height_filled=function(){var filled;return filled=!0,$(".js-input-weight-height").each(function(i,e){if(!$(e).val())return filled=!1}),filled},FitProductsComparisonSummaryState.prototype.concern=function(){return this._concern||(this._concern=new app.FitProductsComparisonStateConcern)},FitProductsComparisonSummaryState.prototype.scroll_to_detail=function(){var $size_option_id,params,product_code,target_id,tokens;return tokens=window.location.pathname.split("/"),product_code=tokens[tokens.length-2],target_id="crema-fit-product-comparison-detail-"+product_code,params={},$size_option_id=$("#summary-size-option-id"),$size_option_id.length&&(params.size_option_id=$size_option_id.val()),app.window.reload(target_id,params),app.window.scroll_to(0,{"target_id":target_id})},FitProductsComparisonSummaryState}(),app.fit_products_comparison_summary_state=new FitProductsComparisonSummaryState}.call(this),function(){var FitProductsSelectDstProductState;FitProductsSelectDstProductState=function(){function FitProductsSelectDstProductState(){}return FitProductsSelectDstProductState.prototype.on_enter=function(old_state_name,args){return args.elements.find(".js-link-complete").click(function(){var fullscreen_modal,sub_order_id;return sub_order_id=$("input[name='sub_order_id']:checked").val(),app.window.post("select_dst_product",{"sub_order_id":sub_order_id}),fullscreen_modal=$(".fullscreen_modal").data("fullscreen-modal"),fullscreen_modal.close()})},FitProductsSelectDstProductState}(),app.fit_products_select_dst_product_state=new FitProductsSelectDstProductState}.call(this),function(){var FitProductsSizeDetailState;FitProductsSizeDetailState=function(){function FitProductsSizeDetailState(){}return FitProductsSizeDetailState.prototype.on_enter=function(old_state_name,args){var loading_class;return this.concern().on_enter(old_state_name,args),args.elements.find(".js-select-fit-score").change(function(){var $select,fit_score,url,url_builder;return $select=$(this),url=$select.data("url"),fit_score=$select.val(),url_builder=new UrlBuilder(url),url_builder.add_param("fit_score",fit_score),$.getScript(url_builder.build())}),loading_class="fit_product_size_detail__stats--loading",args.elements.find(".js-input-weight-height").on("change",function(_this){return function(e){var $input,$stats,new_val,old_val;if($input=$(e.currentTarget),new_val=$input.val(),old_val=$input.data("val"),new_val!==old_val)return $input.data("val",new_val),$stats=$(".fit_product_size_detail__stats"),$stats.hasClass(loading_class)?void 0:($stats.addClass(loading_class),setTimeout(function(){var $form;return $form=$("#form-update-weight-height"),_this.concern().validate_weight_height($form)?($form.one("ajax:complete",function(){return $stats.removeClass(loading_class)}),$form.submit()):void $stats.removeClass(loading_class)},1e3))}}(this)),this.check_scroll(),args.elements.find(".js-fit-messages-scroll").on("scroll",function(_this){return function(){return _this.check_scroll()}}(this))},FitProductsSizeDetailState.prototype.concern=function(){return this._concern||(this._concern=new app.FitProductsComparisonStateConcern)},FitProductsSizeDetailState.prototype.check_scroll=function(){var $fit_messages,$last_fit_message,$more_fit_messages,fit_messages_position,last_fit_message_bottom_position,loading_class,url;if($fit_messages=$(".fit_product_size_detail__fit_messages_scrollable"),fit_messages_position=$fit_messages.position().top+$fit_messages.height(),$last_fit_message=$(".fit_product_size_detail__fit_message").last(),$last_fit_message.length)return last_fit_message_bottom_position=$last_fit_message.position().top+$last_fit_message.height(),$more_fit_messages=$(".js-more-fit-messages"),last_fit_message_bottom_position<=fit_messages_position&&(url=$more_fit_messages.attr("href"),loading_class="fit_product_size_detail__more_fit_messages--loading",url&&!$more_fit_messages.hasClass(loading_class))?($more_fit_messages.addClass(loading_class),$.getScript(url)):void 0},FitProductsSizeDetailState}(),app.fit_products_size_detail_state=new FitProductsSizeDetailState}.call(this),function(){var FitProductsSizeSummaryState;FitProductsSizeSummaryState=function(){function FitProductsSizeSummaryState(){}return FitProductsSizeSummaryState.prototype.on_enter=function(old_state_name,args){return args.elements.find(".js-link-size-detail").click(function(){return app.window.open_fullscreen_popup($(this).data("url"))})},FitProductsSizeSummaryState}(),app.fit_products_size_summary_state=new FitProductsSizeSummaryState}.call(this),function(){var MyPhotoReviewsState;MyPhotoReviewsState=function(){function MyPhotoReviewsState(){}return MyPhotoReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},MyPhotoReviewsState}(),app.my_photo_reviews_state=new MyPhotoReviewsState}.call(this),function(){var MyReviewsState;MyReviewsState=function(){function MyReviewsState(){}return MyReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},MyReviewsState}(),app.my_reviews_state=new MyReviewsState}.call(this),function(){var ProductsIndexState;ProductsIndexState=function(){function ProductsIndexState(){}return ProductsIndexState.prototype.on_enter=function(old_state_name,args){var $head,$search_button;if($head=args.elements.find(".products_index_gallery__head"),$head.length&&this.bind_head($head),$search_button=args.elements.find(".products_index__search_button"))return this.bind_search_button($search_button)},ProductsIndexState.prototype.bind_head=function($head){return app.search.init($head)},ProductsIndexState.prototype.bind_search_button=function($search_button){return $search_button.click(function(){var $advanced_search;if($advanced_search=$(".products_index__advanced_search"),!lib.animation.is_animating($advanced_search))return $advanced_search.hasClass("hidden")?($advanced_search.removeClass("hidden"),lib.animation.height_up($advanced_search)):lib.animation.height_down($advanced_search,function(){return $advanced_search.addClass("hidden")})})},ProductsIndexState}(),app.products_index_state=new ProductsIndexState}.call(this),function(){var ProductsReviewsState;ProductsReviewsState=function(){function ProductsReviewsState(){this.appended_callback=function(e,element){return app.reviews.handle_link_expand({"elements":$(element)},!1)}}return ProductsReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!1),this.set_position_options(),this.set_app_product_info(args),this.bind_nonmember_review_hint(),$(document).on("infinite_scroll:appended",this.appended_callback)},ProductsReviewsState.prototype.on_exit=function(){return $(document).off("infinite_scroll:appended",this.appended_callback)},ProductsReviewsState.prototype.set_app_product_info=function(args){if(app.widget.is_new_tab())return this.app_product_info=new AppProductInfo(args)},ProductsReviewsState.prototype.set_position_options=function(){var $review_option_search;if($review_option_search=$(".js-review-options-search"),$review_option_search.hasClass("hidden"))return $review_option_search.removeClass("hidden"),$(".js-review-options-search").addClass("hidden")},ProductsReviewsState.prototype.refresh_filter=function(){var $link_photo_reviews,scores,url_builder;return url_builder=new UrlBuilder(lib.history.get_current_url()),url_builder.remove_param("page"),url_builder.add_param("aloading",".page"),url_builder.add_param("atarget","reviews"),scores=[],$(".score_summary__score_filter.selected").each(function(i,element){return scores.push($(element).data("score"))}),scores.length>0?url_builder.add_param("scores",JSON.stringify(scores)):url_builder.remove_param("scores"),$link_photo_reviews=$(".js-link-photo-reviews"),$link_photo_reviews.hasClass("selected")?url_builder.add_param("filter",20):url_builder.remove_param("filter"),$.getScript(url_builder.build())},ProductsReviewsState.prototype.on_focus=function($form){var $nonmember_review,$nonmember_review_tmpl,$review_options_fields,$review_policy,$review_policy_detail,$review_policy_tmpl,$textarea,$view_detail;if($textarea=$form.find("textarea.js-new-review-form"),!$textarea.data("triggered"))return $textarea.data("triggered",!0),$review_options_fields=$form.find(".review_form__option_fields"),$review_options_fields.length>0&&($review_options_fields.css({"marginTop":-($review_options_fields.height()+50),"opacity":0,"display":"block"}),Modernizr.cssanimations?setTimeout(function(){return $review_options_fields.addClass("anim"),$review_options_fields.css({"marginTop":0}),setTimeout(function(){return $review_options_fields.css({"opacity":1})},200)},0):setTimeout(function(){return $review_options_fields.animate({"marginTop":0},200,lib.animation.ease_out),setTimeout(function(){return $review_options_fields.animate({"opacity":1},200,lib.animation.ease_out)},200)},0)),$nonmember_review_tmpl=$("#nonmember-review-tmpl"),$nonmember_review_tmpl.length>0&&($nonmember_review=$($nonmember_review_tmpl.html()),$nonmember_review.find("#review_user_name").attr("autocomplete","off"),$nonmember_review.find("#review_password").attr("autocomplete","off"),$form.prepend($nonmember_review),Modernizr.cssanimations?setTimeout(function(){return $nonmember_review.css({"top":0}),$form.find(".review_form__message_field").css({"padding-top":77}),setTimeout(function(){return $nonmember_review.find(".review_form__nonmember_review_content").css({"opacity":1})},300)},0):setTimeout(function(){return $nonmember_review.animate({"top":0},300,lib.animation.ease_out),$form.find(".review_form__message_field").animate({"padding-top":77},300,lib.animation.ease_out),setTimeout(function(){return $nonmember_review.find(".review_form__nonmember_review_content").animate({"opacity":1},200)},300)},0),lib.animation.animate($form.addClass("show-nonmember-review")),$form.find("#review_user_name").focus(),$form.bind("ajax:before",function(){var $input;return $input=$form.find("#review_user_name"),$input.val()?($input=$form.find("#review_password"),$input.val()?void 0:(alert($input.data("presence-warning")),!1)):(alert($input.data("presence-warning")),!1)})),$review_policy_tmpl=$("#review-policy-tmpl"),$review_policy_tmpl.length>0?($review_policy=$($review_policy_tmpl.html()),$form.prepend($review_policy),Modernizr.cssanimations?setTimeout(function(){return $review_policy.css({"top":0}),$form.find(".review_form__message_field").css({"padding-top":73}),setTimeout(function(){return $review_policy.find(".review_form__policy_content").css({"opacity":1})},300)},0):setTimeout(function(){return $review_policy.animate({"top":0},300,lib.animation.ease_out),$form.find(".review_form__message_field").animate({"padding-top":73},300,lib.animation.ease_out),setTimeout(function(){return $review_policy.find(".review_form__policy_content").animate({"opacity":1},200)},300)},0),$view_detail=$(".js-view-detail"),$("#review-policy-detail").remove(),$review_policy_detail=null,$view_detail.on("mouseenter",function(){var popup_bottom;return $review_policy_detail||($review_policy_detail=$("<div id='review-policy-detail'></div>").html($("#review-policy-detail-tmpl").html()).appendTo("body"),(popup_bottom=$review_policy_detail.height()+100)>$(window).height()&&app.window.set_height(popup_bottom)),Modernizr.cssanimations?$review_policy_detail.addClass("hover"):$review_policy_detail.show().animate({"top":45},0,lib.animation.ease_out).animate({"opacity":1},0)}),$view_detail.on("mouseleave",function(){return Modernizr.cssanimations?$review_policy_detail.removeClass("hover"):($review_policy_detail.animate({"top":30},0,lib.animation.ease_out).animate({"opacity":0},0),setTimeout(function(){return $review_policy_detail.hide()},100))})):void 0},ProductsReviewsState.prototype.bind_form=function($form){var $dialog,$textarea,not_creatable_reason;if(app.review_image.set_form($form),$textarea=$form.find("textarea.js-new-review-form"),$textarea.off("focus"),not_creatable_reason=$form.data("not-creatable-reason"),not_creatable_reason?$textarea.on("focus",function(){var $this;if(!$textarea.data("login-required")||lib.data.get("username"))return $this=$(this),$this.blur(),alert(not_creatable_reason),!1}):$form.data("already-posted")?lib.data.get("allow-multiple-reviews-per-product")?(!1,$textarea.one("focus",function(_this){return function(e){var result;return confirm($form.data("already-posted"))?(_this.on_focus($form),result=!0):($(e.target).blur(),result=!1),result}}(this))):$textarea.on("focus",function(){var $this;return $this=$(this),$this.blur(),alert(lib.i18n.t("review_already_posted")),!1}):$textarea.on("focus",function(_this){return function(){if(!$textarea.data("login-required")||lib.data.get("username"))return _this.on_focus($form)}}(this)),$dialog=$form.closest(".js-review-dialog-form"),$dialog.length>0)return $form.bind("ajax:success",function(){return $dialog.remove()})},ProductsReviewsState.prototype.bind_nonmember_review_hint=function(){var set_hint_visibility;if(!lib.browser.supports_media_query())return set_hint_visibility=function(){var $hint;return $hint=$(".review_form__nonmember_review_hint"),$(window).width()>940?$hint.show():$hint.hide()},$(window).resize(function(){return set_hint_visibility()}),set_hint_visibility()},ProductsReviewsState}(),app.products_reviews_state=new ProductsReviewsState,$(document).on("history:updated",function(e,element){var $element,$form;return $element=$(element),$form=$element.find(".review_form").addBack(".review_form"),$form.length&&app.products_reviews_state.bind_form($form),$element.find(".js-link-score").click(function(e){var $link;return $link=$(e.currentTarget),$link.closest("li").toggleClass("selected"),app.products_reviews_state.refresh_filter()}),$element.find(".js-link-photo-reviews").click(function(e){return $(e.currentTarget).toggleClass("selected"),app.products_reviews_state.refresh_filter()}),$element.find(".js-review-options-search-toggle").click(function(){var $option_search_bar,$this;return $this=$(this),$this.hasClass("searching")?$this.removeClass("searching"):$this.addClass("searching"),$option_search_bar=$(".js-review-options-search"),$option_search_bar.hasClass("hidden")?($option_search_bar.removeClass("hidden"),lib.animation.height_up($option_search_bar)):lib.animation.height_down($option_search_bar,function(){return $option_search_bar.addClass("hidden")})})})}.call(this),function(){var ReviewsIndexState;ReviewsIndexState=function(){function ReviewsIndexState(){this.appended_callback=function(e,element){return app.reviews.handle_link_expand({"elements":$(element)},!0)}}return ReviewsIndexState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0),app.reviews.handle_show_full_reviews(args.elements.find(".js-link-show-full-review")),$(document).on("infinite_scroll:appended",this.appended_callback)},ReviewsIndexState.prototype.on_exit=function(){return $(document).off("infinite_scroll:appended",this.appended_callback)},ReviewsIndexState}(),app.reviews_index_state=new ReviewsIndexState}.call(this),function(){var ReviewsNewState;ReviewsNewState=function(){function ReviewsNewState(){}return ReviewsNewState.prototype.on_enter=function(old_state_name,args){var $form,$fullscreen_popup,$no_pending_reviews,$review_option_fields,alert_message,already_posted,fullscreen_popup_content;return $("#require-login").length>0?void app.login.required():($no_pending_reviews=$(".js-no-pending-reviews"),$no_pending_reviews.length?(alert_message=$no_pending_reviews.data("alert"),alert_message&&alert(alert_message),void app.window.close_popup_once("system","no_pending_reviews")):(this._is_fullscreen_popup()?($fullscreen_popup=$(".fullscreen_popup"),fullscreen_popup_content=new NewReviewPopupContent($fullscreen_popup),fullscreen_popup_content.recalc_layout(),app.window.post("onload")):$(document).ready(function(){var $review_container,popup_args,popup_height;return $review_container=$("#review-container"),popup_args={"direction":lib.data.get("review-popup-direction"),"offset_x":lib.data.get("review-popup-offset-x"),"offset_y":lib.data.get("review-popup-offset-y")},popup_height=lib.data.get("popup-height"),popup_height?(popup_args.width=$review_container.innerWidth(),lib.browser.is_ie&&(popup_args.width+=20),popup_args.height=popup_height):(popup_args.width=$review_container.innerWidth(),popup_args.height=$review_container.innerHeight()),app.window.post("init_popup",popup_args)}),this.bind_scroll(args.elements.find("#lista")),$form=args.elements.find("form#new_review"),app.review_image.set_form($form),$review_option_fields=$form.find(".new_reviews__option_fields"),$review_option_fields.length>0&&$form.find("textarea").one("focus",function(){return $review_option_fields.css({"marginTop":-($review_option_fields.height()+15),"opacity":0,"display":"block"}),Modernizr.cssanimations?setTimeout(function(){return $review_option_fields.addClass("anim"),$review_option_fields.css({"marginTop":0}),setTimeout(function(){return $review_option_fields.css({"opacity":1})},200)},0):setTimeout(function(){return $review_option_fields.animate({"marginTop":0},200,lib.animation.ease_out),setTimeout(function(){return $review_option_fields.animate({"opacity":1},200,lib.animation.ease_out)},200)},0),lib.animation.animate($form.addClass("show-nonmember-review"))}),void((already_posted=$("form").data("already-posted"))&&(confirm(already_posted)||app.window.close_popup_once("user","already_posted")))))},ReviewsNewState.prototype._is_fullscreen_popup=function(){return lib.data.get("review-popup-fullscreen")},ReviewsNewState.prototype.bind_scroll=function($list){return $list.als({"visible_items":$list.data("visible-items")||3,"scrolling_items":$list.data("scrolling-items")||3,"orientation":"vertical","circular":"no","autoscroll":"no"})},ReviewsNewState}(),app.reviews_new_state=new ReviewsNewState}.call(this),function(){var ReviewsPhotosState;ReviewsPhotosState=function(){function ReviewsPhotosState(){}return ReviewsPhotosState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0),app.reviews.handle_show_full_reviews(args.elements.find(".js-link-show-full-review"))},ReviewsPhotosState}(),app.reviews_photos_state=new ReviewsPhotosState}.call(this),function(){var ReviewsShow,ReviewsShowPhotoReview,ReviewsShowSocialMediaReview,ReviewsShowState,ReviewsShowTextReview,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};ReviewsShow=function(){function ReviewsShow(args){this.load_variables(args),this.bind_events(args)}return ReviewsShow.prototype.load_variables=function(args){return this.$fullscreen_popup=args.elements.find(".fullscreen_popup"),this.load_variables_local(args)},ReviewsShow.prototype.load_variables_local=function(){},ReviewsShow.prototype.bind_events=function(args){return this.fullscreen_popup_content=new FullscreenPopupContent(this.$fullscreen_popup),this.bind_events_local(args)},ReviewsShow.prototype.bind_events_local=function(){},ReviewsShow.prototype.on_keydown=function(keyCode){if(27===keyCode)return this.fullscreen_popup_content.close()},ReviewsShow.prototype.bind_keydown=function(args){return lib.browser.is_ie&&lib.browser.is_in_iframe()?$(document).on("iframe:keydown",function(_this){return function(e,keyCode){return _this.on_keydown(keyCode)}}(this)):args.elements.keydown(function(_this){return function(e){return _this.on_keydown(e.keyCode)}}(this)),args.elements.find(".fullscreen_popup").attr("tabindex",-1).focus()},ReviewsShow}(),ReviewsShowTextReview=function(superClass){function ReviewsShowTextReview(){return ReviewsShowTextReview.__super__.constructor.apply(this,arguments)}return extend(ReviewsShowTextReview,superClass),ReviewsShowTextReview}(ReviewsShow),ReviewsShowPhotoReview=function(superClass){function ReviewsShowPhotoReview(args){this.set_indicator=bind(this.set_indicator,this),this.image_replace=bind(this.image_replace,this),this.resize_zoom_image=bind(this.resize_zoom_image,this),this.image_zoom=bind(this.image_zoom,this),ReviewsShowPhotoReview.__super__.constructor.apply(this,arguments),this.container_resize(),this.set_fade_elements(args)}return extend(ReviewsShowPhotoReview,superClass),ReviewsShowPhotoReview.prototype.load_variables_local=function(args){return this.$frame=$(window),this.default_margin=70,this.min_height=500,this.min_width=140,this.min_container_width=this.min_width+160,this.review_text_width=args.elements.find("#review-contents-container").width(),this.indicator_elements=args.elements.find(".js-indicator-dot"),this.zoom_padding=this.default_margin-20,this.comment_input=args.elements.find(".js-input-block"),this.onfocus_comment=!1,this.zoom_image=!1},ReviewsShowPhotoReview.prototype.set_fade_elements=function(args){return lib.browser.is_ie?(this.$fade_elements=args.elements.find(".js-ie-opacity-fix"),this.$fade_elements.animate({"opacity":1},260,lib.animation.ease_out)):this.$fade_elements=args.elements.find("#photo-popup-container, .fullscreen_popup__close, .crema_review_watermark")},ReviewsShowPhotoReview.prototype.bind_events_local=function(args){return args.elements.find("#image-prev").click(function(_this){return function(){return _this.image_replace("prev")}}(this)),args.elements.find("#image-next").click(function(_this){return function(){return _this.image_replace("next")}}(this)),args.elements.find(".js-photo-container-review-image-zoom").click(function(_this){return function(e){return _this.image_zoom($(e.target))}}(this)),window.onresize=function(_this){return function(){if($("#zoom-image").length)return _this.resize_zoom_image()}}(this),this.comment_input.focusin(function(_this){return function(){return _this.onfocus_comment=!0}}(this)),this.comment_input.focusout(function(_this){return function(){return _this.onfocus_comment=!1}}(this)),this.bind_keydown(args)},ReviewsShowPhotoReview.prototype.on_keydown=function(keyCode){if(!1===this.onfocus_comment&&!1===this.zoom_image)return 37===keyCode||38===keyCode?this.image_replace("prev"):39===keyCode||40===keyCode?this.image_replace("next"):ReviewsShowPhotoReview.__super__.on_keydown.apply(this,arguments)},ReviewsShowPhotoReview.prototype.container_resize=function(){var $image,$img,final_height,final_outer_height,final_outer_width,final_padding_h,final_padding_v,final_width,frame_height,frame_width,image_height,image_ratio,image_width,max_height,max_width;if(frame_height=this.$frame.height(),frame_width=this.$frame.width(),$image=$(".show_photo_review__photo_container.selected"),image_width=$image.data("width"),image_height=$image.data("height"),image_ratio=image_height/image_width,$img=$image.find("img"),$img.css({"maxWidth":image_width}),max_width=frame_width-this.review_text_width-2*this.default_margin,max_height=frame_height-2*this.default_margin,max_width>image_width?max_height>image_height?(final_width=image_width,final_height=image_height):(final_width=max_height/image_ratio,final_height=max_height):max_height>image_height?(final_width=max_width,final_height=max_width*image_ratio):(final_width=max_height/image_ratio,final_height=max_height),final_width<this.min_width&&(final_width=this.min_width),final_padding_h=final_height<this.min_height?.5*(this.min_height-final_height):0,final_padding_v=final_width<this.min_container_width?.5*(this.min_container_width-final_width):0,final_outer_width=final_width+2*final_padding_v,final_outer_height=final_height+2*final_padding_h,$image.css({"paddingTop":final_padding_h,"paddingBottom":final_padding_h,"paddingLeft":final_padding_v,"paddingRight":final_padding_v}),$("#photo-popup-content").css({"width":final_outer_width,"marginTop":.5*(frame_height-final_outer_height)}),$("#message-container").height(final_outer_height-$("#info-container").height()-1),this.fullscreen_popup_content)return this.fullscreen_popup_content.on_resize()},ReviewsShowPhotoReview.prototype.image_zoom=function($image){var $full_image_message,$photo_review_popup;return this.orignal_width=$image.data("width"),this.orignal_height=$image.data("height"),this.orignal_width>$image.width()?($("#zoom-image").remove(),$photo_review_popup=$("<div id='zoom-image' class='show_photo_review__zoom_image'><div id='zoom-image-container' class='show_photo_review__zoom_image_container'></div></div>").appendTo(this.$fullscreen_popup),$("#zoom-image-container").append($image.clone()),this.zoom_image=!0,this.resize_zoom_image(),this.$fade_elements.animate({"opacity":0},250,lib.animation.ease_out),$photo_review_popup.animate({"opacity":0},1).animate({"opacity":1},250,lib.animation.ease_in),$photo_review_popup.click(function(_this){return function(){return _this.container_resize(),_this.$fade_elements.animate({"opacity":1},350,lib.animation.ease_out),$photo_review_popup.animate({"opacity":0},350,lib.animation.ease_in),setTimeout(function(){return _this.zoom_image=!1,$photo_review_popup.remove()},350)}}(this))):($("#full-image-message").remove(),$full_image_message=$("<div id='full-image-message' class='show_photo_review__full_image_message'>"+lib.i18n.t("review_already_largest_image")+"</div>").appendTo($image.parent()).animate({"opacity":.8},350,lib.animation.ease_out),setTimeout(function(){return $full_image_message.animate({"opacity":0},900,lib.animation.ease_in),setTimeout(function(){return $full_image_message.remove()},900)},450))},ReviewsShowPhotoReview.prototype.resize_zoom_image=function(){var $zoom_container,final_height,final_width,frame_height,frame_width,max_width,padding;return $zoom_container=$("#zoom-image-container"),padding=this.zoom_padding,frame_width=this.$frame.width(),frame_height=this.$frame.height(),max_width=frame_width-2*this.zoom_padding,this.orignal_width>max_width?(final_width=max_width,final_height=this.orignal_height*max_width/this.orignal_width):(final_width=this.orignal_width,final_height=this.orignal_height),frame_height>final_height&&(padding=.5*(frame_height-final_height)),$zoom_container.css({"padding":this.zoom_padding,"paddingTop":padding,"paddingBottom":padding,"width":final_width,"height":final_height})},ReviewsShowPhotoReview.prototype.image_replace=function(direction){var $old_image,count,new_index,old_index;return $old_image=$(".show_photo_review__photo_container.selected"),old_index=$old_image.data("index"),count=$old_image.data("count"),"prev"===direction?new_index=1===old_index?count:old_index-1:"next"===direction&&(new_index=old_index%count+1),$old_image.removeClass("selected"),$("#photo-container-"+new_index).addClass("selected"),this.set_indicator(old_index,new_index),this.container_resize()},ReviewsShowPhotoReview.prototype.set_indicator=function(old_index,new_index){return this.indicator_elements.siblings(".js-index-"+old_index).removeClass("selected"),this.indicator_elements.siblings(".js-index-"+new_index).addClass("selected")},ReviewsShowPhotoReview}(ReviewsShow),ReviewsShowSocialMediaReview=function(superClass){function ReviewsShowSocialMediaReview(){return ReviewsShowSocialMediaReview.__super__.constructor.apply(this,arguments)}return extend(ReviewsShowSocialMediaReview,superClass),ReviewsShowSocialMediaReview.prototype.bind_events_local=function(args){return this.bind_keydown(args)},ReviewsShowSocialMediaReview.prototype.on_keydown=function(keyCode){return 37===keyCode||38===keyCode?this.open_prev_next(!1):39===keyCode||40===keyCode?this.open_prev_next(!0):ReviewsShowSocialMediaReview.__super__.on_keydown.apply(this,arguments)},ReviewsShowSocialMediaReview.prototype.open_prev_next=function(is_next){var id;return id="post-"+(is_next?"next":"prev"),$("#"+id).find("a").click()},ReviewsShowSocialMediaReview}(ReviewsShow),ReviewsShowState=function(){function ReviewsShowState(){}return ReviewsShowState.prototype.on_enter=function(old_state_name,args){return args.elements.find(".show_text_review").length?new ReviewsShowTextReview(args):args.elements.find(".show_social_media_review").length?new ReviewsShowSocialMediaReview(args):new ReviewsShowPhotoReview(args)},ReviewsShowState}(),app.reviews_show_state=app.reviews_photo_review_popup_state=new ReviewsShowState}.call(this),function(){var UsersReviewsState;UsersReviewsState=function(){function UsersReviewsState(){}return UsersReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},UsersReviewsState}(),app.users_reviews_state=new UsersReviewsState}.call(this),function(){$(document).on("mouseenter",".hoverable",function(){return $(this).addClass("hover")}),$(document).on("mouseleave",".hoverable",function(){return $(this).removeClass("hover")})}.call(this),function(){var TokenizedInput;TokenizedInput=function(){function TokenizedInput(){$(document).on("history:updated",function(_this){return function(e,element){return $(element).find(".tokenized_input").each(function(i,e){return _this.init($(e))})}}(this))}return TokenizedInput.prototype.init=function($input){var $clear_button,$select2;return $select2=$input.select2({"tags":[],"tokenSeparators":[","," "],"formatNoMatches":function(){return""},"adaptDropdownCssClass":function(c){return c},"maximumInputLength":30}),$clear_button=$("<a class='tokenized_input__clear_button'><i class='sprites-tokenized-input-clear'></i></a>"),$select2.data("select2").container.append($clear_button),$clear_button.click(function(){return $select2.select2("val",""),$select2.trigger("change")})},TokenizedInput}(),$(function(){return new TokenizedInput})}.call(this),function(){$(function(){
return $(document).on("focus",".js-top-menu-query",function(){return $(this).closest(".top_menu").addClass("top_menu--query_focused")}),$(document).on("blur",".js-top-menu-query",function(){return $(this).closest(".top_menu").removeClass("top_menu--query_focused")}),$(document).on(lib.ui_util.textchange_events,".js-top-menu-query",function(){return $(this).val()<1?$(this).closest(".top_menu").removeClass("top_menu--contains_keyword"):$(this).closest(".top_menu").addClass("top_menu--contains_keyword")}),$(document).on("click",".js-top-menu-submit",function(){return $(this).closest(".top_menu__search_container").find(".js-menu-search").submit()}),$(document).on("focus",".js-top-menu-query",function(){var $query;return $query=$(this),$query.data("query",$query.val()),$(this).closest(".js-menu-search").on("submit",function(){return $query.attr("data-query",$query.val())})}),$(document).on("blur",".js-top-menu-query",function(){var $query,value;if($query=$(this),(value=$query.val())!==$query.data("query"))return $query.data("query",value),$(this).closest(".js-menu-search").submit()})})}.call(this),function(){var Widget;Widget=function(){function Widget(){}return Widget.prototype.is_new_tab=function(){return lib.data.get("new-tab")},Widget}(),app.widget=new Widget}.call(this),function(){}.call(this);